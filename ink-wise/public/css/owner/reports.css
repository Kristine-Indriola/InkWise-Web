/* header height variable (set if you have a fixed topbar) */
:root { --header-height: 0px; }

/* Make box-sizing predictable (prevents padding from increasing element height) */
*, *::before, *::after { box-sizing: border-box; }

/* Ensure only the document (browser) provides vertical scrolling */
html, body {
  height: auto;
  min-height: 100%;
  overflow-y: auto;      
  overflow-x: hidden;    
}

/* If you have a fixed header, subtract it from available viewport for content */
.main-content {
  min-height: calc(100vh - var(--header-height));
  display: block;        /* avoid full-height flex that can create nested scroll containers */
  padding-top: var(--header-height);
  overflow: visible !important;
}

/* Keep reports container in normal document flow */
.reports-container {
  display: block;
  padding: 24px;
  gap: 20px;             /* safe if still using gap in supported browsers */
  overflow: visible !important;
}

/* Charts: remove viewport-height caps and internal scrolling */
.charts {
  max-height: none !important;
  overflow: visible !important;
}

/* Chart card: keep sensible max so charts can't expand indefinitely */
.chart-card {
  min-height: 160px;
  max-height: 360px;     /* limits growth without forcing inner scroll */
  height: auto;
  overflow: visible !important;
}

/* Canvas sizing: responsive and bounded */
.chart-card canvas {
  width: 100% !important;
  height: auto !important;
  max-height: 320px !important;
  display: block;
}

/* Table area: allow the page to grow instead of internal scrolling */
.table-container {
  overflow: visible !important;   /* DO NOT scroll internally */
  flex: none !important;
  box-sizing: border-box;
}

/* Make table cells wrap rather than force long rows or widths */
.table-container th,
.table-container td {
  white-space: normal;
  word-break: break-word;
}

/* Utility: if any element still accidentally creates a scrollbar via inline styles,
   you can temporarily turn these on (use only while debugging):
   [style*="overflow:auto"], [style*="overflow:scroll"] { overflow: visible !important; }
*/

/* Smooth scrolling + mobile momentum */
html {
  scroll-behavior: smooth;            /* smooth scroll for anchor and programmatic scrolls */
  /* If you have a fixed header, set its height here so anchor targets don't get hidden:
     e.g. --header-height: 64px; */
  scroll-padding-top: var(--header-height, 0);
}

body {
  -webkit-overflow-scrolling: touch;  /* momentum scrolling on iOS */
}

/* If you ever need a smooth scroll-to-top button, use:
   document.documentElement.scrollTo({ top: 0, behavior: 'smooth' }); */

/* Make reports page fill viewport and allow internal panels to grow */
html, body {
  height: 100%;
  min-height: 100%;
}

/* Top-level content already had min-height; ensure parent container grows */
.main-content {
  min-height: 100vh; /* ensure the page area covers viewport */
  display: flex;
  flex-direction: column;
}

/* Allow reports container to expand and distribute space vertically */
.reports-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 24px;
  flex: 1 1 auto;
  box-sizing: border-box;
}

/* Summary cards keep their intrinsic height but don't force the whole page */
.summary-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  align-items: start;
}

/* Charts + table area share remaining vertical space */
.charts-and-table {
  /* optional wrapper if you choose to group charts+table; safe if not present */
  display: flex;
  flex-direction: column;
  gap: 18px;
  flex: 1 1 auto;
}

/* Make the charts grid stretch to fill available height */
.charts {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 18px !important;
  align-items: start !important;        /* prevent cards stretching */
  margin-bottom: 28px !important;
  overflow: visible !important;
}

/* If you want charts to expand and push table down, enable this:
   .charts { flex: 1 1 auto; } */

/* Chart card should stretch, and canvas should fill card */
.chart-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background: #fff;
  border-radius: 10px;
  box-sizing: border-box;
  min-height: 160px;
  max-height: 360px;     /* prevents charts from growing unbounded */
  height: auto;          /* do not force full-height expansion */
  flex: 1 1 auto;
  border: 1px solid rgba(15, 23, 42, 0.06);  /* clearer, but subtle border */
  box-shadow: 0 6px 18px rgba(2,6,23,0.04);  /* gentle lift for depth */
  transition: box-shadow 180ms ease, transform 120ms ease, border-color 160ms ease;
}

/* Slight highlight on hover to indicate interactivity (optional) */
.chart-card:hover {
  border-color: rgba(0,0,0,0.18);
  box-shadow: 0 10px 28px rgba(2,6,23,0.06);
  transform: translateY(-2px);
}

/* Give the canvas an inner subtle border so its chart area reads clearly on pale backgrounds */
.chart-card canvas {
  border-radius: 6px;
  border: 1px solid rgba(0,0,0,0.06);   /* visible but subtle inner border */
  background-clip: padding-box;
  /* keep responsive caps already present */
  max-height: 320px !important;
  display: block;
}

/* Small canvas rendering help â€” keeps text rendering crisp */
.chart-card canvas {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Table container: no internal scroll, let page scroll instead */
.table-container {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.06);
  margin: 0;
  flex: 0 0 auto;
  overflow: visible;
  min-height: 0;
  padding-top: 26px; /* keep some internal padding */
  border-top: 1px solid rgba(15, 23, 42, 0.04); /* subtle divider line */
  margin-top: 0; /* ensure spacing is controlled by charts' margin */
}

/* keep table formatting but allow it to expand the page height */
.table-container table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed; /* keeps column widths predictable */
}

/* Ensure long text breaks and wraps instead of pushing height */
.table-container th,
.table-container td {
  word-break: break-word;
  white-space: normal;
  vertical-align: middle;
}

/* Action buttons: blue = View, green = Download (table & standalone) */

.table-container .btn-view,
.btn-view {
  background-color: #2563EB; /* blue-600 */
  color: #ffffff;
  border: 1px solid rgba(37,99,235,0.12);
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  font-weight: 600;
}

.table-container .btn-view:hover,
.btn-view:hover {
  background-color: #1E40AF; /* blue-800 */
  transform: translateY(-1px);
}

.table-container .btn-view:focus,
.btn-view:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(37,99,235,0.12);
}

/* Download button - green */
.table-container .btn-download,
.btn-download {
  background-color: #16A34A; /* green-600 */
  color: #ffffff;
  border: 1px solid rgba(22,163,74,0.12);
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  font-weight: 600;
}

.table-container .btn-download:hover,
.btn-download:hover {
  background-color: #15803D; /* green-700 */
  transform: translateY(-1px);
}

.table-container .btn-download:focus,
.btn-download:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(16,185,129,0.12);
}

/* Optional: small spacing so buttons don't crowd in table cell */
.table-container td > .btn-view,
.table-container td > .btn-download {
  margin-right: 8px;
}

/* Disabled state (if you disable buttons via JS) */
.btn-view[disabled],
.btn-download[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Media query for smaller screen sizes */
@media (max-width: 640px){ .sidebar { width: 200px; } .table-container { margin: 10px; } }
@media (max-width: 900px) {
  .charts {
    grid-template-columns: 1fr;
  }
  .chart-card { min-height: 180px; }
  .chart-card canvas { height: 160px !important; }
  .charts { margin-bottom: 20px; }
  .table-container { padding-top: 18px; border-top-width: 1px; }
}

/* Report filter tabs (above the reports table) */
.report-filters {
  display: flex;
  gap: 8px;
  align-items: center;
  margin: 8px 0 12px;
  flex-wrap: wrap;
}

.filter-tab {
  background: transparent;
  border: 1px solid rgba(15,23,42,0.06);
  color: #0f172a;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 13px;
  transition: background .12s ease, border-color .12s ease, transform .08s ease;
}

.filter-tab:hover {
  background: rgba(37,99,235,0.06);
}

.filter-tab.active,
.filter-tab[aria-selected="true"] {
  background: #2563EB;
  color: #fff;
  border-color: rgba(37,99,235,0.12);
  box-shadow: 0 6px 12px rgba(37,99,235,0.08);
  transform: translateY(-1px);
}

/* Permanent accents for chart cards (visible even when not hovered) */

/* Sales chart accent (blue) */
.chart-card.chart-sales {
  border-left: 4px solid #2563EB;                      /* visible accent */
  border-color: rgba(37,99,235,0.22);                  /* fine-tune overall border tint */
}
.chart-card.chart-sales canvas {
  border: 1px solid rgba(37,99,235,0.06);              /* subtle inner tint matching accent */
}

/* Inventory chart accent (green) */
.chart-card.chart-inventory {
  border-left: 4px solid #16A34A;                      /* visible accent */
  border-color: rgba(16,163,74,0.20);
}
.chart-card.chart-inventory canvas {
  border: 1px solid rgba(16,163,74,0.06);
}

/* Optional: slightly stronger accent on hover still applied */
.chart-card.chart-sales:hover,
.chart-card.chart-inventory:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 28px rgba(2,6,23,0.06);
}

/* Strong overrides to prevent chart overflow */
.charts {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 18px !important;
  align-items: start !important;        /* prevent cards stretching */
  margin-bottom: 28px !important;
  overflow: visible !important;
}

/* clip anything that would overflow the card */
.chart-card {
  position: relative !important;
  overflow: hidden !important;          /* critical: stop bleed */
  box-sizing: border-box !important;
  padding: 12px !important;
  min-height: 160px !important;
  max-height: 360px !important;
}

/* fixed, reliable canvas rendering size (change 260px to taste) */
.chart-card canvas {
  display: block !important;
  width: 100% !important;
  height: 260px !important;            /* set the rendered chart height */
  max-height: 260px !important;
  box-sizing: border-box !important;
  border-radius: 6px !important;
}

/* responsive smaller height for narrow screens */
@media (max-width: 900px) {
  .chart-card canvas { height: 180px !important; max-height:180px !important; }
}

/* Make chart container larger: taller cards and bigger canvases */

.charts {
  grid-template-columns: 1fr 1fr !important;
  gap: 20px !important;
  align-items: start !important;
}

/* Taller chart cards (allows room for title + bigger canvas) */
.chart-card {
  min-height: 220px !important;   /* taller minimum */
  max-height: 520px !important;   /* allow more vertical room */
  padding: 14px !important;
}

/* Bigger canvas so Chart.js renders larger charts */
.chart-card canvas {
  height: 360px !important;       /* rendered height for desktop */
  max-height: 420px !important;   /* cap to avoid extreme growth */
  width: 100% !important;
  display: block !important;
  box-sizing: border-box !important;
}

/* Slightly smaller but still roomy on medium screens */
@media (max-width: 1200px) {
  .chart-card canvas {
    height: 320px !important;
    max-height: 380px !important;
  }
}

/* Mobile: keep charts readable but not huge */
@media (max-width: 900px) {
  .charts {
    grid-template-columns: 1fr !important;
  }
  .chart-card {
    min-height: 200px !important;
    max-height: 400px !important;
  }
  .chart-card canvas {
    height: 260px !important;    /* mobile rendered height */
    max-height: 300px !important;
  }
}

/* Generate Report button + dropdown */
.generate-report-btn {
  background: #111827;            /* dark button */
  color: #fff;
  border: 0;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 6px 12px rgba(17,24,39,0.12);
  transition: transform .08s ease, box-shadow .12s ease;
}

.generate-report-btn:hover,
.generate-report-btn:focus {
  transform: translateY(-1px);
  outline: none;
}

.generate-menu {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  background: #fff;
  border: 1px solid rgba(15, 23, 42, 0.06);
  border-radius: 8px;
  padding: 6px;
  min-width: 160px;
  display: none;
  box-shadow: 0 12px 30px rgba(2,6,23,0.08);
  z-index: 1200;
}

.generate-menu[aria-hidden="false"] {
  display: block;
}

.generate-item {
  display: block;
  width: 100%;
  text-align: left;
  padding: 8px 10px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-weight: 600;
  color: #0f172a;
  border-radius: 6px;
}

.generate-item:hover,
.generate-item:focus {
  background: rgba(37,99,235,0.06);
  outline: none;
}

/* Generate modal styles */
.generate-modal {
  position: fixed;
  inset: 0;
  display: none; /* controlled via [aria-hidden] attr + JS */
  align-items: center;
  justify-content: center;
  background: rgba(15, 23, 42, 0.55);
  z-index: 1200;
  padding: 28px 16px;
  -webkit-overflow-scrolling: touch;
}
.generate-modal[aria-hidden="false"] {
  display: flex;
}

.generate-modal-dialog {
  width: 100%;
  max-width: 680px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 18px 40px rgba(2,6,23,0.35);
  overflow: hidden;
  transform-origin: center;
  animation: modal-pop .12s ease-out;
}

/* Make Generate Report modal narrower for a cleaner, more focused dialog */
.generate-modal-dialog {
  max-width: 520px !important; /* smaller dialog width: change to 480px or 440px if you want it tighter */
  padding: 0; /* keep content controlled by inner elements */
}

/* Slightly reduce padding inside the modal for smaller widths */
.generate-modal-body { padding: 14px 16px 18px !important; }
.generate-modal-header { padding: 14px 16px !important; }

/* Ensure very small screens still display correctly */
@media (max-width: 520px) {
  .generate-modal-dialog { max-width: 92% !important; }
  .generate-modal-body { padding: 12px 12px 14px !important; }
  .generate-modal-header h2 { font-size: 16px; }
}

@keyframes modal-pop {
  from { transform: translateY(8px) scale(.995); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

.generate-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  border-bottom: 1px solid #eef2f7;
  background: linear-gradient(180deg,#ffffff, #fbfdff);
}
.generate-modal-header h2 {
  margin: 0;
  font-size: 18px;
  color: #0f172a;
  font-weight: 600;
  letter-spacing: -0.2px;
}
.generate-modal-close {
  background: transparent;
  border: 0;
  font-size: 18px;
  color: #475569;
  cursor: pointer;
  padding: 6px;
  border-radius: 6px;
}
.generate-modal-close:hover { background: rgba(15,23,42,0.04); }

.generate-modal-body { padding: 18px 20px 22px; }

.generate-form .form-row { margin-bottom: 14px; }
.form-label {
  display: block;
  font-size: 12px;
  color: #334155;
  margin-bottom: 6px;
  font-weight: 600;
  text-transform: none;
}
.form-control {
  width: 100%;
  box-sizing: border-box;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #e6eef6;
  background: #fff;
  font-size: 13px;
  color: #0f172a;
  outline: none;
}
.form-control:focus {
  border-color: #2b6cb0;
  box-shadow: 0 0 0 3px rgba(43,108,176,0.08);
}

.generate-modal .form-label {
  font-size: 14px !important;    /* was 12px */
  font-weight: 700 !important;   /* slightly bolder for clarity */
  color: #0f172a !important;
  letter-spacing: -0.2px;
}

/* radios inline */
.radio-row { display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
.radio-row label { font-size:13px; color:#0f172a; }

/* footer actions */
.generate-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 4px;
  padding-top: 6px;
  border-top: 1px solid #f1f5f9;
}
.btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:8px 12px; font-size:14px; border-radius:8px; cursor:pointer; border:1px solid transparent; }
.btn-primary { background:#2563eb; color:#fff; border-color: #2563eb; }
.btn-primary:hover { background:#1e4ed8; border-color:#1e4ed8; box-shadow: 0 6px 16px rgba(37,99,235,0.14); }
.btn-secondary { background:#fff; color:#0f172a; border-color:#e6eef6; }
.btn-secondary:hover { background:#f8fafc; }

/* ------------------------------
   Polished dropdown + caret styles
   Scoped under .report-filters to avoid global conflicts
   ------------------------------ */

.report-filters { margin: 18px 0; }

/* custom select wrapper */
.report-filters .custom-select {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}

/* styled native select (kept accessible and native) */
.report-filters .custom-select select {
  -webkit-appearance: none;
  appearance: none;
  display: inline-block;
  box-sizing: border-box;
  padding: 8px 44px 8px 14px; /* room for caret */
  height: 40px;
  min-width: 160px;
  font-size: 14px;
  font-weight: 700;
  color: #0f172a;
  background: linear-gradient(180deg, #ffffff 0%, #fbfdff 100%);
  border: 1px solid rgba(15,23,42,0.08);
  border-radius: 10px;
  box-shadow: 0 1px 2px rgba(2,6,23,0.04), inset 0 -1px 0 rgba(2,6,23,0.02);
  transition: box-shadow .15s ease, border-color .12s ease, transform .06s ease;
  cursor: pointer;
  -moz-appearance: none;
}

/* hover + focus states */
.report-filters .custom-select select:hover {
  box-shadow: 0 4px 14px rgba(2,6,23,0.06);
}
.report-filters .custom-select select:focus {
  outline: none;
  border-color: rgba(59,130,246,0.95);
  box-shadow: 0 10px 30px rgba(59,130,246,0.10);
  transform: translateY(-1px);
}

/* caret container (safe inline SVG will be placed next to select) */
.report-filters .custom-select .select-caret {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0.98;
}

/* slight caret animation on focus (visual polish) */
.report-filters .custom-select select:focus + .select-caret svg {
  transform: translateY(-2px);
  transition: transform .18s ease;
}

/* ensure disabled placeholder option looks subdued if used */
.report-filters .custom-select select option[disabled] {
  color: #6b7280;
  font-weight: 600;
}

/* keep Generate button visually aligned but scoped under report-filters */
.report-filters .generate-report-btn {
  margin-left: 6px;
  height: 40px;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 700;
  background: #0f172a;
  color: #fff;
  border: 1px solid rgba(15,23,42,0.08);
  box-shadow: 0 6px 18px rgba(15,23,42,0.06);
  cursor: pointer;
  transition: transform .08s ease, box-shadow .12s ease;
}
.report-filters .generate-report-btn:hover { transform: translateY(-1px); }

/* small responsive tweak so the select doesn't shrink awkwardly */
@media (max-width: 540px) {
  .report-filters .custom-select select { min-width: 120px; height: 36px; padding: 6px 36px 6px 10px; font-size: 13px; }
  .report-filters .generate-report-btn { height: 36px; padding: 6px 10px; margin-left: 8px; }
}
