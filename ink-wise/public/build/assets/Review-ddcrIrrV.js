import{c as v,j as e,r as n}from"./client-Cv0X-2PX.js";const w=()=>{const[r,u]=n.useState(window.reviewData||{});n.useEffect(()=>{r.product,console.log("Review component data:",r),console.log("Front image:",r.finalArtworkFront),console.log("Back image:",r.finalArtworkBack)},[]);const{product:g,finalArtworkFront:d,finalArtworkBack:p,orderSummary:f,customerReview:m,lastEditedAt:a}=r,[s,o]=n.useState("front"),h=d,x=p,l=t=>{if(console.log("Rendering artwork:",t?t.substring(0,100)+"...":"null"),!t)return e.jsx("div",{className:"preview-placeholder",children:"No preview available"});if(t.startsWith("data:image/svg+xml;base64,"))try{const i=atob(t.split(",")[1]);return console.log("Decoded SVG length:",i.length),e.jsx("div",{className:"preview-svg-container",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},dangerouslySetInnerHTML:{__html:i}})}catch(i){return console.error("Failed to decode SVG data URL:",i),e.jsx("img",{src:t,alt:"Design preview",className:"preview-image"})}return e.jsx("img",{src:t,alt:"Design preview",className:"preview-image"})};return e.jsx("div",{className:"review-shell",children:e.jsx("section",{className:"preview-card",children:e.jsxs("div",{className:"preview-layout",children:[e.jsxs("div",{className:"review-panel",children:[e.jsxs("div",{className:"sidebar-heading",children:[e.jsx("h1",{children:"Review your design"}),e.jsx("p",{children:"It will be printed like this preview. Make sure you are happy before continuing."})]}),e.jsxs("ul",{className:"review-checklist",children:[e.jsx("li",{children:"Are the text and images clear and easy to read?"}),e.jsx("li",{children:"Do the design elements fit in the safety area?"}),e.jsx("li",{children:"Does the background fill out to the edges?"}),e.jsx("li",{children:"Is everything spelled correctly?"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},children:[e.jsx("button",{style:{padding:"12px 24px",border:"none",borderRadius:"8px",background:"#6b7280",color:"white",fontSize:"15px",fontWeight:"600",cursor:"pointer"},onClick:()=>window.location.href=r.editHref,children:"Edit Design"}),e.jsx("button",{style:{padding:"12px 24px",border:"none",borderRadius:"8px",background:"#a6b7ff",color:"white",fontSize:"15px",fontWeight:"600",cursor:"pointer"},onClick:()=>window.location.href=r.continueHref,children:"Continue"})]})]}),e.jsxs("div",{className:"preview-display",children:[e.jsxs("div",{className:"preview-header",children:[e.jsx("h2",{children:"Final artwork preview"}),e.jsxs("span",{className:"last-updated",children:["Last updated: ",a?new Date(a).toLocaleString():"Just now"]})]}),e.jsxs("div",{className:"preview-toggle",role:"group","aria-label":"Preview sides",children:[e.jsx("button",{type:"button",className:`view-btn ${s==="front"?"active":""}`,onClick:()=>o("front"),"aria-pressed":s==="front",children:"Front"}),e.jsx("button",{type:"button",className:`view-btn ${s==="back"?"active":""}`,onClick:()=>o("back"),"aria-pressed":s==="back",children:"Back"})]}),e.jsx("div",{className:`card-flip ${s==="back"?"flipped":""}`,children:e.jsxs("div",{className:"inner",children:[e.jsx("div",{className:"card-face front",children:l(h)}),e.jsx("div",{className:"card-face back",children:l(x)})]})})]})]})})})},c=document.getElementById("review-react-root");c&&v.createRoot(c).render(e.jsx(w,{}));
