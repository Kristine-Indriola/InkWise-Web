function pd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qo={exports:{}},oa={},Vo={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu;function fp(){if(Lu)return be;Lu=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=R&&h[R]||h["@@iterator"],typeof h=="function"?h:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,ue={};function te(h,y,$){this.props=h,this.context=y,this.refs=ue,this.updater=$||ne}te.prototype.isReactComponent={},te.prototype.setState=function(h,y){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,y,"setState")},te.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function se(){}se.prototype=te.prototype;function Ie(h,y,$){this.props=h,this.context=y,this.refs=ue,this.updater=$||ne}var Ce=Ie.prototype=new se;Ce.constructor=Ie,le(Ce,te.prototype),Ce.isPureReactComponent=!0;var fe=Array.isArray,ke=Object.prototype.hasOwnProperty,ze={current:null},Ue={key:!0,ref:!0,__self:!0,__source:!0};function Ge(h,y,$){var Z,re={},ce=null,ie=null;if(y!=null)for(Z in y.ref!==void 0&&(ie=y.ref),y.key!==void 0&&(ce=""+y.key),y)ke.call(y,Z)&&!Ue.hasOwnProperty(Z)&&(re[Z]=y[Z]);var me=arguments.length-2;if(me===1)re.children=$;else if(1<me){for(var Se=Array(me),Pe=0;Pe<me;Pe++)Se[Pe]=arguments[Pe+2];re.children=Se}if(h&&h.defaultProps)for(Z in me=h.defaultProps,me)re[Z]===void 0&&(re[Z]=me[Z]);return{$$typeof:i,type:h,key:ce,ref:ie,props:re,_owner:ze.current}}function ft(h,y){return{$$typeof:i,type:h.type,key:y,ref:h.ref,props:h.props,_owner:h._owner}}function lt(h){return typeof h=="object"&&h!==null&&h.$$typeof===i}function Ae(h){var y={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function($){return y[$]})}var $e=/\/+/g;function Ne(h,y){return typeof h=="object"&&h!==null&&h.key!=null?Ae(""+h.key):y.toString(36)}function Te(h,y,$,Z,re){var ce=typeof h;(ce==="undefined"||ce==="boolean")&&(h=null);var ie=!1;if(h===null)ie=!0;else switch(ce){case"string":case"number":ie=!0;break;case"object":switch(h.$$typeof){case i:case a:ie=!0}}if(ie)return ie=h,re=re(ie),h=Z===""?"."+Ne(ie,0):Z,fe(re)?($="",h!=null&&($=h.replace($e,"$&/")+"/"),Te(re,y,$,"",function(Pe){return Pe})):re!=null&&(lt(re)&&(re=ft(re,$+(!re.key||ie&&ie.key===re.key?"":(""+re.key).replace($e,"$&/")+"/")+h)),y.push(re)),1;if(ie=0,Z=Z===""?".":Z+":",fe(h))for(var me=0;me<h.length;me++){ce=h[me];var Se=Z+Ne(ce,me);ie+=Te(ce,y,$,Se,re)}else if(Se=T(h),typeof Se=="function")for(h=Se.call(h),me=0;!(ce=h.next()).done;)ce=ce.value,Se=Z+Ne(ce,me++),ie+=Te(ce,y,$,Se,re);else if(ce==="object")throw y=String(h),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.");return ie}function je(h,y,$){if(h==null)return h;var Z=[],re=0;return Te(h,Z,"","",function(ce){return y.call($,ce,re++)}),Z}function Je(h){if(h._status===-1){var y=h._result;y=y(),y.then(function($){(h._status===0||h._status===-1)&&(h._status=1,h._result=$)},function($){(h._status===0||h._status===-1)&&(h._status=2,h._result=$)}),h._status===-1&&(h._status=0,h._result=y)}if(h._status===1)return h._result.default;throw h._result}var He={current:null},B={transition:null},J={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:B,ReactCurrentOwner:ze};function Y(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:je,forEach:function(h,y,$){je(h,function(){y.apply(this,arguments)},$)},count:function(h){var y=0;return je(h,function(){y++}),y},toArray:function(h){return je(h,function(y){return y})||[]},only:function(h){if(!lt(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},be.Component=te,be.Fragment=s,be.Profiler=p,be.PureComponent=Ie,be.StrictMode=f,be.Suspense=b,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,be.act=Y,be.cloneElement=function(h,y,$){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var Z=le({},h.props),re=h.key,ce=h.ref,ie=h._owner;if(y!=null){if(y.ref!==void 0&&(ce=y.ref,ie=ze.current),y.key!==void 0&&(re=""+y.key),h.type&&h.type.defaultProps)var me=h.type.defaultProps;for(Se in y)ke.call(y,Se)&&!Ue.hasOwnProperty(Se)&&(Z[Se]=y[Se]===void 0&&me!==void 0?me[Se]:y[Se])}var Se=arguments.length-2;if(Se===1)Z.children=$;else if(1<Se){me=Array(Se);for(var Pe=0;Pe<Se;Pe++)me[Pe]=arguments[Pe+2];Z.children=me}return{$$typeof:i,type:h.type,key:re,ref:ce,props:Z,_owner:ie}},be.createContext=function(h){return h={$$typeof:N,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:v,_context:h},h.Consumer=h},be.createElement=Ge,be.createFactory=function(h){var y=Ge.bind(null,h);return y.type=h,y},be.createRef=function(){return{current:null}},be.forwardRef=function(h){return{$$typeof:C,render:h}},be.isValidElement=lt,be.lazy=function(h){return{$$typeof:L,_payload:{_status:-1,_result:h},_init:Je}},be.memo=function(h,y){return{$$typeof:E,type:h,compare:y===void 0?null:y}},be.startTransition=function(h){var y=B.transition;B.transition={};try{h()}finally{B.transition=y}},be.unstable_act=Y,be.useCallback=function(h,y){return He.current.useCallback(h,y)},be.useContext=function(h){return He.current.useContext(h)},be.useDebugValue=function(){},be.useDeferredValue=function(h){return He.current.useDeferredValue(h)},be.useEffect=function(h,y){return He.current.useEffect(h,y)},be.useId=function(){return He.current.useId()},be.useImperativeHandle=function(h,y,$){return He.current.useImperativeHandle(h,y,$)},be.useInsertionEffect=function(h,y){return He.current.useInsertionEffect(h,y)},be.useLayoutEffect=function(h,y){return He.current.useLayoutEffect(h,y)},be.useMemo=function(h,y){return He.current.useMemo(h,y)},be.useReducer=function(h,y,$){return He.current.useReducer(h,y,$)},be.useRef=function(h){return He.current.useRef(h)},be.useState=function(h){return He.current.useState(h)},be.useSyncExternalStore=function(h,y,$){return He.current.useSyncExternalStore(h,y,$)},be.useTransition=function(){return He.current.useTransition()},be.version="18.3.1",be}var zu;function fs(){return zu||(zu=1,Vo.exports=fp()),Vo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu;function pp(){if(Tu)return oa;Tu=1;var i=fs(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,p=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function N(C,b,E){var L,R={},T=null,ne=null;E!==void 0&&(T=""+E),b.key!==void 0&&(T=""+b.key),b.ref!==void 0&&(ne=b.ref);for(L in b)f.call(b,L)&&!v.hasOwnProperty(L)&&(R[L]=b[L]);if(C&&C.defaultProps)for(L in b=C.defaultProps,b)R[L]===void 0&&(R[L]=b[L]);return{$$typeof:a,type:C,key:T,ref:ne,props:R,_owner:p.current}}return oa.Fragment=s,oa.jsx=N,oa.jsxs=N,oa}var Du;function hp(){return Du||(Du=1,Qo.exports=pp()),Qo.exports}var c=hp(),_=fs();const ps=pd(_);var cl={},Xo={exports:{}},Zt={},Ko={exports:{}},Jo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu;function mp(){return Fu||(Fu=1,(function(i){function a(B,J){var Y=B.length;B.push(J);e:for(;0<Y;){var h=Y-1>>>1,y=B[h];if(0<p(y,J))B[h]=J,B[Y]=y,Y=h;else break e}}function s(B){return B.length===0?null:B[0]}function f(B){if(B.length===0)return null;var J=B[0],Y=B.pop();if(Y!==J){B[0]=Y;e:for(var h=0,y=B.length,$=y>>>1;h<$;){var Z=2*(h+1)-1,re=B[Z],ce=Z+1,ie=B[ce];if(0>p(re,Y))ce<y&&0>p(ie,re)?(B[h]=ie,B[ce]=Y,h=ce):(B[h]=re,B[Z]=Y,h=Z);else if(ce<y&&0>p(ie,Y))B[h]=ie,B[ce]=Y,h=ce;else break e}}return J}function p(B,J){var Y=B.sortIndex-J.sortIndex;return Y!==0?Y:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;i.unstable_now=function(){return v.now()}}else{var N=Date,C=N.now();i.unstable_now=function(){return N.now()-C}}var b=[],E=[],L=1,R=null,T=3,ne=!1,le=!1,ue=!1,te=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ce(B){for(var J=s(E);J!==null;){if(J.callback===null)f(E);else if(J.startTime<=B)f(E),J.sortIndex=J.expirationTime,a(b,J);else break;J=s(E)}}function fe(B){if(ue=!1,Ce(B),!le)if(s(b)!==null)le=!0,Je(ke);else{var J=s(E);J!==null&&He(fe,J.startTime-B)}}function ke(B,J){le=!1,ue&&(ue=!1,se(Ge),Ge=-1),ne=!0;var Y=T;try{for(Ce(J),R=s(b);R!==null&&(!(R.expirationTime>J)||B&&!Ae());){var h=R.callback;if(typeof h=="function"){R.callback=null,T=R.priorityLevel;var y=h(R.expirationTime<=J);J=i.unstable_now(),typeof y=="function"?R.callback=y:R===s(b)&&f(b),Ce(J)}else f(b);R=s(b)}if(R!==null)var $=!0;else{var Z=s(E);Z!==null&&He(fe,Z.startTime-J),$=!1}return $}finally{R=null,T=Y,ne=!1}}var ze=!1,Ue=null,Ge=-1,ft=5,lt=-1;function Ae(){return!(i.unstable_now()-lt<ft)}function $e(){if(Ue!==null){var B=i.unstable_now();lt=B;var J=!0;try{J=Ue(!0,B)}finally{J?Ne():(ze=!1,Ue=null)}}else ze=!1}var Ne;if(typeof Ie=="function")Ne=function(){Ie($e)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,je=Te.port2;Te.port1.onmessage=$e,Ne=function(){je.postMessage(null)}}else Ne=function(){te($e,0)};function Je(B){Ue=B,ze||(ze=!0,Ne())}function He(B,J){Ge=te(function(){B(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){le||ne||(le=!0,Je(ke))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return s(b)},i.unstable_next=function(B){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var Y=T;T=J;try{return B()}finally{T=Y}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=T;T=B;try{return J()}finally{T=Y}},i.unstable_scheduleCallback=function(B,J,Y){var h=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?h+Y:h):Y=h,B){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=Y+y,B={id:L++,callback:J,priorityLevel:B,startTime:Y,expirationTime:y,sortIndex:-1},Y>h?(B.sortIndex=Y,a(E,B),s(b)===null&&B===s(E)&&(ue?(se(Ge),Ge=-1):ue=!0,He(fe,Y-h))):(B.sortIndex=y,a(b,B),le||ne||(le=!0,Je(ke))),B},i.unstable_shouldYield=Ae,i.unstable_wrapCallback=function(B){var J=T;return function(){var Y=T;T=J;try{return B.apply(this,arguments)}finally{T=Y}}}})(Jo)),Jo}var Ou;function gp(){return Ou||(Ou=1,Ko.exports=mp()),Ko.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function vp(){if(Uu)return Zt;Uu=1;var i=fs(),a=gp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,p={};function v(e,t){N(e,t),N(e+"Capture",t)}function N(e,t){for(p[e]=t,e=0;e<t.length;e++)f.add(t[e])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L={},R={};function T(e){return b.call(R,e)?!0:b.call(L,e)?!1:E.test(e)?R[e]=!0:(L[e]=!0,!1)}function ne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function le(e,t,n,r){if(t===null||typeof t>"u"||ne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ue(e,t,n,r,l,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){te[e]=new ue(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];te[t]=new ue(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){te[e]=new ue(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){te[e]=new ue(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){te[e]=new ue(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){te[e]=new ue(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){te[e]=new ue(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){te[e]=new ue(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){te[e]=new ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function Ie(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(se,Ie);te[t]=new ue(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(se,Ie);te[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(se,Ie);te[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){te[e]=new ue(e,1,!1,e.toLowerCase(),null,!1,!1)}),te.xlinkHref=new ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){te[e]=new ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ce(e,t,n,r){var l=te.hasOwnProperty(t)?te[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(le(t,n,l,r)&&(n=null),r||l===null?T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),ze=Symbol.for("react.portal"),Ue=Symbol.for("react.fragment"),Ge=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),B=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,h;function y(e){if(h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h=t&&t[1]||""}return`
`+h+e}var $=!1;function Z(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var r=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){r=P}e.call(t.prototype)}else{try{throw Error()}catch(P){r=P}e()}}catch(P){if(P&&r&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),o=r.stack.split(`
`),u=l.length-1,g=o.length-1;1<=u&&0<=g&&l[u]!==o[g];)g--;for(;1<=u&&0<=g;u--,g--)if(l[u]!==o[g]){if(u!==1||g!==1)do if(u--,g--,0>g||l[u]!==o[g]){var w=`
`+l[u].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=u&&0<=g);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?y(e):""}function re(e){switch(e.tag){case 5:return y(e.type);case 16:return y("Lazy");case 13:return y("Suspense");case 19:return y("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ue:return"Fragment";case ze:return"Portal";case ft:return"Profiler";case Ge:return"StrictMode";case Ne:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ae:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case $e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pe(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function St(e){e._valueTracker||(e._valueTracker=Pe(e))}function kn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qe(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pt(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=me(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function et(e,t){t=t.checked,t!=null&&Ce(e,"checked",t,!1)}function Be(e,t){et(e,t);var n=me(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gt(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function it(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gt(e,t,n){(t!=="number"||vt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yt=Array.isArray;function bt(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function En(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(Yt(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function ir(e,t){var n=me(t.value),r=me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jn,xe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(e){Pn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yt[t]=yt[e]})});function Lr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yt.hasOwnProperty(e)&&yt[e]?(""+t).trim():t+"px"}function ar(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Lr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Fn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function On(e,t){if(t){if(Fn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function lr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hn=null,mn=null,Bn=null;function $n(e){if(e=Gi(e)){if(typeof Hn!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Na(t),Hn(e.stateNode,e.type,t))}}function It(e){mn?Bn?Bn.push(e):Bn=[e]:mn=e}function zr(){if(mn){var e=mn,t=Bn;if(Bn=mn=null,$n(e),t)for(e=0;e<t.length;e++)$n(t[e])}}function Rt(e,t){return e(t)}function gn(){}var Me=!1;function Tr(e,t,n){if(Me)return e(t,n);Me=!0;try{return Rt(e,t,n)}finally{Me=!1,(mn!==null||Bn!==null)&&(gn(),zr())}}function Qt(e,t){var n=e.stateNode;if(n===null)return null;var r=Na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Zn=!1;if(C)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Zn=!1}function tt(e,t,n,r,l,o,u,g,w){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(F){this.onError(F)}}var vn=!1,yn=null,or=!1,W=null,Tt={onError:function(e){vn=!0,yn=e}};function Dr(e,t,n,r,l,o,u,g,w){vn=!1,yn=null,tt.apply(Tt,arguments)}function Rn(e,t,n,r,l,o,u,g,w){if(Dr.apply(this,arguments),vn){if(vn){var P=yn;vn=!1,yn=null}else throw Error(s(198));or||(or=!0,W=P)}}function _t(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jr(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qr(e){if(_t(e)!==e)throw Error(s(188))}function ji(e){var t=e.alternate;if(!t){if(t=_t(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return qr(l),e;if(o===r)return qr(l),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=l,r=o;else{for(var u=!1,g=l.child;g;){if(g===n){u=!0,n=l,r=o;break}if(g===r){u=!0,r=l,n=o;break}g=g.sibling}if(!u){for(g=o.child;g;){if(g===n){u=!0,n=o,r=l;break}if(g===r){u=!0,r=o,n=l;break}g=g.sibling}if(!u)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Wn(e){return e=ji(e),e!==null?Gn(e):null}function Gn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gn(e);if(t!==null)return t;e=e.sibling}return null}var sr=a.unstable_scheduleCallback,Fr=a.unstable_cancelCallback,cr=a.unstable_shouldYield,ur=a.unstable_requestPaint,Ye=a.unstable_now,dr=a.unstable_getCurrentPriorityLevel,Yn=a.unstable_ImmediatePriority,ei=a.unstable_UserBlockingPriority,Qn=a.unstable_NormalPriority,Or=a.unstable_LowPriority,fr=a.unstable_IdlePriority,pr=null,Dt=null;function hr(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(pr,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:ti,Pi=Math.log,Ri=Math.LN2;function ti(e){return e>>>=0,e===0?32:31-(Pi(e)/Ri|0)|0}var mr=64,an=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xn(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var g=u&~l;g!==0?r=wn(g):(o&=u,o!==0&&(r=wn(o)))}else u=n&~l,u!==0?r=wn(u):o!==0&&(r=wn(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),l=1<<n,r|=e[n],t&=~l;return r}function gr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-At(o),g=1<<u,w=l[u];w===-1?((g&n)===0||(g&r)!==0)&&(l[u]=gr(g,t)):w<=t&&(e.expiredLanes|=g),o&=~g}}function vr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x(){var e=mr;return mr<<=1,(mr&4194240)===0&&(mr=64),e}function z(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function m(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function d(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-At(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function S(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var M=0;function A(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var G,Q,X,U,de,ye=!1,_e=[],ge=null,Ee=null,V=null,Fe=new Map,we=new Map,We=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function st(e,t){switch(e){case"focusin":case"focusout":ge=null;break;case"dragenter":case"dragleave":Ee=null;break;case"mouseover":case"mouseout":V=null;break;case"pointerover":case"pointerout":Fe.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":we.delete(t.pointerId)}}function Vt(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Gi(t),t!==null&&Q(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ln(e,t,n,r,l){switch(t){case"focusin":return ge=Vt(ge,e,t,n,r,l),!0;case"dragenter":return Ee=Vt(Ee,e,t,n,r,l),!0;case"mouseover":return V=Vt(V,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Fe.set(o,Vt(Fe.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,we.set(o,Vt(we.get(o)||null,e,t,n,r,l)),!0}return!1}function Xt(e){var t=Ur(e.target);if(t!==null){var n=_t(t);if(n!==null){if(t=n.tag,t===13){if(t=Jr(n),t!==null){e.blockedOn=t,de(e.priority,function(){X(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ct(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rn=r,n.target.dispatchEvent(r),rn=null}else return t=Gi(n),t!==null&&Q(t),e.blockedOn=n,!1;t.shift()}return!0}function ri(e,t,n){Ct(e)&&n.delete(t)}function zd(){ye=!1,ge!==null&&Ct(ge)&&(ge=null),Ee!==null&&Ct(Ee)&&(Ee=null),V!==null&&Ct(V)&&(V=null),Fe.forEach(ri),we.forEach(ri)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,ye||(ye=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zd)))}function Li(e){function t(l){return Ai(l,e)}if(0<_e.length){Ai(_e[0],e);for(var n=1;n<_e.length;n++){var r=_e[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ge!==null&&Ai(ge,e),Ee!==null&&Ai(Ee,e),V!==null&&Ai(V,e),Fe.forEach(t),we.forEach(t),n=0;n<We.length;n++)r=We[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<We.length&&(n=We[0],n.blockedOn===null);)Xt(n),n.blockedOn===null&&We.shift()}var ii=fe.ReactCurrentBatchConfig,da=!0;function Td(e,t,n,r){var l=M,o=ii.transition;ii.transition=null;try{M=1,wl(e,t,n,r)}finally{M=l,ii.transition=o}}function Dd(e,t,n,r){var l=M,o=ii.transition;ii.transition=null;try{M=4,wl(e,t,n,r)}finally{M=l,ii.transition=o}}function wl(e,t,n,r){if(da){var l=xl(e,t,n,r);if(l===null)Dl(e,t,r,fa,n),st(e,r);else if(ln(l,e,t,n,r))r.stopPropagation();else if(st(e,r),t&4&&-1<Ft.indexOf(e)){for(;l!==null;){var o=Gi(l);if(o!==null&&G(o),o=xl(e,t,n,r),o===null&&Dl(e,t,r,fa,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var fa=null;function xl(e,t,n,r){if(fa=null,e=Un(r),e=Ur(e),e!==null)if(t=_t(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jr(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fa=e,null}function xs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dr()){case Yn:return 1;case ei:return 4;case Qn:case Or:return 16;case fr:return 536870912;default:return 16}default:return 16}}var yr=null,Sl=null,pa=null;function Ss(){if(pa)return pa;var e,t=Sl,n=t.length,r,l="value"in yr?yr.value:yr.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[o-r];r++);return pa=l.slice(e,1<r?1-r:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ma(){return!0}function bs(){return!1}function Kt(e){function t(n,r,l,o,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ma:bs,this.isPropagationStopped=bs,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Kt(ai),zi=Y({},ai,{view:0,detail:0}),Fd=Kt(zi),Il,Nl,Ti,ga=Y({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Il=e.screenX-Ti.screenX,Nl=e.screenY-Ti.screenY):Nl=Il=0,Ti=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),Is=Kt(ga),Od=Y({},ga,{dataTransfer:0}),Ud=Kt(Od),Hd=Y({},zi,{relatedTarget:0}),_l=Kt(Hd),Bd=Y({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),$d=Kt(Bd),Zd=Y({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wd=Kt(Zd),Gd=Y({},ai,{data:0}),Ns=Kt(Gd),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vd[e])?!!t[e]:!1}function Cl(){return Xd}var Kd=Y({},zi,{key:function(e){if(e.key){var t=Yd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jd=Kt(Kd),qd=Y({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=Kt(qd),ef=Y({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),tf=Kt(ef),nf=Y({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),rf=Kt(nf),af=Y({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lf=Kt(af),of=[9,13,27,32],Ml=C&&"CompositionEvent"in window,Di=null;C&&"documentMode"in document&&(Di=document.documentMode);var sf=C&&"TextEvent"in window&&!Di,Cs=C&&(!Ml||Di&&8<Di&&11>=Di),Ms=" ",ks=!1;function Es(e,t){switch(e){case"keyup":return of.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function js(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function cf(e,t){switch(e){case"compositionend":return js(t);case"keypress":return t.which!==32?null:(ks=!0,Ms);case"textInput":return e=t.data,e===Ms&&ks?null:e;default:return null}}function uf(e,t){if(li)return e==="compositionend"||!Ml&&Es(e,t)?(e=Ss(),pa=Sl=yr=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cs&&t.locale!=="ko"?null:t.data;default:return null}}var df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!df[e.type]:t==="textarea"}function Rs(e,t,n,r){It(r),t=Sa(t,"onChange"),0<t.length&&(n=new bl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fi=null,Oi=null;function ff(e){Xs(e,0)}function va(e){var t=di(e);if(kn(t))return e}function pf(e,t){if(e==="change")return t}var As=!1;if(C){var kl;if(C){var El="oninput"in document;if(!El){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),El=typeof Ls.oninput=="function"}kl=El}else kl=!1;As=kl&&(!document.documentMode||9<document.documentMode)}function zs(){Fi&&(Fi.detachEvent("onpropertychange",Ts),Oi=Fi=null)}function Ts(e){if(e.propertyName==="value"&&va(Oi)){var t=[];Rs(t,Oi,e,Un(e)),Tr(ff,t)}}function hf(e,t,n){e==="focusin"?(zs(),Fi=t,Oi=n,Fi.attachEvent("onpropertychange",Ts)):e==="focusout"&&zs()}function mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(Oi)}function gf(e,t){if(e==="click")return va(t)}function vf(e,t){if(e==="input"||e==="change")return va(t)}function yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:yf;function Ui(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!b.call(t,l)||!Sn(e[l],t[l]))return!1}return!0}function Ds(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fs(e,t){var n=Ds(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ds(n)}}function Os(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Os(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Us(){for(var e=window,t=vt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vt(e.document)}return t}function jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wf(e){var t=Us(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Os(n.ownerDocument.documentElement,n)){if(r!==null&&jl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Fs(n,o);var u=Fs(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xf=C&&"documentMode"in document&&11>=document.documentMode,oi=null,Pl=null,Hi=null,Rl=!1;function Hs(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rl||oi==null||oi!==vt(r)||(r=oi,"selectionStart"in r&&jl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&Ui(Hi,r)||(Hi=r,r=Sa(Pl,"onSelect"),0<r.length&&(t=new bl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Al={},Bs={};C&&(Bs=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function wa(e){if(Al[e])return Al[e];if(!si[e])return e;var t=si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bs)return Al[e]=t[n];return e}var $s=wa("animationend"),Zs=wa("animationiteration"),Ws=wa("animationstart"),Gs=wa("transitionend"),Ys=new Map,Qs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){Ys.set(e,t),v(t,[e])}for(var Ll=0;Ll<Qs.length;Ll++){var zl=Qs[Ll],Sf=zl.toLowerCase(),bf=zl[0].toUpperCase()+zl.slice(1);wr(Sf,"on"+bf)}wr($s,"onAnimationEnd"),wr(Zs,"onAnimationIteration"),wr(Ws,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Gs,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),v("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v("onBeforeInput",["compositionend","keypress","textInput","paste"]),v("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),If=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Vs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rn(r,t,void 0,e),e.currentTarget=null}function Xs(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var g=r[u],w=g.instance,P=g.currentTarget;if(g=g.listener,w!==o&&l.isPropagationStopped())break e;Vs(l,g,P),o=w}else for(u=0;u<r.length;u++){if(g=r[u],w=g.instance,P=g.currentTarget,g=g.listener,w!==o&&l.isPropagationStopped())break e;Vs(l,g,P),o=w}}}if(or)throw e=W,or=!1,W=null,e}function Ve(e,t){var n=t[$l];n===void 0&&(n=t[$l]=new Set);var r=e+"__bubble";n.has(r)||(Ks(t,e,2,!1),n.add(r))}function Tl(e,t,n){var r=0;t&&(r|=4),Ks(n,e,r,t)}var xa="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[xa]){e[xa]=!0,f.forEach(function(n){n!=="selectionchange"&&(If.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xa]||(t[xa]=!0,Tl("selectionchange",!1,t))}}function Ks(e,t,n,r){switch(xs(t)){case 1:var l=Td;break;case 4:l=Dd;break;default:l=wl}n=l.bind(null,t,n,e),l=void 0,!Zn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var g=r.stateNode.containerInfo;if(g===l||g.nodeType===8&&g.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var w=u.tag;if((w===3||w===4)&&(w=u.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;u=u.return}for(;g!==null;){if(u=Ur(g),u===null)return;if(w=u.tag,w===5||w===6){r=o=u;continue e}g=g.parentNode}}r=r.return}Tr(function(){var P=o,F=Un(n),O=[];e:{var D=Ys.get(e);if(D!==void 0){var K=bl,ee=e;switch(e){case"keypress":if(ha(n)===0)break e;case"keydown":case"keyup":K=Jd;break;case"focusin":ee="focus",K=_l;break;case"focusout":ee="blur",K=_l;break;case"beforeblur":case"afterblur":K=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=tf;break;case $s:case Zs:case Ws:K=$d;break;case Gs:K=rf;break;case"scroll":K=Fd;break;case"wheel":K=lf;break;case"copy":case"cut":case"paste":K=Wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=_s}var ae=(t&4)!==0,ot=!ae&&e==="scroll",k=ae?D!==null?D+"Capture":null:D;ae=[];for(var I=P,j;I!==null;){j=I;var H=j.stateNode;if(j.tag===5&&H!==null&&(j=H,k!==null&&(H=Qt(I,k),H!=null&&ae.push(Zi(I,H,j)))),ot)break;I=I.return}0<ae.length&&(D=new K(D,ee,null,n,F),O.push({event:D,listeners:ae}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",D&&n!==rn&&(ee=n.relatedTarget||n.fromElement)&&(Ur(ee)||ee[Vn]))break e;if((K||D)&&(D=F.window===F?F:(D=F.ownerDocument)?D.defaultView||D.parentWindow:window,K?(ee=n.relatedTarget||n.toElement,K=P,ee=ee?Ur(ee):null,ee!==null&&(ot=_t(ee),ee!==ot||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(K=null,ee=P),K!==ee)){if(ae=Is,H="onMouseLeave",k="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(ae=_s,H="onPointerLeave",k="onPointerEnter",I="pointer"),ot=K==null?D:di(K),j=ee==null?D:di(ee),D=new ae(H,I+"leave",K,n,F),D.target=ot,D.relatedTarget=j,H=null,Ur(F)===P&&(ae=new ae(k,I+"enter",ee,n,F),ae.target=j,ae.relatedTarget=ot,H=ae),ot=H,K&&ee)t:{for(ae=K,k=ee,I=0,j=ae;j;j=ci(j))I++;for(j=0,H=k;H;H=ci(H))j++;for(;0<I-j;)ae=ci(ae),I--;for(;0<j-I;)k=ci(k),j--;for(;I--;){if(ae===k||k!==null&&ae===k.alternate)break t;ae=ci(ae),k=ci(k)}ae=null}else ae=null;K!==null&&Js(O,D,K,ae,!1),ee!==null&&ot!==null&&Js(O,ot,ee,ae,!0)}}e:{if(D=P?di(P):window,K=D.nodeName&&D.nodeName.toLowerCase(),K==="select"||K==="input"&&D.type==="file")var oe=pf;else if(Ps(D))if(As)oe=vf;else{oe=mf;var pe=hf}else(K=D.nodeName)&&K.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(oe=gf);if(oe&&(oe=oe(e,P))){Rs(O,oe,n,F);break e}pe&&pe(e,D,P),e==="focusout"&&(pe=D._wrapperState)&&pe.controlled&&D.type==="number"&&Gt(D,"number",D.value)}switch(pe=P?di(P):window,e){case"focusin":(Ps(pe)||pe.contentEditable==="true")&&(oi=pe,Pl=P,Hi=null);break;case"focusout":Hi=Pl=oi=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Hs(O,n,F);break;case"selectionchange":if(xf)break;case"keydown":case"keyup":Hs(O,n,F)}var he;if(Ml)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else li?Es(e,n)&&(ve="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(Cs&&n.locale!=="ko"&&(li||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&li&&(he=Ss()):(yr=F,Sl="value"in yr?yr.value:yr.textContent,li=!0)),pe=Sa(P,ve),0<pe.length&&(ve=new Ns(ve,e,null,n,F),O.push({event:ve,listeners:pe}),he?ve.data=he:(he=js(n),he!==null&&(ve.data=he)))),(he=sf?cf(e,n):uf(e,n))&&(P=Sa(P,"onBeforeInput"),0<P.length&&(F=new Ns("onBeforeInput","beforeinput",null,n,F),O.push({event:F,listeners:P}),F.data=he))}Xs(O,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sa(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Qt(e,n),o!=null&&r.unshift(Zi(e,o,l)),o=Qt(e,t),o!=null&&r.push(Zi(e,o,l))),e=e.return}return r}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Js(e,t,n,r,l){for(var o=t._reactName,u=[];n!==null&&n!==r;){var g=n,w=g.alternate,P=g.stateNode;if(w!==null&&w===r)break;g.tag===5&&P!==null&&(g=P,l?(w=Qt(n,o),w!=null&&u.unshift(Zi(n,w,g))):l||(w=Qt(n,o),w!=null&&u.push(Zi(n,w,g)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Nf=/\r\n?/g,_f=/\u0000|\uFFFD/g;function qs(e){return(typeof e=="string"?e:""+e).replace(Nf,`
`).replace(_f,"")}function ba(e,t,n){if(t=qs(t),qs(e)!==t&&n)throw Error(s(425))}function Ia(){}var Fl=null,Ol=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,ec=typeof Promise=="function"?Promise:void 0,Mf=typeof queueMicrotask=="function"?queueMicrotask:typeof ec<"u"?function(e){return ec.resolve(null).then(e).catch(kf)}:Hl;function kf(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Li(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),An="__reactFiber$"+ui,Wi="__reactProps$"+ui,Vn="__reactContainer$"+ui,$l="__reactEvents$"+ui,Ef="__reactListeners$"+ui,jf="__reactHandles$"+ui;function Ur(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tc(e);e!==null;){if(n=e[An])return n;e=tc(e)}return t}e=n,n=e.parentNode}return null}function Gi(e){return e=e[An]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Na(e){return e[Wi]||null}var Zl=[],fi=-1;function Sr(e){return{current:e}}function Xe(e){0>fi||(e.current=Zl[fi],Zl[fi]=null,fi--)}function Qe(e,t){fi++,Zl[fi]=e.current,e.current=t}var br={},Mt=Sr(br),Ot=Sr(!1),Hr=br;function pi(e,t){var n=e.type.contextTypes;if(!n)return br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ut(e){return e=e.childContextTypes,e!=null}function _a(){Xe(Ot),Xe(Mt)}function nc(e,t,n){if(Mt.current!==br)throw Error(s(168));Qe(Mt,t),Qe(Ot,n)}function rc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(s(108,ie(e)||"Unknown",l));return Y({},n,r)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Hr=Mt.current,Qe(Mt,e),Qe(Ot,Ot.current),!0}function ic(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=rc(e,t,Hr),r.__reactInternalMemoizedMergedChildContext=e,Xe(Ot),Xe(Mt),Qe(Mt,e)):Xe(Ot),Qe(Ot,n)}var Xn=null,Ma=!1,Wl=!1;function ac(e){Xn===null?Xn=[e]:Xn.push(e)}function Pf(e){Ma=!0,ac(e)}function Ir(){if(!Wl&&Xn!==null){Wl=!0;var e=0,t=M;try{var n=Xn;for(M=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xn=null,Ma=!1}catch(l){throw Xn!==null&&(Xn=Xn.slice(e+1)),sr(Yn,Ir),l}finally{M=t,Wl=!1}}return null}var hi=[],mi=0,ka=null,Ea=0,on=[],sn=0,Br=null,Kn=1,Jn="";function $r(e,t){hi[mi++]=Ea,hi[mi++]=ka,ka=e,Ea=t}function lc(e,t,n){on[sn++]=Kn,on[sn++]=Jn,on[sn++]=Br,Br=e;var r=Kn;e=Jn;var l=32-At(r)-1;r&=~(1<<l),n+=1;var o=32-At(t)+l;if(30<o){var u=l-l%5;o=(r&(1<<u)-1).toString(32),r>>=u,l-=u,Kn=1<<32-At(t)+l|n<<l|r,Jn=o+e}else Kn=1<<o|n<<l|r,Jn=e}function Gl(e){e.return!==null&&($r(e,1),lc(e,1,0))}function Yl(e){for(;e===ka;)ka=hi[--mi],hi[mi]=null,Ea=hi[--mi],hi[mi]=null;for(;e===Br;)Br=on[--sn],on[sn]=null,Jn=on[--sn],on[sn]=null,Kn=on[--sn],on[sn]=null}var Jt=null,qt=null,Ke=!1,bn=null;function oc(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,qt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:Kn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,qt=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(Ke){var t=qt;if(t){var n=t;if(!sc(e,t)){if(Ql(e))throw Error(s(418));t=xr(n.nextSibling);var r=Jt;t&&sc(e,t)?oc(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Jt=e)}}else{if(Ql(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ke=!1,Jt=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function ja(e){if(e!==Jt)return!1;if(!Ke)return cc(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=qt)){if(Ql(e))throw uc(),Error(s(418));for(;t;)oc(e,t),t=xr(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Jt?xr(e.stateNode.nextSibling):null;return!0}function uc(){for(var e=qt;e;)e=xr(e.nextSibling)}function gi(){qt=Jt=null,Ke=!1}function Xl(e){bn===null?bn=[e]:bn.push(e)}var Rf=fe.ReactCurrentBatchConfig;function Yi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var g=l.refs;u===null?delete g[o]:g[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Pa(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dc(e){var t=e._init;return t(e._payload)}function fc(e){function t(k,I){if(e){var j=k.deletions;j===null?(k.deletions=[I],k.flags|=16):j.push(I)}}function n(k,I){if(!e)return null;for(;I!==null;)t(k,I),I=I.sibling;return null}function r(k,I){for(k=new Map;I!==null;)I.key!==null?k.set(I.key,I):k.set(I.index,I),I=I.sibling;return k}function l(k,I){return k=Pr(k,I),k.index=0,k.sibling=null,k}function o(k,I,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<I?(k.flags|=2,I):j):(k.flags|=2,I)):(k.flags|=1048576,I)}function u(k){return e&&k.alternate===null&&(k.flags|=2),k}function g(k,I,j,H){return I===null||I.tag!==6?(I=Bo(j,k.mode,H),I.return=k,I):(I=l(I,j),I.return=k,I)}function w(k,I,j,H){var oe=j.type;return oe===Ue?F(k,I,j.props.children,H,j.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Je&&dc(oe)===I.type)?(H=l(I,j.props),H.ref=Yi(k,I,j),H.return=k,H):(H=tl(j.type,j.key,j.props,null,k.mode,H),H.ref=Yi(k,I,j),H.return=k,H)}function P(k,I,j,H){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=$o(j,k.mode,H),I.return=k,I):(I=l(I,j.children||[]),I.return=k,I)}function F(k,I,j,H,oe){return I===null||I.tag!==7?(I=Kr(j,k.mode,H,oe),I.return=k,I):(I=l(I,j),I.return=k,I)}function O(k,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Bo(""+I,k.mode,j),I.return=k,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ke:return j=tl(I.type,I.key,I.props,null,k.mode,j),j.ref=Yi(k,null,I),j.return=k,j;case ze:return I=$o(I,k.mode,j),I.return=k,I;case Je:var H=I._init;return O(k,H(I._payload),j)}if(Yt(I)||J(I))return I=Kr(I,k.mode,j,null),I.return=k,I;Pa(k,I)}return null}function D(k,I,j,H){var oe=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return oe!==null?null:g(k,I,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:return j.key===oe?w(k,I,j,H):null;case ze:return j.key===oe?P(k,I,j,H):null;case Je:return oe=j._init,D(k,I,oe(j._payload),H)}if(Yt(j)||J(j))return oe!==null?null:F(k,I,j,H,null);Pa(k,j)}return null}function K(k,I,j,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number")return k=k.get(j)||null,g(I,k,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ke:return k=k.get(H.key===null?j:H.key)||null,w(I,k,H,oe);case ze:return k=k.get(H.key===null?j:H.key)||null,P(I,k,H,oe);case Je:var pe=H._init;return K(k,I,j,pe(H._payload),oe)}if(Yt(H)||J(H))return k=k.get(j)||null,F(I,k,H,oe,null);Pa(I,H)}return null}function ee(k,I,j,H){for(var oe=null,pe=null,he=I,ve=I=0,gt=null;he!==null&&ve<j.length;ve++){he.index>ve?(gt=he,he=null):gt=he.sibling;var Le=D(k,he,j[ve],H);if(Le===null){he===null&&(he=gt);break}e&&he&&Le.alternate===null&&t(k,he),I=o(Le,I,ve),pe===null?oe=Le:pe.sibling=Le,pe=Le,he=gt}if(ve===j.length)return n(k,he),Ke&&$r(k,ve),oe;if(he===null){for(;ve<j.length;ve++)he=O(k,j[ve],H),he!==null&&(I=o(he,I,ve),pe===null?oe=he:pe.sibling=he,pe=he);return Ke&&$r(k,ve),oe}for(he=r(k,he);ve<j.length;ve++)gt=K(he,k,ve,j[ve],H),gt!==null&&(e&&gt.alternate!==null&&he.delete(gt.key===null?ve:gt.key),I=o(gt,I,ve),pe===null?oe=gt:pe.sibling=gt,pe=gt);return e&&he.forEach(function(Rr){return t(k,Rr)}),Ke&&$r(k,ve),oe}function ae(k,I,j,H){var oe=J(j);if(typeof oe!="function")throw Error(s(150));if(j=oe.call(j),j==null)throw Error(s(151));for(var pe=oe=null,he=I,ve=I=0,gt=null,Le=j.next();he!==null&&!Le.done;ve++,Le=j.next()){he.index>ve?(gt=he,he=null):gt=he.sibling;var Rr=D(k,he,Le.value,H);if(Rr===null){he===null&&(he=gt);break}e&&he&&Rr.alternate===null&&t(k,he),I=o(Rr,I,ve),pe===null?oe=Rr:pe.sibling=Rr,pe=Rr,he=gt}if(Le.done)return n(k,he),Ke&&$r(k,ve),oe;if(he===null){for(;!Le.done;ve++,Le=j.next())Le=O(k,Le.value,H),Le!==null&&(I=o(Le,I,ve),pe===null?oe=Le:pe.sibling=Le,pe=Le);return Ke&&$r(k,ve),oe}for(he=r(k,he);!Le.done;ve++,Le=j.next())Le=K(he,k,ve,Le.value,H),Le!==null&&(e&&Le.alternate!==null&&he.delete(Le.key===null?ve:Le.key),I=o(Le,I,ve),pe===null?oe=Le:pe.sibling=Le,pe=Le);return e&&he.forEach(function(dp){return t(k,dp)}),Ke&&$r(k,ve),oe}function ot(k,I,j,H){if(typeof j=="object"&&j!==null&&j.type===Ue&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:e:{for(var oe=j.key,pe=I;pe!==null;){if(pe.key===oe){if(oe=j.type,oe===Ue){if(pe.tag===7){n(k,pe.sibling),I=l(pe,j.props.children),I.return=k,k=I;break e}}else if(pe.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Je&&dc(oe)===pe.type){n(k,pe.sibling),I=l(pe,j.props),I.ref=Yi(k,pe,j),I.return=k,k=I;break e}n(k,pe);break}else t(k,pe);pe=pe.sibling}j.type===Ue?(I=Kr(j.props.children,k.mode,H,j.key),I.return=k,k=I):(H=tl(j.type,j.key,j.props,null,k.mode,H),H.ref=Yi(k,I,j),H.return=k,k=H)}return u(k);case ze:e:{for(pe=j.key;I!==null;){if(I.key===pe)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){n(k,I.sibling),I=l(I,j.children||[]),I.return=k,k=I;break e}else{n(k,I);break}else t(k,I);I=I.sibling}I=$o(j,k.mode,H),I.return=k,k=I}return u(k);case Je:return pe=j._init,ot(k,I,pe(j._payload),H)}if(Yt(j))return ee(k,I,j,H);if(J(j))return ae(k,I,j,H);Pa(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,I!==null&&I.tag===6?(n(k,I.sibling),I=l(I,j),I.return=k,k=I):(n(k,I),I=Bo(j,k.mode,H),I.return=k,k=I),u(k)):n(k,I)}return ot}var vi=fc(!0),pc=fc(!1),Ra=Sr(null),Aa=null,yi=null,Kl=null;function Jl(){Kl=yi=Aa=null}function ql(e){var t=Ra.current;Xe(Ra),e._currentValue=t}function eo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){Aa=e,Kl=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ht=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(Aa===null)throw Error(s(308));yi=e,Aa.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var Zr=null;function to(e){Zr===null?Zr=[e]:Zr.push(e)}function hc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,to(t)):(n.next=l.next,l.next=n),t.interleaved=n,qn(e,r)}function qn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,qn(e,n)}return l=r.interleaved,l===null?(t.next=t,to(r)):(t.next=l.next,l.next=t),r.interleaved=t,qn(e,n)}function La(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S(e,n)}}function gc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var l=e.updateQueue;Nr=!1;var o=l.firstBaseUpdate,u=l.lastBaseUpdate,g=l.shared.pending;if(g!==null){l.shared.pending=null;var w=g,P=w.next;w.next=null,u===null?o=P:u.next=P,u=w;var F=e.alternate;F!==null&&(F=F.updateQueue,g=F.lastBaseUpdate,g!==u&&(g===null?F.firstBaseUpdate=P:g.next=P,F.lastBaseUpdate=w))}if(o!==null){var O=l.baseState;u=0,F=P=w=null,g=o;do{var D=g.lane,K=g.eventTime;if((r&D)===D){F!==null&&(F=F.next={eventTime:K,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var ee=e,ae=g;switch(D=t,K=n,ae.tag){case 1:if(ee=ae.payload,typeof ee=="function"){O=ee.call(K,O,D);break e}O=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ae.payload,D=typeof ee=="function"?ee.call(K,O,D):ee,D==null)break e;O=Y({},O,D);break e;case 2:Nr=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,D=l.effects,D===null?l.effects=[g]:D.push(g))}else K={eventTime:K,lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},F===null?(P=F=K,w=O):F=F.next=K,u|=D;if(g=g.next,g===null){if(g=l.shared.pending,g===null)break;D=g,g=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(!0);if(F===null&&(w=O),l.baseState=w,l.firstBaseUpdate=P,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Yr|=u,e.lanes=u,e.memoizedState=O}}function vc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(s(191,l));l.call(r)}}}var Qi={},Ln=Sr(Qi),Vi=Sr(Qi),Xi=Sr(Qi);function Wr(e){if(e===Qi)throw Error(s(174));return e}function ro(e,t){switch(Qe(Xi,t),Qe(Vi,e),Qe(Ln,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=De(t,e)}Xe(Ln),Qe(Ln,t)}function xi(){Xe(Ln),Xe(Vi),Xe(Xi)}function yc(e){Wr(Xi.current);var t=Wr(Ln.current),n=De(t,e.type);t!==n&&(Qe(Vi,e),Qe(Ln,n))}function io(e){Vi.current===e&&(Xe(Ln),Xe(Vi))}var nt=Sr(0);function Ta(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function lo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var Da=fe.ReactCurrentDispatcher,oo=fe.ReactCurrentBatchConfig,Gr=0,rt=null,ut=null,ht=null,Fa=!1,Ki=!1,Ji=0,Af=0;function kt(){throw Error(s(321))}function so(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function co(e,t,n,r,l,o){if(Gr=o,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?Df:Ff,e=n(r,l),Ki){o=0;do{if(Ki=!1,Ji=0,25<=o)throw Error(s(301));o+=1,ht=ut=null,t.updateQueue=null,Da.current=Of,e=n(r,l)}while(Ki)}if(Da.current=Ha,t=ut!==null&&ut.next!==null,Gr=0,ht=ut=rt=null,Fa=!1,t)throw Error(s(300));return e}function uo(){var e=Ji!==0;return Ji=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?rt.memoizedState=ht=e:ht=ht.next=e,ht}function un(){if(ut===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=ht===null?rt.memoizedState:ht.next;if(t!==null)ht=t,ut=e;else{if(e===null)throw Error(s(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?rt.memoizedState=ht=e:ht=ht.next=e}return ht}function qi(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=un(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=ut,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var u=l.next;l.next=o.next,o.next=u}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var g=u=null,w=null,P=o;do{var F=P.lane;if((Gr&F)===F)w!==null&&(w=w.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),r=P.hasEagerState?P.eagerState:e(r,P.action);else{var O={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};w===null?(g=w=O,u=r):w=w.next=O,rt.lanes|=F,Yr|=F}P=P.next}while(P!==null&&P!==o);w===null?u=r:w.next=g,Sn(r,t.memoizedState)||(Ht=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=w,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,rt.lanes|=o,Yr|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function po(e){var t=un(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do o=e(o,u.action),u=u.next;while(u!==l);Sn(o,t.memoizedState)||(Ht=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wc(){}function xc(e,t){var n=rt,r=un(),l=t(),o=!Sn(r.memoizedState,l);if(o&&(r.memoizedState=l,Ht=!0),r=r.queue,ho(Ic.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ea(9,bc.bind(null,n,r,l,t),void 0,null),mt===null)throw Error(s(349));(Gr&30)!==0||Sc(n,t,l)}return l}function Sc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bc(e,t,n,r){t.value=n,t.getSnapshot=r,Nc(t)&&_c(e)}function Ic(e,t,n){return n(function(){Nc(t)&&_c(e)})}function Nc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function _c(e){var t=qn(e,1);t!==null&&Cn(t,e,1,-1)}function Cc(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t.queue=e,e=e.dispatch=Tf.bind(null,rt,e),[t.memoizedState,e]}function ea(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mc(){return un().memoizedState}function Oa(e,t,n,r){var l=zn();rt.flags|=e,l.memoizedState=ea(1|t,n,void 0,r===void 0?null:r)}function Ua(e,t,n,r){var l=un();r=r===void 0?null:r;var o=void 0;if(ut!==null){var u=ut.memoizedState;if(o=u.destroy,r!==null&&so(r,u.deps)){l.memoizedState=ea(t,n,o,r);return}}rt.flags|=e,l.memoizedState=ea(1|t,n,o,r)}function kc(e,t){return Oa(8390656,8,e,t)}function ho(e,t){return Ua(2048,8,e,t)}function Ec(e,t){return Ua(4,2,e,t)}function jc(e,t){return Ua(4,4,e,t)}function Pc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rc(e,t,n){return n=n!=null?n.concat([e]):null,Ua(4,4,Pc.bind(null,t,e),n)}function mo(){}function Ac(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&so(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lc(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&so(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zc(e,t,n){return(Gr&21)===0?(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=n):(Sn(n,t)||(n=x(),rt.lanes|=n,Yr|=n,e.baseState=!0),t)}function Lf(e,t){var n=M;M=n!==0&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{M=n,oo.transition=r}}function Tc(){return un().memoizedState}function zf(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dc(e))Fc(t,n);else if(n=hc(e,t,n,r),n!==null){var l=zt();Cn(n,e,r,l),Oc(n,t,r)}}function Tf(e,t,n){var r=Er(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))Fc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,g=o(u,n);if(l.hasEagerState=!0,l.eagerState=g,Sn(g,u)){var w=t.interleaved;w===null?(l.next=l,to(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}n=hc(e,t,l,r),n!==null&&(l=zt(),Cn(n,e,r,l),Oc(n,t,r))}}function Dc(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function Fc(e,t){Ki=Fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oc(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,S(e,n)}}var Ha={readContext:cn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Df={readContext:cn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:kc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4194308,4,Pc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zf.bind(null,rt,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:mo,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=Lf.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rt,l=zn();if(Ke){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),mt===null)throw Error(s(349));(Gr&30)!==0||Sc(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,kc(Ic.bind(null,r,o,e),[e]),r.flags|=2048,ea(9,bc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zn(),t=mt.identifierPrefix;if(Ke){var n=Jn,r=Kn;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Af++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ff={readContext:cn,useCallback:Ac,useContext:cn,useEffect:ho,useImperativeHandle:Rc,useInsertionEffect:Ec,useLayoutEffect:jc,useMemo:Lc,useReducer:fo,useRef:Mc,useState:function(){return fo(qi)},useDebugValue:mo,useDeferredValue:function(e){var t=un();return zc(t,ut.memoizedState,e)},useTransition:function(){var e=fo(qi)[0],t=un().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:xc,useId:Tc,unstable_isNewReconciler:!1},Of={readContext:cn,useCallback:Ac,useContext:cn,useEffect:ho,useImperativeHandle:Rc,useInsertionEffect:Ec,useLayoutEffect:jc,useMemo:Lc,useReducer:po,useRef:Mc,useState:function(){return po(qi)},useDebugValue:mo,useDeferredValue:function(e){var t=un();return ut===null?t.memoizedState=e:zc(t,ut.memoizedState,e)},useTransition:function(){var e=po(qi)[0],t=un().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:xc,useId:Tc,unstable_isNewReconciler:!1};function In(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function go(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return(e=e._reactInternals)?_t(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),l=Er(e),o=er(r,l);o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,l),t!==null&&(Cn(t,e,l,r),La(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),l=Er(e),o=er(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,l),t!==null&&(Cn(t,e,l,r),La(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=Er(e),l=er(n,r);l.tag=2,t!=null&&(l.callback=t),t=_r(e,l,r),t!==null&&(Cn(t,e,r,n),La(t,e,r))}};function Uc(e,t,n,r,l,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,r)||!Ui(l,o):!0}function Hc(e,t,n){var r=!1,l=br,o=t.contextType;return typeof o=="object"&&o!==null?o=cn(o):(l=Ut(t)?Hr:Mt.current,r=t.contextTypes,o=(r=r!=null)?pi(e,l):br),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},no(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=cn(o):(o=Ut(t)?Hr:Mt.current,l.context=pi(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(go(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ba.enqueueReplaceState(l,l.state,null),za(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Si(e,t){try{var n="",r=t;do n+=re(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function yo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uf=typeof WeakMap=="function"?WeakMap:Map;function $c(e,t,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Va||(Va=!0,Lo=r),wo(e,t)},n}function Zc(e,t,n){n=er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){wo(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wo(e,t),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Wc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=ep.bind(null,e,t,n),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=er(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Hf=fe.ReactCurrentOwner,Ht=!1;function Lt(e,t,n,r){t.child=e===null?pc(t,null,n,r):vi(t,e.child,n,r)}function Qc(e,t,n,r,l){n=n.render;var o=t.ref;return wi(t,l),r=co(e,t,n,r,o,l),n=uo(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,tr(e,t,l)):(Ke&&n&&Gl(t),t.flags|=1,Lt(e,t,r,l),t.child)}function Vc(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Ho(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xc(e,t,o,r,l)):(e=tl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(u,r)&&e.ref===t.ref)return tr(e,t,l)}return t.flags|=1,e=Pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Ui(o,r)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,tr(e,t,l)}return xo(e,t,n,r,l)}function Kc(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ii,en),en|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ii,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Ii,en),en|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Qe(Ii,en),en|=r;return Lt(e,t,l,n),t.child}function Jc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xo(e,t,n,r,l){var o=Ut(n)?Hr:Mt.current;return o=pi(t,o),wi(t,l),n=co(e,t,n,r,o,l),r=uo(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,tr(e,t,l)):(Ke&&r&&Gl(t),t.flags|=1,Lt(e,t,n,l),t.child)}function qc(e,t,n,r,l){if(Ut(n)){var o=!0;Ca(t)}else o=!1;if(wi(t,l),t.stateNode===null)Za(e,t),Hc(t,n,r),vo(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,g=t.memoizedProps;u.props=g;var w=u.context,P=n.contextType;typeof P=="object"&&P!==null?P=cn(P):(P=Ut(n)?Hr:Mt.current,P=pi(t,P));var F=n.getDerivedStateFromProps,O=typeof F=="function"||typeof u.getSnapshotBeforeUpdate=="function";O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==r||w!==P)&&Bc(t,u,r,P),Nr=!1;var D=t.memoizedState;u.state=D,za(t,r,u,l),w=t.memoizedState,g!==r||D!==w||Ot.current||Nr?(typeof F=="function"&&(go(t,n,F,r),w=t.memoizedState),(g=Nr||Uc(t,n,g,r,D,w,P))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),u.props=r,u.state=w,u.context=P,r=g):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,mc(e,t),g=t.memoizedProps,P=t.type===t.elementType?g:In(t.type,g),u.props=P,O=t.pendingProps,D=u.context,w=n.contextType,typeof w=="object"&&w!==null?w=cn(w):(w=Ut(n)?Hr:Mt.current,w=pi(t,w));var K=n.getDerivedStateFromProps;(F=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==O||D!==w)&&Bc(t,u,r,w),Nr=!1,D=t.memoizedState,u.state=D,za(t,r,u,l);var ee=t.memoizedState;g!==O||D!==ee||Ot.current||Nr?(typeof K=="function"&&(go(t,n,K,r),ee=t.memoizedState),(P=Nr||Uc(t,n,P,r,D,ee,w)||!1)?(F||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,ee,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,ee,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ee),u.props=r,u.state=ee,u.context=w,r=P):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return So(e,t,n,r,o,l)}function So(e,t,n,r,l,o){Jc(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&ic(t,n,!1),tr(e,t,o);r=t.stateNode,Hf.current=t;var g=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,g,o)):Lt(e,t,g,o),t.memoizedState=r.state,l&&ic(t,n,!0),t.child}function eu(e){var t=e.stateNode;t.pendingContext?nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nc(e,t.context,!1),ro(e,t.containerInfo)}function tu(e,t,n,r,l){return gi(),Xl(l),t.flags|=256,Lt(e,t,n,r),t.child}var bo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function nu(e,t,n){var r=t.pendingProps,l=nt.current,o=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(l&2)!==0),g?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Qe(nt,l&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=nl(u,r,0,null),e=Kr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=bo,e):No(t,u));if(l=e.memoizedState,l!==null&&(g=l.dehydrated,g!==null))return Bf(e,t,u,r,g,l,n);if(o){o=r.fallback,u=t.mode,l=e.child,g=l.sibling;var w={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=w,t.deletions=null):(r=Pr(l,w),r.subtreeFlags=l.subtreeFlags&14680064),g!==null?o=Pr(g,o):(o=Kr(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?Io(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=bo,r}return o=e.child,e=o.sibling,r=Pr(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function No(e,t){return t=nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,n,r){return r!==null&&Xl(r),vi(t,e.child,null,n),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,n,r,l,o,u){if(n)return t.flags&256?(t.flags&=-257,r=yo(Error(s(422))),$a(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=nl({mode:"visible",children:r.children},l,0,null),o=Kr(o,l,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&vi(t,e.child,null,u),t.child.memoizedState=Io(u),t.memoizedState=bo,o);if((t.mode&1)===0)return $a(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var g=r.dgst;return r=g,o=Error(s(419)),r=yo(o,r,void 0),$a(e,t,u,r)}if(g=(u&e.childLanes)!==0,Ht||g){if(r=mt,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,qn(e,l),Cn(r,e,l,-1))}return Uo(),r=yo(Error(s(421))),$a(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,qt=xr(l.nextSibling),Jt=t,Ke=!0,bn=null,e!==null&&(on[sn++]=Kn,on[sn++]=Jn,on[sn++]=Br,Kn=e.id,Jn=e.overflow,Br=t),t=No(t,r.children),t.flags|=4096,t)}function ru(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eo(e.return,t,n)}function _o(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function iu(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Lt(e,t,r.children,n),r=nt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ru(e,n,t);else if(e.tag===19)ru(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(nt,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ta(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),_o(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ta(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}_o(t,!0,n,null,o);break;case"together":_o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $f(e,t,n){switch(t.tag){case 3:eu(t),gi();break;case 5:yc(t);break;case 1:Ut(t.type)&&Ca(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Qe(Ra,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(nt,nt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?nu(e,t,n):(Qe(nt,nt.current&1),e=tr(e,t,n),e!==null?e.sibling:null);Qe(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return iu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Qe(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,Kc(e,t,n)}return tr(e,t,n)}var au,Co,lu,ou;au=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Co=function(){},lu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Wr(Ln.current);var o=null;switch(n){case"input":l=qe(e,l),r=qe(e,r),o=[];break;case"select":l=Y({},l,{value:void 0}),r=Y({},r,{value:void 0}),o=[];break;case"textarea":l=En(e,l),r=En(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}On(n,r);var u;n=null;for(P in l)if(!r.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var g=l[P];for(u in g)g.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(p.hasOwnProperty(P)?o||(o=[]):(o=o||[]).push(P,null));for(P in r){var w=r[P];if(g=l!=null?l[P]:void 0,r.hasOwnProperty(P)&&w!==g&&(w!=null||g!=null))if(P==="style")if(g){for(u in g)!g.hasOwnProperty(u)||w&&w.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in w)w.hasOwnProperty(u)&&g[u]!==w[u]&&(n||(n={}),n[u]=w[u])}else n||(o||(o=[]),o.push(P,n)),n=w;else P==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(o=o||[]).push(P,w)):P==="children"?typeof w!="string"&&typeof w!="number"||(o=o||[]).push(P,""+w):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(p.hasOwnProperty(P)?(w!=null&&P==="onScroll"&&Ve("scroll",e),o||g===w||(o=[])):(o=o||[]).push(P,w))}n&&(o=o||[]).push("style",n);var P=o;(t.updateQueue=P)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};function ta(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zf(e,t,n){var r=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Ut(t.type)&&_a(),Et(t),null;case 3:return r=t.stateNode,xi(),Xe(Ot),Xe(Mt),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bn!==null&&(Do(bn),bn=null))),Co(e,t),Et(t),null;case 5:io(t);var l=Wr(Xi.current);if(n=t.type,e!==null&&t.stateNode!=null)lu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Et(t),null}if(e=Wr(Ln.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[An]=t,r[Wi]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(l=0;l<Bi.length;l++)Ve(Bi[l],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":pt(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":pn(r,o),Ve("invalid",r)}On(n,o),l=null;for(var u in o)if(o.hasOwnProperty(u)){var g=o[u];u==="children"?typeof g=="string"?r.textContent!==g&&(o.suppressHydrationWarning!==!0&&ba(r.textContent,g,e),l=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(o.suppressHydrationWarning!==!0&&ba(r.textContent,g,e),l=["children",""+g]):p.hasOwnProperty(u)&&g!=null&&u==="onScroll"&&Ve("scroll",r)}switch(n){case"input":St(r),it(r,o,!0);break;case"textarea":St(r),Pt(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ia)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[An]=t,e[Wi]=r,au(e,t,!1,!1),t.stateNode=e;e:{switch(u=lr(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),l=r;break;case"iframe":case"object":case"embed":Ve("load",e),l=r;break;case"video":case"audio":for(l=0;l<Bi.length;l++)Ve(Bi[l],e);l=r;break;case"source":Ve("error",e),l=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),l=r;break;case"details":Ve("toggle",e),l=r;break;case"input":pt(e,r),l=qe(e,r),Ve("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Y({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":pn(e,r),l=En(e,r),Ve("invalid",e);break;default:l=r}On(n,l),g=l;for(o in g)if(g.hasOwnProperty(o)){var w=g[o];o==="style"?ar(e,w):o==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&xe(e,w)):o==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&Ze(e,w):typeof w=="number"&&Ze(e,""+w):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(p.hasOwnProperty(o)?w!=null&&o==="onScroll"&&Ve("scroll",e):w!=null&&Ce(e,o,w,u))}switch(n){case"input":St(e),it(e,r,!1);break;case"textarea":St(e),Pt(e);break;case"option":r.value!=null&&e.setAttribute("value",""+me(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?bt(e,!!r.multiple,o,!1):r.defaultValue!=null&&bt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)ou(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(n=Wr(Xi.current),Wr(Ln.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[An]=t,(o=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:ba(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ba(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r}return Et(t),null;case 13:if(Xe(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&qt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)uc(),gi(),t.flags|=98560,o=!1;else if(o=ja(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[An]=t}else gi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),o=!1}else bn!==null&&(Do(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(nt.current&1)!==0?dt===0&&(dt=3):Uo())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return xi(),Co(e,t),e===null&&$i(t.stateNode.containerInfo),Et(t),null;case 10:return ql(t.type._context),Et(t),null;case 17:return Ut(t.type)&&_a(),Et(t),null;case 19:if(Xe(nt),o=t.memoizedState,o===null)return Et(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)ta(o,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ta(e),u!==null){for(t.flags|=128,ta(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ye()>Ni&&(t.flags|=128,r=!0,ta(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ta(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ke)return Et(t),null}else 2*Ye()-o.renderingStartTime>Ni&&n!==1073741824&&(t.flags|=128,r=!0,ta(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=nt.current,Qe(nt,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return Oo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(en&1073741824)!==0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Wf(e,t){switch(Yl(t),t.tag){case 1:return Ut(t.type)&&_a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),Xe(Ot),Xe(Mt),lo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return io(t),null;case 13:if(Xe(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(nt),null;case 4:return xi(),null;case 10:return ql(t.type._context),null;case 22:case 23:return Oo(),null;case 24:return null;default:return null}}var Wa=!1,jt=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,q=null;function bi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(e,t,r)}else n.current=null}function Mo(e,t,n){try{n()}catch(r){at(e,t,r)}}var su=!1;function Yf(e,t){if(Fl=da,e=Us(),jl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,g=-1,w=-1,P=0,F=0,O=e,D=null;t:for(;;){for(var K;O!==n||l!==0&&O.nodeType!==3||(g=u+l),O!==o||r!==0&&O.nodeType!==3||(w=u+r),O.nodeType===3&&(u+=O.nodeValue.length),(K=O.firstChild)!==null;)D=O,O=K;for(;;){if(O===e)break t;if(D===n&&++P===l&&(g=u),D===o&&++F===r&&(w=u),(K=O.nextSibling)!==null)break;O=D,D=O.parentNode}O=K}n=g===-1||w===-1?null:{start:g,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},da=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ae=ee.memoizedProps,ot=ee.memoizedState,k=t.stateNode,I=k.getSnapshotBeforeUpdate(t.elementType===t.type?ae:In(t.type,ae),ot);k.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(H){at(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return ee=su,su=!1,ee}function na(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Mo(t,n,o)}l=l.next}while(l!==r)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ko(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cu(e){var t=e.alternate;t!==null&&(e.alternate=null,cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[Wi],delete t[$l],delete t[Ef],delete t[jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return e.tag===5||e.tag===3||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(Eo(e,t,n),e=e.sibling;e!==null;)Eo(e,t,n),e=e.sibling}function jo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jo(e,t,n),e=e.sibling;e!==null;)jo(e,t,n),e=e.sibling}var wt=null,Nn=!1;function Cr(e,t,n){for(n=n.child;n!==null;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(pr,n)}catch{}switch(n.tag){case 5:jt||bi(n,t);case 6:var r=wt,l=Nn;wt=null,Cr(e,t,n),wt=r,Nn=l,wt!==null&&(Nn?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Nn?(e=wt,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Li(e)):Bl(wt,n.stateNode));break;case 4:r=wt,l=Nn,wt=n.stateNode.containerInfo,Nn=!0,Cr(e,t,n),wt=r,Nn=l;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&Mo(n,t,u),l=l.next}while(l!==r)}Cr(e,t,n);break;case 1:if(!jt&&(bi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){at(n,t,g)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Cr(e,t,n),jt=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gf),t.forEach(function(r){var l=np.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,u=t,g=u;e:for(;g!==null;){switch(g.tag){case 5:wt=g.stateNode,Nn=!1;break e;case 3:wt=g.stateNode.containerInfo,Nn=!0;break e;case 4:wt=g.stateNode.containerInfo,Nn=!0;break e}g=g.return}if(wt===null)throw Error(s(160));fu(o,u,l),wt=null,Nn=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(P){at(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Tn(e),r&4){try{na(3,e,e.return),Ga(3,e)}catch(ae){at(e,e.return,ae)}try{na(5,e,e.return)}catch(ae){at(e,e.return,ae)}}break;case 1:_n(t,e),Tn(e),r&512&&n!==null&&bi(n,n.return);break;case 5:if(_n(t,e),Tn(e),r&512&&n!==null&&bi(n,n.return),e.flags&32){var l=e.stateNode;try{Ze(l,"")}catch(ae){at(e,e.return,ae)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,g=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{g==="input"&&o.type==="radio"&&o.name!=null&&et(l,o),lr(g,u);var P=lr(g,o);for(u=0;u<w.length;u+=2){var F=w[u],O=w[u+1];F==="style"?ar(l,O):F==="dangerouslySetInnerHTML"?xe(l,O):F==="children"?Ze(l,O):Ce(l,F,O,P)}switch(g){case"input":Be(l,o);break;case"textarea":ir(l,o);break;case"select":var D=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var K=o.value;K!=null?bt(l,!!o.multiple,K,!1):D!==!!o.multiple&&(o.defaultValue!=null?bt(l,!!o.multiple,o.defaultValue,!0):bt(l,!!o.multiple,o.multiple?[]:"",!1))}l[Wi]=o}catch(ae){at(e,e.return,ae)}}break;case 6:if(_n(t,e),Tn(e),r&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(ae){at(e,e.return,ae)}}break;case 3:if(_n(t,e),Tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(ae){at(e,e.return,ae)}break;case 4:_n(t,e),Tn(e);break;case 13:_n(t,e),Tn(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Ao=Ye())),r&4&&pu(e);break;case 22:if(F=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(P=jt)||F,_n(t,e),jt=P):_n(t,e),Tn(e),r&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!F&&(e.mode&1)!==0)for(q=e,F=e.child;F!==null;){for(O=q=F;q!==null;){switch(D=q,K=D.child,D.tag){case 0:case 11:case 14:case 15:na(4,D,D.return);break;case 1:bi(D,D.return);var ee=D.stateNode;if(typeof ee.componentWillUnmount=="function"){r=D,n=D.return;try{t=r,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(ae){at(r,n,ae)}}break;case 5:bi(D,D.return);break;case 22:if(D.memoizedState!==null){vu(O);continue}}K!==null?(K.return=D,q=K):vu(O)}F=F.sibling}e:for(F=null,O=e;;){if(O.tag===5){if(F===null){F=O;try{l=O.stateNode,P?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(g=O.stateNode,w=O.memoizedProps.style,u=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=Lr("display",u))}catch(ae){at(e,e.return,ae)}}}else if(O.tag===6){if(F===null)try{O.stateNode.nodeValue=P?"":O.memoizedProps}catch(ae){at(e,e.return,ae)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;F===O&&(F=null),O=O.return}F===O&&(F=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:_n(t,e),Tn(e),r&4&&pu(e);break;case 21:break;default:_n(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uu(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ze(l,""),r.flags&=-33);var o=du(e);jo(e,o,l);break;case 3:case 4:var u=r.stateNode.containerInfo,g=du(e);Eo(e,g,u);break;default:throw Error(s(161))}}catch(w){at(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e,t,n){q=e,mu(e)}function mu(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var l=q,o=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Wa;if(!u){var g=l.alternate,w=g!==null&&g.memoizedState!==null||jt;g=Wa;var P=jt;if(Wa=u,(jt=w)&&!P)for(q=l;q!==null;)u=q,w=u.child,u.tag===22&&u.memoizedState!==null?yu(l):w!==null?(w.return=u,q=w):yu(l);for(;o!==null;)q=o,mu(o),o=o.sibling;q=l,Wa=g,jt=P}gu(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,q=o):gu(e)}}function gu(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:jt||Ga(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:In(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&vc(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vc(t,u,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var O=F.dehydrated;O!==null&&Li(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}jt||t.flags&512&&ko(t)}catch(D){at(t,t.return,D)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function vu(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function yu(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ga(4,t)}catch(w){at(t,n,w)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(w){at(t,l,w)}}var o=t.return;try{ko(t)}catch(w){at(t,o,w)}break;case 5:var u=t.return;try{ko(t)}catch(w){at(t,u,w)}}}catch(w){at(t,t.return,w)}if(t===e){q=null;break}var g=t.sibling;if(g!==null){g.return=t.return,q=g;break}q=t.return}}var Vf=Math.ceil,Ya=fe.ReactCurrentDispatcher,Po=fe.ReactCurrentOwner,dn=fe.ReactCurrentBatchConfig,Re=0,mt=null,ct=null,xt=0,en=0,Ii=Sr(0),dt=0,ra=null,Yr=0,Qa=0,Ro=0,ia=null,Bt=null,Ao=0,Ni=1/0,nr=null,Va=!1,Lo=null,Mr=null,Xa=!1,kr=null,Ka=0,aa=0,zo=null,Ja=-1,qa=0;function zt(){return(Re&6)!==0?Ye():Ja!==-1?Ja:Ja=Ye()}function Er(e){return(e.mode&1)===0?1:(Re&2)!==0&&xt!==0?xt&-xt:Rf.transition!==null?(qa===0&&(qa=x()),qa):(e=M,e!==0||(e=window.event,e=e===void 0?16:xs(e.type)),e)}function Cn(e,t,n,r){if(50<aa)throw aa=0,zo=null,Error(s(185));m(e,n,r),((Re&2)===0||e!==mt)&&(e===mt&&((Re&2)===0&&(Qa|=n),dt===4&&jr(e,xt)),$t(e,r),n===1&&Re===0&&(t.mode&1)===0&&(Ni=Ye()+500,Ma&&Ir()))}function $t(e,t){var n=e.callbackNode;ni(e,t);var r=xn(e,e===mt?xt:0);if(r===0)n!==null&&Fr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fr(n),t===1)e.tag===0?Pf(xu.bind(null,e)):ac(xu.bind(null,e)),Mf(function(){(Re&6)===0&&Ir()}),n=null;else{switch(A(r)){case 1:n=Yn;break;case 4:n=ei;break;case 16:n=Qn;break;case 536870912:n=fr;break;default:n=Qn}n=ku(n,wu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wu(e,t){if(Ja=-1,qa=0,(Re&6)!==0)throw Error(s(327));var n=e.callbackNode;if(_i()&&e.callbackNode!==n)return null;var r=xn(e,e===mt?xt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=el(e,r);else{t=r;var l=Re;Re|=2;var o=bu();(mt!==e||xt!==t)&&(nr=null,Ni=Ye()+500,Vr(e,t));do try{Jf();break}catch(g){Su(e,g)}while(!0);Jl(),Ya.current=o,Re=l,ct!==null?t=0:(mt=null,xt=0,t=dt)}if(t!==0){if(t===2&&(l=vr(e),l!==0&&(r=l,t=To(e,l))),t===1)throw n=ra,Vr(e,0),jr(e,r),$t(e,Ye()),n;if(t===6)jr(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Xf(l)&&(t=el(e,r),t===2&&(o=vr(e),o!==0&&(r=o,t=To(e,o))),t===1))throw n=ra,Vr(e,0),jr(e,r),$t(e,Ye()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:Xr(e,Bt,nr);break;case 3:if(jr(e,r),(r&130023424)===r&&(t=Ao+500-Ye(),10<t)){if(xn(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Hl(Xr.bind(null,e,Bt,nr),t);break}Xr(e,Bt,nr);break;case 4:if(jr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-At(r);o=1<<u,u=t[u],u>l&&(l=u),r&=~o}if(r=l,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vf(r/1960))-r,10<r){e.timeoutHandle=Hl(Xr.bind(null,e,Bt,nr),r);break}Xr(e,Bt,nr);break;case 5:Xr(e,Bt,nr);break;default:throw Error(s(329))}}}return $t(e,Ye()),e.callbackNode===n?wu.bind(null,e):null}function To(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=el(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&Do(t)),e}function Do(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Xf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Sn(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~Ro,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function xu(e){if((Re&6)!==0)throw Error(s(327));_i();var t=xn(e,0);if((t&1)===0)return $t(e,Ye()),null;var n=el(e,t);if(e.tag!==0&&n===2){var r=vr(e);r!==0&&(t=r,n=To(e,r))}if(n===1)throw n=ra,Vr(e,0),jr(e,t),$t(e,Ye()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,Bt,nr),$t(e,Ye()),null}function Fo(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(Ni=Ye()+500,Ma&&Ir())}}function Qr(e){kr!==null&&kr.tag===0&&(Re&6)===0&&_i();var t=Re;Re|=1;var n=dn.transition,r=M;try{if(dn.transition=null,M=1,e)return e()}finally{M=r,dn.transition=n,Re=t,(Re&6)===0&&Ir()}}function Oo(){en=Ii.current,Xe(Ii)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cf(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_a();break;case 3:xi(),Xe(Ot),Xe(Mt),lo();break;case 5:io(r);break;case 4:xi();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:ql(r.type._context);break;case 22:case 23:Oo()}n=n.return}if(mt=e,ct=e=Pr(e.current,null),xt=en=t,dt=0,ra=null,Ro=Qa=Yr=0,Bt=ia=null,Zr!==null){for(t=0;t<Zr.length;t++)if(n=Zr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=l,r.next=u}n.pending=r}Zr=null}return e}function Su(e,t){do{var n=ct;try{if(Jl(),Da.current=Ha,Fa){for(var r=rt.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Fa=!1}if(Gr=0,ht=ut=rt=null,Ki=!1,Ji=0,Po.current=null,n===null||n.return===null){dt=1,ra=t,ct=null;break}e:{var o=e,u=n.return,g=n,w=t;if(t=xt,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=w,F=g,O=F.tag;if((F.mode&1)===0&&(O===0||O===11||O===15)){var D=F.alternate;D?(F.updateQueue=D.updateQueue,F.memoizedState=D.memoizedState,F.lanes=D.lanes):(F.updateQueue=null,F.memoizedState=null)}var K=Gc(u);if(K!==null){K.flags&=-257,Yc(K,u,g,o,t),K.mode&1&&Wc(o,P,t),t=K,w=P;var ee=t.updateQueue;if(ee===null){var ae=new Set;ae.add(w),t.updateQueue=ae}else ee.add(w);break e}else{if((t&1)===0){Wc(o,P,t),Uo();break e}w=Error(s(426))}}else if(Ke&&g.mode&1){var ot=Gc(u);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Yc(ot,u,g,o,t),Xl(Si(w,g));break e}}o=w=Si(w,g),dt!==4&&(dt=2),ia===null?ia=[o]:ia.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var k=$c(o,w,t);gc(o,k);break e;case 1:g=w;var I=o.type,j=o.stateNode;if((o.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Mr===null||!Mr.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var H=Zc(o,g,t);gc(o,H);break e}}o=o.return}while(o!==null)}Nu(n)}catch(oe){t=oe,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function bu(){var e=Ya.current;return Ya.current=Ha,e===null?Ha:e}function Uo(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||(Yr&268435455)===0&&(Qa&268435455)===0||jr(mt,xt)}function el(e,t){var n=Re;Re|=2;var r=bu();(mt!==e||xt!==t)&&(nr=null,Vr(e,t));do try{Kf();break}catch(l){Su(e,l)}while(!0);if(Jl(),Re=n,Ya.current=r,ct!==null)throw Error(s(261));return mt=null,xt=0,dt}function Kf(){for(;ct!==null;)Iu(ct)}function Jf(){for(;ct!==null&&!cr();)Iu(ct)}function Iu(e){var t=Mu(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?Nu(e):ct=t,Po.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Zf(n,t,en),n!==null){ct=n;return}}else{if(n=Wf(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ct=null;return}}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);dt===0&&(dt=5)}function Xr(e,t,n){var r=M,l=dn.transition;try{dn.transition=null,M=1,qf(e,t,n,r)}finally{dn.transition=l,M=r}return null}function qf(e,t,n,r){do _i();while(kr!==null);if((Re&6)!==0)throw Error(s(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(d(e,o),e===mt&&(ct=mt=null,xt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Xa||(Xa=!0,ku(Qn,function(){return _i(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=dn.transition,dn.transition=null;var u=M;M=1;var g=Re;Re|=4,Po.current=null,Yf(e,n),hu(n,e),wf(Ol),da=!!Fl,Ol=Fl=null,e.current=n,Qf(n),ur(),Re=g,M=u,dn.transition=o}else e.current=n;if(Xa&&(Xa=!1,kr=e,Ka=l),o=e.pendingLanes,o===0&&(Mr=null),hr(n.stateNode),$t(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Va)throw Va=!1,e=Lo,Lo=null,e;return(Ka&1)!==0&&e.tag!==0&&_i(),o=e.pendingLanes,(o&1)!==0?e===zo?aa++:(aa=0,zo=e):aa=0,Ir(),null}function _i(){if(kr!==null){var e=A(Ka),t=dn.transition,n=M;try{if(dn.transition=null,M=16>e?16:e,kr===null)var r=!1;else{if(e=kr,kr=null,Ka=0,(Re&6)!==0)throw Error(s(331));var l=Re;for(Re|=4,q=e.current;q!==null;){var o=q,u=o.child;if((q.flags&16)!==0){var g=o.deletions;if(g!==null){for(var w=0;w<g.length;w++){var P=g[w];for(q=P;q!==null;){var F=q;switch(F.tag){case 0:case 11:case 15:na(8,F,o)}var O=F.child;if(O!==null)O.return=F,q=O;else for(;q!==null;){F=q;var D=F.sibling,K=F.return;if(cu(F),F===P){q=null;break}if(D!==null){D.return=K,q=D;break}q=K}}}var ee=o.alternate;if(ee!==null){var ae=ee.child;if(ae!==null){ee.child=null;do{var ot=ae.sibling;ae.sibling=null,ae=ot}while(ae!==null)}}q=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,q=u;else e:for(;q!==null;){if(o=q,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:na(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,q=k;break e}q=o.return}}var I=e.current;for(q=I;q!==null;){u=q;var j=u.child;if((u.subtreeFlags&2064)!==0&&j!==null)j.return=u,q=j;else e:for(u=I;q!==null;){if(g=q,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:Ga(9,g)}}catch(oe){at(g,g.return,oe)}if(g===u){q=null;break e}var H=g.sibling;if(H!==null){H.return=g.return,q=H;break e}q=g.return}}if(Re=l,Ir(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(pr,e)}catch{}r=!0}return r}finally{M=n,dn.transition=t}}return!1}function _u(e,t,n){t=Si(n,t),t=$c(e,t,1),e=_r(e,t,1),t=zt(),e!==null&&(m(e,1,t),$t(e,t))}function at(e,t,n){if(e.tag===3)_u(e,e,n);else for(;t!==null;){if(t.tag===3){_u(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=Si(n,e),e=Zc(t,e,1),t=_r(t,e,1),e=zt(),t!==null&&(m(t,1,e),$t(t,e));break}}t=t.return}}function ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(xt&n)===n&&(dt===4||dt===3&&(xt&130023424)===xt&&500>Ye()-Ao?Vr(e,0):Ro|=n),$t(e,t)}function Cu(e,t){t===0&&((e.mode&1)===0?t=1:(t=an,an<<=1,(an&130023424)===0&&(an=4194304)));var n=zt();e=qn(e,t),e!==null&&(m(e,t,n),$t(e,n))}function tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cu(e,n)}function np(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}r!==null&&r.delete(t),Cu(e,n)}var Mu;Mu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Ht=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ht=!1,$f(e,t,n);Ht=(e.flags&131072)!==0}else Ht=!1,Ke&&(t.flags&1048576)!==0&&lc(t,Ea,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Za(e,t),e=t.pendingProps;var l=pi(t,Mt.current);wi(t,n),l=co(null,t,r,e,l,n);var o=uo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,Ca(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,no(t),l.updater=Ba,t.stateNode=l,l._reactInternals=t,vo(t,r,e,n),t=So(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&Gl(t),Lt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Za(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=ip(r),e=In(r,e),l){case 0:t=xo(null,t,r,e,n);break e;case 1:t=qc(null,t,r,e,n);break e;case 11:t=Qc(null,t,r,e,n);break e;case 14:t=Vc(null,t,r,In(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:In(r,l),xo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:In(r,l),qc(e,t,r,l,n);case 3:e:{if(eu(t),e===null)throw Error(s(387));r=t.pendingProps,o=t.memoizedState,l=o.element,mc(e,t),za(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Si(Error(s(423)),t),t=tu(e,t,r,n,l);break e}else if(r!==l){l=Si(Error(s(424)),t),t=tu(e,t,r,n,l);break e}else for(qt=xr(t.stateNode.containerInfo.firstChild),Jt=t,Ke=!0,bn=null,n=pc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===l){t=tr(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return yc(t),e===null&&Vl(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,u=l.children,Ul(r,l)?u=null:o!==null&&Ul(r,o)&&(t.flags|=32),Jc(e,t),Lt(e,t,u,n),t.child;case 6:return e===null&&Vl(t),null;case 13:return nu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vi(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:In(r,l),Qc(e,t,r,l,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,u=l.value,Qe(Ra,r._currentValue),r._currentValue=u,o!==null)if(Sn(o.value,u)){if(o.children===l.children&&!Ot.current){t=tr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var g=o.dependencies;if(g!==null){u=o.child;for(var w=g.firstContext;w!==null;){if(w.context===r){if(o.tag===1){w=er(-1,n&-n),w.tag=2;var P=o.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?w.next=w:(w.next=F.next,F.next=w),P.pending=w}}o.lanes|=n,w=o.alternate,w!==null&&(w.lanes|=n),eo(o.return,n,t),g.lanes|=n;break}w=w.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(s(341));u.lanes|=n,g=u.alternate,g!==null&&(g.lanes|=n),eo(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Lt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,wi(t,n),l=cn(l),r=r(l),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,l=In(r,t.pendingProps),l=In(r.type,l),Vc(e,t,r,l,n);case 15:return Xc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:In(r,l),Za(e,t),t.tag=1,Ut(r)?(e=!0,Ca(t)):e=!1,wi(t,n),Hc(t,r,l),vo(t,r,l,n),So(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 22:return Kc(e,t,n)}throw Error(s(156,t.tag))};function ku(e,t){return sr(e,t)}function rp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new rp(e,t,n,r)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ip(e){if(typeof e=="function")return Ho(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$e)return 11;if(e===je)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,r,l,o){var u=2;if(r=e,typeof e=="function")Ho(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ue:return Kr(n.children,l,o,t);case Ge:u=8,l|=8;break;case ft:return e=fn(12,n,t,l|2),e.elementType=ft,e.lanes=o,e;case Ne:return e=fn(13,n,t,l),e.elementType=Ne,e.lanes=o,e;case Te:return e=fn(19,n,t,l),e.elementType=Te,e.lanes=o,e;case He:return nl(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:u=10;break e;case Ae:u=9;break e;case $e:u=11;break e;case je:u=14;break e;case Je:u=16,r=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=fn(u,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Kr(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function nl(e,t,n,r){return e=fn(22,e,r,t),e.elementType=He,e.lanes=n,e.stateNode={isHidden:!1},e}function Bo(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function $o(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ap(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z(0),this.expirationTimes=z(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Zo(e,t,n,r,l,o,u,g,w){return e=new ap(e,t,n,g,w),t===1?(t=1,o===!0&&(t|=8)):t=0,o=fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function lp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ze,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eu(e){if(!e)return br;e=e._reactInternals;e:{if(_t(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Ut(n))return rc(e,n,t)}return t}function ju(e,t,n,r,l,o,u,g,w){return e=Zo(n,r,!0,e,l,o,u,g,w),e.context=Eu(null),n=e.current,r=zt(),l=Er(n),o=er(r,l),o.callback=t??null,_r(n,o,l),e.current.lanes=l,m(e,l,r),$t(e,r),e}function rl(e,t,n,r){var l=t.current,o=zt(),u=Er(l);return n=Eu(n),t.context===null?t.context=n:t.pendingContext=n,t=er(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(l,t,u),e!==null&&(Cn(e,l,u,o),La(e,l,u)),u}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){Pu(e,t),(e=e.alternate)&&Pu(e,t)}function op(){return null}var Ru=typeof reportError=="function"?reportError:function(e){console.error(e)};function Go(e){this._internalRoot=e}al.prototype.render=Go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));rl(e,t,null,null)},al.prototype.unmount=Go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){rl(null,e,null,null)}),t[Vn]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=U();e={blockedOn:null,target:e,priority:t};for(var n=0;n<We.length&&t!==0&&t<We[n].priority;n++);We.splice(n,0,e),n===0&&Xt(e)}};function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Au(){}function sp(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var P=il(u);o.call(P)}}var u=ju(t,r,e,0,null,!1,!1,"",Au);return e._reactRootContainer=u,e[Vn]=u.current,$i(e.nodeType===8?e.parentNode:e),Qr(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var g=r;r=function(){var P=il(w);g.call(P)}}var w=Zo(e,0,!1,null,null,!1,!1,"",Au);return e._reactRootContainer=w,e[Vn]=w.current,$i(e.nodeType===8?e.parentNode:e),Qr(function(){rl(t,w,n,r)}),w}function ol(e,t,n,r,l){var o=n._reactRootContainer;if(o){var u=o;if(typeof l=="function"){var g=l;l=function(){var w=il(u);g.call(w)}}rl(t,u,e,l)}else u=sp(n,t,e,l,r);return il(u)}G=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wn(t.pendingLanes);n!==0&&(S(t,n|1),$t(t,Ye()),(Re&6)===0&&(Ni=Ye()+500,Ir()))}break;case 13:Qr(function(){var r=qn(e,1);if(r!==null){var l=zt();Cn(r,e,1,l)}}),Wo(e,1)}},Q=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var n=zt();Cn(t,e,134217728,n)}Wo(e,134217728)}},X=function(e){if(e.tag===13){var t=Er(e),n=qn(e,t);if(n!==null){var r=zt();Cn(n,e,t,r)}Wo(e,t)}},U=function(){return M},de=function(e,t){var n=M;try{return M=e,t()}finally{M=n}},Hn=function(e,t,n){switch(t){case"input":if(Be(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Na(r);if(!l)throw Error(s(90));kn(r),Be(r,l)}}}break;case"textarea":ir(e,n);break;case"select":t=n.value,t!=null&&bt(e,!!n.multiple,t,!1)}},Rt=Fo,gn=Qr;var cp={usingClientEntryPoint:!1,Events:[Gi,di,Na,It,zr,Fo]},la={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},up={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wn(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{pr=sl.inject(up),Dt=sl}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp,Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yo(t))throw Error(s(200));return lp(e,t,null,n)},Zt.createRoot=function(e,t){if(!Yo(e))throw Error(s(299));var n=!1,r="",l=Ru;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Zo(e,1,!1,null,null,n,!1,r,l),e[Vn]=t.current,$i(e.nodeType===8?e.parentNode:e),new Go(t)},Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Wn(t),e=e===null?null:e.stateNode,e},Zt.flushSync=function(e){return Qr(e)},Zt.hydrate=function(e,t,n){if(!ll(t))throw Error(s(200));return ol(null,e,t,!0,n)},Zt.hydrateRoot=function(e,t,n){if(!Yo(e))throw Error(s(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",u=Ru;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=ju(t,null,e,1,n??null,l,!1,o,u),e[Vn]=t.current,$i(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new al(t)},Zt.render=function(e,t,n){if(!ll(t))throw Error(s(200));return ol(null,e,t,!1,n)},Zt.unmountComponentAtNode=function(e){if(!ll(e))throw Error(s(40));return e._reactRootContainer?(Qr(function(){ol(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1},Zt.unstable_batchedUpdates=Fo,Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ll(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ol(e,t,n,!1,r)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var Hu;function hd(){if(Hu)return Xo.exports;Hu=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Xo.exports=vp(),Xo.exports}var Bu;function yp(){if(Bu)return cl;Bu=1;var i=hd();return cl.createRoot=i.createRoot,cl.hydrateRoot=i.hydrateRoot,cl}var wp=yp(),qo={exports:{}},es,$u;function xp(){if($u)return es;$u=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return es=i,es}var ts,Zu;function Sp(){if(Zu)return ts;Zu=1;var i=xp();function a(){}function s(){}return s.resetWarningCache=a,ts=function(){function f(N,C,b,E,L,R){if(R!==i){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}f.isRequired=f;function p(){return f}var v={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:s,resetWarningCache:a};return v.PropTypes=v,v},ts}var Wu;function bp(){return Wu||(Wu=1,qo.exports=Sp()()),qo.exports}var Ip=bp();const Oe=pd(Ip);function Np(i,a){if(i.match(/^[a-z]+:\/\//i))return i;if(i.match(/^\/\//))return window.location.protocol+i;if(i.match(/^[a-z]+:/i))return i;const s=document.implementation.createHTMLDocument(),f=s.createElement("base"),p=s.createElement("a");return s.head.appendChild(f),s.body.appendChild(p),a&&(f.href=a),p.href=i,p.href}const _p=(()=>{let i=0;const a=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(i+=1,`u${a()}${i}`)})();function Ar(i){const a=[];for(let s=0,f=i.length;s<f;s++)a.push(i[s]);return a}let Ci=null;function md(i={}){return Ci||(i.includeStyleProperties?(Ci=i.includeStyleProperties,Ci):(Ci=Ar(window.getComputedStyle(document.documentElement)),Ci))}function hl(i,a){const f=(i.ownerDocument.defaultView||window).getComputedStyle(i).getPropertyValue(a);return f?parseFloat(f.replace("px","")):0}function Cp(i){const a=hl(i,"border-left-width"),s=hl(i,"border-right-width");return i.clientWidth+a+s}function Mp(i){const a=hl(i,"border-top-width"),s=hl(i,"border-bottom-width");return i.clientHeight+a+s}function gd(i,a={}){const s=a.width||Cp(i),f=a.height||Mp(i);return{width:s,height:f}}function kp(){let i,a;try{a=process}catch{}const s=a&&a.env?a.env.devicePixelRatio:null;return s&&(i=parseInt(s,10),Number.isNaN(i)&&(i=1)),i||window.devicePixelRatio||1}const tn=16384;function Ep(i){(i.width>tn||i.height>tn)&&(i.width>tn&&i.height>tn?i.width>i.height?(i.height*=tn/i.width,i.width=tn):(i.width*=tn/i.height,i.height=tn):i.width>tn?(i.height*=tn/i.width,i.width=tn):(i.width*=tn/i.height,i.height=tn))}function ml(i){return new Promise((a,s)=>{const f=new Image;f.onload=()=>{f.decode().then(()=>{requestAnimationFrame(()=>a(f))})},f.onerror=s,f.crossOrigin="anonymous",f.decoding="async",f.src=i})}async function jp(i){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(i)).then(encodeURIComponent).then(a=>`data:image/svg+xml;charset=utf-8,${a}`)}async function Pp(i,a,s){const f="http://www.w3.org/2000/svg",p=document.createElementNS(f,"svg"),v=document.createElementNS(f,"foreignObject");return p.setAttribute("width",`${a}`),p.setAttribute("height",`${s}`),p.setAttribute("viewBox",`0 0 ${a} ${s}`),v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("externalResourcesRequired","true"),p.appendChild(v),v.appendChild(i),jp(p)}const Wt=(i,a)=>{if(i instanceof a)return!0;const s=Object.getPrototypeOf(i);return s===null?!1:s.constructor.name===a.name||Wt(s,a)};function Rp(i){const a=i.getPropertyValue("content");return`${i.cssText} content: '${a.replace(/'|"/g,"")}';`}function Ap(i,a){return md(a).map(s=>{const f=i.getPropertyValue(s),p=i.getPropertyPriority(s);return`${s}: ${f}${p?" !important":""};`}).join(" ")}function Lp(i,a,s,f){const p=`.${i}:${a}`,v=s.cssText?Rp(s):Ap(s,f);return document.createTextNode(`${p}{${v}}`)}function Gu(i,a,s,f){const p=window.getComputedStyle(i,s),v=p.getPropertyValue("content");if(v===""||v==="none")return;const N=_p();try{a.className=`${a.className} ${N}`}catch{return}const C=document.createElement("style");C.appendChild(Lp(N,s,p,f)),a.appendChild(C)}function zp(i,a,s){Gu(i,a,":before",s),Gu(i,a,":after",s)}const Yu="application/font-woff",Qu="image/jpeg",Tp={woff:Yu,woff2:Yu,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Qu,jpeg:Qu,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Dp(i){const a=/\.([^./]*?)$/g.exec(i);return a?a[1]:""}function hs(i){const a=Dp(i).toLowerCase();return Tp[a]||""}function Fp(i){return i.split(/,/)[1]}function cs(i){return i.search(/^(data:)/)!==-1}function Op(i,a){return`data:${a};base64,${i}`}async function vd(i,a,s){const f=await fetch(i,a);if(f.status===404)throw new Error(`Resource "${f.url}" not found`);const p=await f.blob();return new Promise((v,N)=>{const C=new FileReader;C.onerror=N,C.onloadend=()=>{try{v(s({res:f,result:C.result}))}catch(b){N(b)}},C.readAsDataURL(p)})}const ns={};function Up(i,a,s){let f=i.replace(/\?.*/,"");return s&&(f=i),/ttf|otf|eot|woff2?/i.test(f)&&(f=f.replace(/.*\//,"")),a?`[${a}]${f}`:f}async function ms(i,a,s){const f=Up(i,a,s.includeQueryParams);if(ns[f]!=null)return ns[f];s.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+new Date().getTime());let p;try{const v=await vd(i,s.fetchRequestInit,({res:N,result:C})=>(a||(a=N.headers.get("Content-Type")||""),Fp(C)));p=Op(v,a)}catch(v){p=s.imagePlaceholder||"";let N=`Failed to fetch resource: ${i}`;v&&(N=typeof v=="string"?v:v.message),N&&console.warn(N)}return ns[f]=p,p}async function Hp(i){const a=i.toDataURL();return a==="data:,"?i.cloneNode(!1):ml(a)}async function Bp(i,a){if(i.currentSrc){const v=document.createElement("canvas"),N=v.getContext("2d");v.width=i.clientWidth,v.height=i.clientHeight,N==null||N.drawImage(i,0,0,v.width,v.height);const C=v.toDataURL();return ml(C)}const s=i.poster,f=hs(s),p=await ms(s,f,a);return ml(p)}async function $p(i,a){var s;try{if(!((s=i==null?void 0:i.contentDocument)===null||s===void 0)&&s.body)return await yl(i.contentDocument.body,a,!0)}catch{}return i.cloneNode(!1)}async function Zp(i,a){return Wt(i,HTMLCanvasElement)?Hp(i):Wt(i,HTMLVideoElement)?Bp(i,a):Wt(i,HTMLIFrameElement)?$p(i,a):i.cloneNode(yd(i))}const Wp=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SLOT",yd=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SVG";async function Gp(i,a,s){var f,p;if(yd(a))return a;let v=[];return Wp(i)&&i.assignedNodes?v=Ar(i.assignedNodes()):Wt(i,HTMLIFrameElement)&&(!((f=i.contentDocument)===null||f===void 0)&&f.body)?v=Ar(i.contentDocument.body.childNodes):v=Ar(((p=i.shadowRoot)!==null&&p!==void 0?p:i).childNodes),v.length===0||Wt(i,HTMLVideoElement)||await v.reduce((N,C)=>N.then(()=>yl(C,s)).then(b=>{b&&a.appendChild(b)}),Promise.resolve()),a}function Yp(i,a,s){const f=a.style;if(!f)return;const p=window.getComputedStyle(i);p.cssText?(f.cssText=p.cssText,f.transformOrigin=p.transformOrigin):md(s).forEach(v=>{let N=p.getPropertyValue(v);v==="font-size"&&N.endsWith("px")&&(N=`${Math.floor(parseFloat(N.substring(0,N.length-2)))-.1}px`),Wt(i,HTMLIFrameElement)&&v==="display"&&N==="inline"&&(N="block"),v==="d"&&a.getAttribute("d")&&(N=`path(${a.getAttribute("d")})`),f.setProperty(v,N,p.getPropertyPriority(v))})}function Qp(i,a){Wt(i,HTMLTextAreaElement)&&(a.innerHTML=i.value),Wt(i,HTMLInputElement)&&a.setAttribute("value",i.value)}function Vp(i,a){if(Wt(i,HTMLSelectElement)){const f=Array.from(a.children).find(p=>i.value===p.getAttribute("value"));f&&f.setAttribute("selected","")}}function Xp(i,a,s){return Wt(a,Element)&&(Yp(i,a,s),zp(i,a,s),Qp(i,a),Vp(i,a)),a}async function Kp(i,a){const s=i.querySelectorAll?i.querySelectorAll("use"):[];if(s.length===0)return i;const f={};for(let v=0;v<s.length;v++){const C=s[v].getAttribute("xlink:href");if(C){const b=i.querySelector(C),E=document.querySelector(C);!b&&E&&!f[C]&&(f[C]=await yl(E,a,!0))}}const p=Object.values(f);if(p.length){const v="http://www.w3.org/1999/xhtml",N=document.createElementNS(v,"svg");N.setAttribute("xmlns",v),N.style.position="absolute",N.style.width="0",N.style.height="0",N.style.overflow="hidden",N.style.display="none";const C=document.createElementNS(v,"defs");N.appendChild(C);for(let b=0;b<p.length;b++)C.appendChild(p[b]);i.appendChild(N)}return i}async function yl(i,a,s){return!s&&a.filter&&!a.filter(i)?null:Promise.resolve(i).then(f=>Zp(f,a)).then(f=>Gp(i,f,a)).then(f=>Xp(i,f,a)).then(f=>Kp(f,a))}const wd=/url\((['"]?)([^'"]+?)\1\)/g,Jp=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,qp=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function eh(i){const a=i.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${a})(['"]?\\))`,"g")}function th(i){const a=[];return i.replace(wd,(s,f,p)=>(a.push(p),s)),a.filter(s=>!cs(s))}async function nh(i,a,s,f,p){try{const v=s?Np(a,s):a,N=hs(a);let C;return p||(C=await ms(v,N,f)),i.replace(eh(a),`$1${C}$3`)}catch{}return i}function rh(i,{preferredFontFormat:a}){return a?i.replace(qp,s=>{for(;;){const[f,,p]=Jp.exec(s)||[];if(!p)return"";if(p===a)return`src: ${f};`}}):i}function xd(i){return i.search(wd)!==-1}async function Sd(i,a,s){if(!xd(i))return i;const f=rh(i,s);return th(f).reduce((v,N)=>v.then(C=>nh(C,N,a,s)),Promise.resolve(f))}async function Mi(i,a,s){var f;const p=(f=a.style)===null||f===void 0?void 0:f.getPropertyValue(i);if(p){const v=await Sd(p,null,s);return a.style.setProperty(i,v,a.style.getPropertyPriority(i)),!0}return!1}async function ih(i,a){await Mi("background",i,a)||await Mi("background-image",i,a),await Mi("mask",i,a)||await Mi("-webkit-mask",i,a)||await Mi("mask-image",i,a)||await Mi("-webkit-mask-image",i,a)}async function ah(i,a){const s=Wt(i,HTMLImageElement);if(!(s&&!cs(i.src))&&!(Wt(i,SVGImageElement)&&!cs(i.href.baseVal)))return;const f=s?i.src:i.href.baseVal,p=await ms(f,hs(f),a);await new Promise((v,N)=>{i.onload=v,i.onerror=a.onImageErrorHandler?(...b)=>{try{v(a.onImageErrorHandler(...b))}catch(E){N(E)}}:N;const C=i;C.decode&&(C.decode=v),C.loading==="lazy"&&(C.loading="eager"),s?(i.srcset="",i.src=p):i.href.baseVal=p})}async function lh(i,a){const f=Ar(i.childNodes).map(p=>bd(p,a));await Promise.all(f).then(()=>i)}async function bd(i,a){Wt(i,Element)&&(await ih(i,a),await ah(i,a),await lh(i,a))}function oh(i,a){const{style:s}=i;a.backgroundColor&&(s.backgroundColor=a.backgroundColor),a.width&&(s.width=`${a.width}px`),a.height&&(s.height=`${a.height}px`);const f=a.style;return f!=null&&Object.keys(f).forEach(p=>{s[p]=f[p]}),i}const Vu={};async function Xu(i){let a=Vu[i];if(a!=null)return a;const f=await(await fetch(i)).text();return a={url:i,cssText:f},Vu[i]=a,a}async function Ku(i,a){let s=i.cssText;const f=/url\(["']?([^"')]+)["']?\)/g,v=(s.match(/url\([^)]+\)/g)||[]).map(async N=>{let C=N.replace(f,"$1");return C.startsWith("https://")||(C=new URL(C,i.url).href),vd(C,a.fetchRequestInit,({result:b})=>(s=s.replace(N,`url(${b})`),[N,b]))});return Promise.all(v).then(()=>s)}function Ju(i){if(i==null)return[];const a=[],s=/(\/\*[\s\S]*?\*\/)/gi;let f=i.replace(s,"");const p=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const b=p.exec(f);if(b===null)break;a.push(b[0])}f=f.replace(p,"");const v=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,N="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",C=new RegExp(N,"gi");for(;;){let b=v.exec(f);if(b===null){if(b=C.exec(f),b===null)break;v.lastIndex=C.lastIndex}else C.lastIndex=v.lastIndex;a.push(b[0])}return a}async function sh(i,a){const s=[],f=[];return i.forEach(p=>{if("cssRules"in p)try{Ar(p.cssRules||[]).forEach((v,N)=>{if(v.type===CSSRule.IMPORT_RULE){let C=N+1;const b=v.href,E=Xu(b).then(L=>Ku(L,a)).then(L=>Ju(L).forEach(R=>{try{p.insertRule(R,R.startsWith("@import")?C+=1:p.cssRules.length)}catch(T){console.error("Error inserting rule from remote css",{rule:R,error:T})}})).catch(L=>{console.error("Error loading remote css",L.toString())});f.push(E)}})}catch(v){const N=i.find(C=>C.href==null)||document.styleSheets[0];p.href!=null&&f.push(Xu(p.href).then(C=>Ku(C,a)).then(C=>Ju(C).forEach(b=>{N.insertRule(b,N.cssRules.length)})).catch(C=>{console.error("Error loading remote stylesheet",C)})),console.error("Error inlining remote css file",v)}}),Promise.all(f).then(()=>(i.forEach(p=>{if("cssRules"in p)try{Ar(p.cssRules||[]).forEach(v=>{s.push(v)})}catch(v){console.error(`Error while reading CSS rules from ${p.href}`,v)}}),s))}function ch(i){return i.filter(a=>a.type===CSSRule.FONT_FACE_RULE).filter(a=>xd(a.style.getPropertyValue("src")))}async function uh(i,a){if(i.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=Ar(i.ownerDocument.styleSheets),f=await sh(s,a);return ch(f)}function Id(i){return i.trim().replace(/["']/g,"")}function dh(i){const a=new Set;function s(f){(f.style.fontFamily||getComputedStyle(f).fontFamily).split(",").forEach(v=>{a.add(Id(v))}),Array.from(f.children).forEach(v=>{v instanceof HTMLElement&&s(v)})}return s(i),a}async function fh(i,a){const s=await uh(i,a),f=dh(i);return(await Promise.all(s.filter(v=>f.has(Id(v.style.fontFamily))).map(v=>{const N=v.parentStyleSheet?v.parentStyleSheet.href:null;return Sd(v.cssText,N,a)}))).join(`
`)}async function ph(i,a){const s=a.fontEmbedCSS!=null?a.fontEmbedCSS:a.skipFonts?null:await fh(i,a);if(s){const f=document.createElement("style"),p=document.createTextNode(s);f.appendChild(p),i.firstChild?i.insertBefore(f,i.firstChild):i.appendChild(f)}}async function hh(i,a={}){const{width:s,height:f}=gd(i,a),p=await yl(i,a,!0);return await ph(p,a),await bd(p,a),oh(p,a),await Pp(p,s,f)}async function mh(i,a={}){const{width:s,height:f}=gd(i,a),p=await hh(i,a),v=await ml(p),N=document.createElement("canvas"),C=N.getContext("2d"),b=a.pixelRatio||kp(),E=a.canvasWidth||s,L=a.canvasHeight||f;return N.width=E*b,N.height=L*b,a.skipAutoScale||Ep(N),N.style.width=`${E}`,N.style.height=`${L}`,a.backgroundColor&&(C.fillStyle=a.backgroundColor,C.fillRect(0,0,N.width,N.height)),C.drawImage(v,0,0,N.width,N.height),N}async function gh(i,a={}){return(await mh(i,a)).toDataURL()}const vh="modulepreload",yh=function(i){return"/build/"+i},qu={},ua=function(a,s,f){let p=Promise.resolve();if(s&&s.length>0){let N=function(E){return Promise.all(E.map(L=>Promise.resolve(L).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const C=document.querySelector("meta[property=csp-nonce]"),b=(C==null?void 0:C.nonce)||(C==null?void 0:C.getAttribute("nonce"));p=N(s.map(E=>{if(E=yh(E),E in qu)return;qu[E]=!0;const L=E.endsWith(".css"),R=L?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const T=document.createElement("link");if(T.rel=L?"stylesheet":vh,L||(T.as="script"),T.crossOrigin="",T.href=E,b&&T.setAttribute("nonce",b),document.head.appendChild(T),L)return new Promise((ne,le)=>{T.addEventListener("load",ne),T.addEventListener("error",()=>le(new Error(`Unable to preload CSS for ${E}`)))})}))}function v(N){const C=new Event("vite:preloadError",{cancelable:!0});if(C.payload=N,window.dispatchEvent(C),!C.defaultPrevented)throw N}return p.then(N=>{for(const C of N||[])C.status==="rejected"&&v(C.reason);return a().catch(v)})};let rs=0,Ei=0;const ed=["#2563eb","#dc2626","#059669","#f59e0b","#7c3aed"];function wh(i,a,s){var N;const f=(i==null?void 0:i.id)??`layer-${Ei===0?a:Ei}`;Ei+=1;const p=(i==null?void 0:i.type)??(i==null?void 0:i.kind)??"shape",v=Nd((i==null?void 0:i.frame)||((N=i==null?void 0:i.metadata)==null?void 0:N.frame)||null,s,p,a);return{id:f,name:(i==null?void 0:i.name)??`Layer ${a+1}`,type:p,visible:(i==null?void 0:i.visible)!==void 0?!!i.visible:!0,locked:(i==null?void 0:i.locked)!==void 0?!!i.locked:!1,opacity:typeof(i==null?void 0:i.opacity)=="number"?i.opacity:1,frame:v,fill:(i==null?void 0:i.fill)??(i==null?void 0:i.color)??_d(p),stroke:(i==null?void 0:i.stroke)??(i==null?void 0:i.border)??null,content:(i==null?void 0:i.content)??(i==null?void 0:i.text)??"",fontSize:typeof(i==null?void 0:i.fontSize)=="number"?i.fontSize:42,fontFamily:(i==null?void 0:i.fontFamily)??"Inter, sans-serif",fontWeight:(i==null?void 0:i.fontWeight)??"400",textAlign:(i==null?void 0:i.textAlign)??"center",borderRadius:typeof(i==null?void 0:i.borderRadius)=="number"?i.borderRadius:Cd(p),metadata:(i==null?void 0:i.metadata)??{}}}function Nd(i,a,s,f=0){if(!i){if(!a)return null;const v=48,N=Math.round(a.width*.6),C=Math.min(200,Math.round(a.height*.22)),b=f*32;return{x:v+b%120,y:v+b,width:s==="text"?Math.max(320,N):N,height:s==="text"?Math.max(120,Math.round(a.height*.12)):C,rotation:0}}const p=v=>typeof v=="number"?v:parseFloat(v);return{x:p(i.x)||0,y:p(i.y)||0,width:Math.max(1,p(i.width)||1),height:Math.max(1,p(i.height)||1),rotation:p(i.rotation)||0}}function us(i,a=0){const s=(i==null?void 0:i.id)??`page-${rs===0?a:rs}`;rs+=1;const f=Array.isArray(i==null?void 0:i.nodes)?i.nodes.map((p,v)=>wh(p,v,i)):[];return{id:s,name:(i==null?void 0:i.name)??`Page ${a+1}`,width:(i==null?void 0:i.width)??400,height:(i==null?void 0:i.height)??400,background:(i==null?void 0:i.background)??"#ffffff",safeZone:(i==null?void 0:i.safeZone)??null,bleed:(i==null?void 0:i.bleed)??null,nodes:f,metadata:(i==null?void 0:i.metadata)??{}}}function nn(i="shape",a=null,s={}){var C;const f=s.id??`layer-${Ei}`;Ei+=1;const v=(s.frame?{...s.frame}:null)||(a?Nd(null,a,i,((C=a.nodes)==null?void 0:C.length)??0):null),N=s.fill??_d(i);return{id:f,name:s.name??xh(i),type:i,visible:s.visible!==void 0?s.visible:!0,locked:s.locked??!1,opacity:typeof s.opacity=="number"?s.opacity:1,frame:v,fill:N,stroke:s.stroke??null,content:s.content??(i==="text"?"Double-click to edit text":""),fontSize:s.fontSize??(i==="text"?48:null),fontFamily:s.fontFamily??"Inter, sans-serif",fontWeight:s.fontWeight??(i==="text"?"400":void 0),textAlign:s.textAlign??"center",borderRadius:s.borderRadius??Cd(i,s.variant),variant:s.variant??(i==="shape"?"rectangle":null),metadata:{...s.metadata??{}}}}function xh(i){return i==="text"?"Text box":i==="image"?"Image placeholder":"Shape"}function _d(i){switch(i){case"text":return"#0f172a";case"image":return"rgba(148, 163, 184, 0.2)";default:return ed[Ei%ed.length]}}function Cd(i,a){return i==="shape"&&(a==="circle"||a==="ellipse")?9999:i==="shape"?16:0}const Md=_.createContext(null);function Sh(i){var s;const a=(s=i==null?void 0:i.design)==null?void 0:s.pages;return Array.isArray(a)&&a.length>0?a.map((f,p)=>us(f,p)):[us(null,0)]}const bh=({template:i})=>{var N,C;const a=Sh(i),s=((N=a[0])==null?void 0:N.id)??"page-0",f=(C=i==null?void 0:i.design)==null?void 0:C.activePageId,v=a.some(b=>b.id===f)?f:s;return{template:i,pages:a,activePageId:v,selectedLayerId:gl(a,v),zoom:1,panX:0,panY:0,layersPanelOpen:!0,inspectorOpen:!0,recentlyUploadedImages:[],showPreviewModal:!1,history:{undoStack:[],redoStack:[]}}};function Ih(i,a){var s,f,p,v,N,C;switch(a.type){case"SELECT_PAGE":return{...i,activePageId:a.pageId,selectedLayerId:gl(i.pages,a.pageId)};case"ADD_PAGE":{const b=us(a.page,i.pages.length),E=[...i.pages,b];return Mn(i,E,{activePageId:b.id,selectedLayerId:((s=b.nodes[0])==null?void 0:s.id)??null})}case"DELETE_PAGE":{if(i.pages.length<=1)return i;const b=i.pages.findIndex(T=>T.id===a.pageId);if(b===-1)return i;const E=i.pages.filter(T=>T.id!==a.pageId);let L=i.activePageId;if(a.pageId===i.activePageId){const T=b>0?b-1:0;L=((f=E[T])==null?void 0:f.id)??((p=E[0])==null?void 0:p.id)??null}const R=gl(E,L);return Mn(i,E,{activePageId:L,selectedLayerId:R})}case"UPDATE_PAGE_NAME":{const b=i.pages.map(E=>E.id===a.pageId?{...E,name:a.name}:E);return Mn(i,b)}case"UPDATE_PAGE_PROPS":{const b=i.pages.map(E=>E.id===a.pageId?{...E,...a.props}:E);return Mn(i,b)}case"SELECT_LAYER":return{...i,selectedLayerId:a.layerId};case"UPDATE_LAYER_PROPS":{const b=i.pages.map(E=>{if(E.id!==a.pageId)return E;const L=E.nodes.map(R=>R.id===a.layerId?{...R,...a.props}:R);return{...E,nodes:L}});return Mn(i,b,{selectedLayerId:ul(i,b,a.layerId)})}case"ADD_LAYER":{const b=i.pages.map(E=>{if(E.id!==a.pageId)return E;const L=[...E.nodes,a.layer];return{...E,nodes:L}});return Mn(i,b,{selectedLayerId:a.layer.id})}case"REMOVE_LAYER":{const b=i.pages.map(L=>{if(L.id!==a.pageId)return L;const R=L.nodes.filter(T=>T.id!==a.layerId);return{...L,nodes:R}}),E=ul(i,b,null);return Mn(i,b,{selectedLayerId:E})}case"DUPLICATE_LAYER":{const b=i.pages.map(L=>{if(L.id!==a.pageId)return L;const R=L.nodes.find(ne=>ne.id===a.layerId);if(!R)return L;const T={...nn(R.type,L,{...R,id:void 0,name:`${R.name} copy`,frame:R.frame?{...R.frame,x:R.frame.x+24,y:R.frame.y+24}:R.frame})};return{...L,nodes:[...L.nodes,T]}}),E=(v=b.find(L=>L.id===a.pageId))==null?void 0:v.nodes.slice(-1)[0];return Mn(i,b,{selectedLayerId:(E==null?void 0:E.id)??i.selectedLayerId})}case"REORDER_LAYER":{const b=i.pages.map(E=>{if(E.id!==a.pageId)return E;const L=E.nodes.findIndex(ne=>ne.id===a.layerId);if(L===-1)return E;const R=[...E.nodes],[T]=R.splice(L,1);if(a.direction==="FORWARD")R.splice(Math.min(R.length,L+1),0,T);else if(a.direction==="BACKWARD")R.splice(Math.max(0,L-1),0,T);else if(a.direction==="FRONT")R.push(T);else if(a.direction==="BACK")R.unshift(T);else if(typeof a.position=="number"){const ne=Math.max(0,Math.min(R.length,a.position));R.splice(ne,0,T)}else R.push(T);return{...E,nodes:R}});return Mn(i,b)}case"BEGIN_LAYER_TRANSFORM":return{...i,history:kd(i)};case"UPDATE_LAYER_FRAME":{const b=i.pages.map(E=>{if(E.id!==a.pageId)return E;const L=E.nodes.map(R=>{if(R.id!==a.layerId||R.locked)return R;const T=Nh(R.frame,a.frame,E);return{...R,frame:T}});return{...E,nodes:L}});return Mn(i,b,{selectedLayerId:a.layerId},a.trackHistory!==!1)}case"NUDGE_LAYER":{const b=i.pages.find(ne=>ne.id===a.pageId);if(!b)return i;const E=b.nodes.find(ne=>ne.id===a.layerId);if(!E||E.locked)return i;const L=a.dx??0,R=a.dy??0,T=i.pages.map(ne=>{if(ne.id!==a.pageId)return ne;const le=ne.nodes.map(ue=>{if(ue.id!==a.layerId)return ue;const te=ue.frame??Ed(ne);return{...ue,frame:{...te,x:Math.round(te.x+L),y:Math.round(te.y+R)}}});return{...ne,nodes:le}});return Mn(i,T,{selectedLayerId:a.layerId},a.trackHistory!==!1)}case"UPDATE_ZOOM":{const b=Math.min(Math.max(a.value,.25),3);return{...i,zoom:Number(b.toFixed(2))}}case"UPDATE_PAN":return{...i,panX:a.panX,panY:a.panY};case"SET_LAYERS_PANEL_OPEN":return{...i,layersPanelOpen:a.open};case"ADD_RECENTLY_UPLOADED_IMAGE":{const L=[{id:`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dataUrl:a.dataUrl,fileName:a.fileName,uploadedAt:new Date().toISOString()},...i.recentlyUploadedImages.filter(R=>R.dataUrl!==a.dataUrl)].slice(0,10);return{...i,recentlyUploadedImages:L}}case"DELETE_RECENTLY_UPLOADED_IMAGE":{const b=a.id,E=(i.recentlyUploadedImages||[]).filter(L=>L.id!==b);return{...i,recentlyUploadedImages:E}}case"SET_RECENTLY_UPLOADED_IMAGES":return{...i,recentlyUploadedImages:Array.isArray(a.images)?a.images:[]};case"PUSH_HISTORY":return{...i,history:{undoStack:[...i.history.undoStack,a.snapshot],redoStack:[]}};case"UNDO":{if(i.history.undoStack.length===0)return i;const b=[...i.history.undoStack],E=b.pop(),L=ca(E.pages),R=L.some(ne=>ne.id===i.activePageId)?i.activePageId:((N=L[0])==null?void 0:N.id)??null,T=ul(i,L,i.selectedLayerId,R);return{...i,pages:L,activePageId:R,selectedLayerId:T,history:{undoStack:b,redoStack:[{pages:ca(i.pages)},...i.history.redoStack]}}}case"REDO":{if(i.history.redoStack.length===0)return i;const[b,...E]=i.history.redoStack,L=ca(b.pages),R=L.some(ne=>ne.id===i.activePageId)?i.activePageId:((C=L[0])==null?void 0:C.id)??null,T=ul(i,L,i.selectedLayerId,R);return{...i,pages:L,activePageId:R,selectedLayerId:T,history:{undoStack:[...i.history.undoStack,{pages:ca(i.pages)}],redoStack:E}}}case"SHOW_PREVIEW_MODAL":return{...i,showPreviewModal:!0};case"HIDE_PREVIEW_MODAL":return{...i,showPreviewModal:!1};default:return i}}function gs({template:i,routes:a,flags:s,user:f,csrfToken:p,children:v}){const[N,C]=_.useReducer(Ih,{template:i},bh);ps.useEffect(()=>{let E=!0;async function L(){try{const T=await(await ua(()=>import("./recentImagesDB-CO6kquVm.js"),[])).getAllImages();if(!E)return;const ne=T.slice().sort((le,ue)=>new Date(ue.uploadedAt)-new Date(le.uploadedAt)).slice(0,10).map(le=>({id:le.id,dataUrl:le.blob?URL.createObjectURL(le.blob):"",fileName:le.fileName,uploadedAt:le.uploadedAt}));C({type:"SET_RECENTLY_UPLOADED_IMAGES",images:ne})}catch{}}return L(),()=>{E=!1}},[]);const b=_.useMemo(()=>({state:N,dispatch:C,routes:a,flags:s,user:f,csrfToken:p}),[N,a,s,f,p]);return c.jsx(Md.Provider,{value:b,children:v})}gs.propTypes={template:Oe.object,routes:Oe.object,flags:Oe.object,user:Oe.object,csrfToken:Oe.string,children:Oe.node.isRequired};gs.defaultProps={template:{},routes:{},flags:{},user:null,csrfToken:""};function rr(){const i=_.useContext(Md);if(!i)throw new Error("useBuilderStore must be used within BuilderStoreProvider");return i}function gl(i,a){const s=i.find(p=>p.id===a)??i[0];return!s||!Array.isArray(s.nodes)||s.nodes.length===0?null:(s.nodes.find(p=>p.visible!==!1)??s.nodes[0]).id}function Mn(i,a,s={},f=!0){const p=f?kd(i):i.history;return{...i,...s,pages:a,history:p}}function kd(i){return{undoStack:[...i.history.undoStack,{pages:ca(i.pages)}],redoStack:[]}}function ca(i){return i.map(a=>({...a,metadata:{...a.metadata??{}},nodes:(Array.isArray(a.nodes)?a.nodes:[]).map(s=>({...s,frame:s.frame?{...s.frame}:null,metadata:{...s.metadata??{}}}))}))}function ul(i,a,s,f){const p=f??i.activePageId,v=a.find(N=>N.id===p)??a[0];return v?s&&v.nodes.some(C=>C.id===s)?s:gl(a,p):null}function Nh(i,a,s){const f=i??Ed(s);return a?{x:Math.round(a.x??f.x),y:Math.round(a.y??f.y),width:Math.max(1,Math.round(a.width??f.width)),height:Math.max(1,Math.round(a.height??f.height)),rotation:Math.round(a.rotation??f.rotation??0)}:f}function Ed(i){return{x:Math.round(i.width*.1),y:Math.round(i.height*.1),width:Math.round(i.width*.6),height:Math.round(i.height*.25),rotation:0}}var _h={};function Ch(i){if(!i)return{top:0,right:0,bottom:0,left:0};const a=f=>{if(typeof f=="number")return f;if(typeof f=="string"){const p=parseFloat(f);return Number.isNaN(p)?0:p}return 0},s=a(i.margin??i.all??0);return{top:a(i.top??s),right:a(i.right??s),bottom:a(i.bottom??s),left:a(i.left??s)}}function Dn(i,a,s){const f=s.left,p=a.width-s.right-i.width,v=s.top,N=a.height-s.bottom-i.height;return{...i,x:Math.max(f,Math.min(p,i.x)),y:Math.max(v,Math.min(N,i.y))}}const td=[{id:"text",label:"Text",description:"Add headings, body copy, and typography styles.",icon:"fa-solid fa-t"},{id:"images",label:"Upload",description:"Upload customer photos or choose from brand assets.",icon:"fa-solid fa-cloud-arrow-up"},{id:"shapes",label:"Shapes",description:"Insert vector shapes, lines, and frames.",icon:"fa-solid fa-shapes"},{id:"photos",label:"Photos",description:"Add photos and images.",icon:"fa-solid fa-image"},{id:"icons",label:"Icons",description:"Insert icons and symbols.",icon:"fa-solid fa-icons"},{id:"draw",label:"Draw",description:"Draw shapes and lines.",icon:"fa-solid fa-pencil"},{id:"background",label:"Background",description:"Set background.",icon:"fa-solid fa-palette"},{id:"colors",label:"Colors",description:"Generate color palettes.",icon:"fa-solid fa-palette"},{id:"layers",label:"Layers",description:"Manage layers.",icon:"fa-solid fa-layer-group"},{id:"quotes",label:"Quotes",description:"Add quotes.",icon:"fa-solid fa-quote-left"}],Mh=[{id:"all",label:"All images",value:null},{id:"photos",label:"Photos",value:"photos"},{id:"illustrations",label:"Illustrations",value:"illustrations"},{id:"vectors",label:"Vectors",value:"vectors"},{id:"3d",label:"3D Models",value:"3d"},{id:"gifs",label:"GIFs",value:"gifs"}],kh=[{id:"unsplash",label:"Unsplash"},{id:"pixabay",label:"Pixabay"}],vl={unsplash:"Unsplash",pixabay:"Pixabay"},Eh="53250708-d3f88461e75cb0c2c5366a181",dl={unsplash:20,pixabay:30,flaticon:50},nd={all:{imageType:"all"},photos:{imageType:"photo"},illustrations:{imageType:"illustration"},vectors:{imageType:"vector"},"3d":{querySuffix:"3d model render",category:"computer"},gifs:{querySuffix:"animated gif loop",order:"popular"}},jh=(i=[])=>i.filter(Boolean).map(a=>{var s,f,p,v,N,C,b,E,L,R;return{id:`unsplash-${a.id}`,thumbUrl:((s=a==null?void 0:a.urls)==null?void 0:s.thumb)??((f=a==null?void 0:a.urls)==null?void 0:f.small)??((p=a==null?void 0:a.urls)==null?void 0:p.regular),previewUrl:((v=a==null?void 0:a.urls)==null?void 0:v.small)??((N=a==null?void 0:a.urls)==null?void 0:N.regular)??((C=a==null?void 0:a.urls)==null?void 0:C.full),downloadUrl:((b=a==null?void 0:a.urls)==null?void 0:b.regular)??((E=a==null?void 0:a.urls)==null?void 0:E.full)??((L=a==null?void 0:a.urls)==null?void 0:L.small),description:(a==null?void 0:a.alt_description)??(a==null?void 0:a.description)??"Unsplash photo",provider:"unsplash",providerLabel:vl.unsplash,credit:(R=a==null?void 0:a.user)!=null&&R.name?`Photo by ${a.user.name} on Unsplash`:"Unsplash",raw:a}}),Ph=(i=[])=>i.filter(Boolean).map(a=>({id:`pixabay-${a.id}`,thumbUrl:(a==null?void 0:a.previewURL)??(a==null?void 0:a.webformatURL),previewUrl:(a==null?void 0:a.webformatURL)??(a==null?void 0:a.largeImageURL)??(a==null?void 0:a.previewURL),downloadUrl:(a==null?void 0:a.largeImageURL)??(a==null?void 0:a.webformatURL)??(a==null?void 0:a.previewURL),description:(a==null?void 0:a.tags)??"Pixabay image",provider:"pixabay",providerLabel:vl.pixabay,credit:a!=null&&a.user?`${a.user} on Pixabay`:"Pixabay",raw:a}));function Rh({isSidebarHidden:i,onToggleSidebar:a}){const[s,f]=_.useState("text"),[p,v]=_.useState(""),[N,C]=_.useState([]),[b,E]=_.useState(!1),[L,R]=_.useState(1),[T,ne]=_.useState(!1),[le,ue]=_.useState(!0),[te,se]=_.useState("all"),[Ie,Ce]=_.useState("unsplash"),fe=_.useRef(1),ke=_.useRef(""),ze=_.useRef(!1),[Ue,Ge]=_.useState([]),[ft,lt]=_.useState(!1),[Ae,$e]=_.useState(""),[Ne,Te]=_.useState([{id:"default-heart",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",description:"Heart",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-star",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",description:"Star",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-home",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",description:"Home",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-user",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",description:"User",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"}]),[je,Je]=_.useState(!1),[He,B]=_.useState(1),[J,Y]=_.useState(!1),[h,y]=_.useState(!0),$=_.useRef(1),Z=_.useRef(""),re=_.useRef(!1),[ce,ie]=_.useState(""),[me,Se]=_.useState([]),[Pe,St]=_.useState(!1),[kn,vt]=_.useState(1),[qe,pt]=_.useState(!1),[et,Be]=_.useState(!0),it=_.useRef(1),Gt=_.useRef(""),Yt=_.useRef(!1),[bt,En]=_.useState([]),[pn,ir]=_.useState(1),[Pt,hn]=_.useState(!1),[De,jn]=_.useState(!0),xe=12,Ze=_.useRef([]),yt=_.useRef(null),Pn=_.useRef(null),Lr="AIzaSyBRCDdZjTcR4brOsHV_OBsDO11We11BVi0",ar=["Life is an ADVENTURE","Congratulations! You're a Big Brother","MARKETING PROPOSAL","SALE","MINIMALISM","Operations Manager","CREATIVE DESIGN","MODERN ARTISTRY","PROFESSIONAL SERVICES","DIGITAL INNOVATION","BRAND IDENTITY","VISUAL STORYTELLING","GRAPHIC DESIGN","TYPOGRAPHY MATTERS","DESIGN EXCELLENCE","CREATIVE SOLUTIONS","ART DIRECTION","VISUAL IMPACT","DESIGN THINKING","CREATIVE PROCESS","BRAND STORY","VISUAL LANGUAGE","DESIGN SYSTEM","CREATIVE AGENCY","VISUAL DESIGN","TYPEFACE DESIGN","GRAPHIC ARTS","DESIGN STUDIO","CREATIVE BRIEF","VISUAL CONCEPT"],Fn=_.useCallback(async(m=1)=>{if(!(Pt||!De)){hn(!0);try{if(!Ze.current||Ze.current.length===0)try{const G=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${Lr}&sort=popularity`);if(G.ok){const Q=await G.json();Ze.current=Q.items||[]}else console.warn("Google Fonts API returned",G.status),Ze.current=[]}catch(G){console.error("Failed to fetch Google Fonts list",G),Ze.current=[]}const d=Ze.current.length>0?Ze.current:[{family:"Inter"},{family:"Roboto"},{family:"Montserrat"},{family:"Poppins"},{family:"Playfair Display"},{family:"Lato"},{family:"Merriweather"},{family:"Crimson Text"}],S=(m-1)*xe,A=d.slice(S,S+xe).map((G,Q)=>{const X=ar[(S+Q)%ar.length],U=X.length>12?20:36,de=[{fontWeight:"400",align:"center",transform:"none"},{fontWeight:"700",align:"center",transform:"none"},{fontWeight:"400",align:"left",transform:"none"},{fontWeight:"700",align:"left",transform:"uppercase"},{fontWeight:"400",align:"center",transform:"uppercase"}],ye=de[(S+Q)%de.length];return{id:`styled-${G.family.replace(/\s+/g,"-").toLowerCase()}-${S+Q}`,family:G.family,content:X,fontSize:U,fontWeight:ye.fontWeight,align:ye.align,transform:ye.transform}});En(G=>[...G,...A]),ir(m+1),jn(S+xe<d.length)}finally{hn(!1)}}},[Pt,De]);_.useEffect(()=>{s==="text"&&bt.length===0&&Fn(1)},[s,bt.length,Fn]),_.useEffect(()=>{const m=yt.current||document.querySelector(".text-panel__styled-presets"),d=m==null?void 0:m.querySelector(".styled-loading-indicator");if(!m||!d||!De)return;const S=new IntersectionObserver(M=>{const[A]=M;A.isIntersecting&&!Pt&&De&&Fn(pn)},{root:m,rootMargin:"50px",threshold:.1});return S.observe(d),Pn.current=S,()=>{var M;try{(M=Pn.current)==null||M.disconnect()}catch{}}},[pn,Pt,De,Fn]);const[On,lr]=_.useState(""),[rn,Un]=_.useState([{id:"default-square",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",description:"Square",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"rectangle"},{id:"default-circle",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",description:"Circle",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"circle"},{id:"default-triangle",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",description:"Triangle",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"triangle"},{id:"default-star-shape",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiwxOSA0OSwxOSA1OCwzNiAzMiwzNiIgcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiwxOSA0OSwxOSA1OCwzNiAzMiwzNiIgcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiwxOSA0OSwxOSA1OCwzNiAzMiwzNiIgcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",description:"Star",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"star"}]),[Hn,mn]=_.useState(!1),[Bn,$n]=_.useState(1),[It,zr]=_.useState(!1),[Rt,gn]=_.useState(!0),Me=_.useRef(1),Tr=_.useRef(""),Qt=_.useRef(!1),Zn=_.useRef(new Set),{state:Nt,dispatch:tt}=rr(),vn=_.useRef(null),yn=_.useRef(null),or=_.useRef(null),W=_.useMemo(()=>Nt.pages.find(m=>m.id===Nt.activePageId)??Nt.pages[0],[Nt.pages,Nt.activePageId]),Tt=_.useMemo(()=>Ch(W==null?void 0:W.safeZone),[W==null?void 0:W.safeZone]),Dr=vl[Ie]??vl.unsplash,Rn=m=>{if(!W)return;const d=nn("text",W,{name:m.name,content:m.content,fontSize:m.fontSize,textAlign:m.align??"center"});d.frame&&(d.frame=Dn(d.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:d})},_t=(m,d=null)=>{var M,A;if(!W)return;const S=nn("shape",W,{name:m==="circle"?"Circle":"Rectangle",variant:m,borderRadius:m==="circle"?9999:16});m==="circle"&&(S.frame={...S.frame,width:Math.min(W.width*.3,((M=S.frame)==null?void 0:M.width)??280),height:Math.min(W.width*.3,((A=S.frame)==null?void 0:A.height)??280)}),d&&(S.metadata={...S.metadata,backgroundImage:d,objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0},S.fill="transparent"),S.frame&&(S.frame=Dn(S.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:S})},Jr=()=>{var m;W&&((m=vn.current)==null||m.click())},qr=async m=>{const d=m.target.files[0];if(!d||!W){console.log("No file selected or no active page");return}if(console.log("File selected:",d.name,"Size:",d.size,"Type:",d.type),!d.type.startsWith("image/")){alert("Please select an image file.");return}const S=10*1024*1024;if(d.size>S){alert("Image file is too large. Please select an image smaller than 10MB.");return}const M=new FileReader;M.onload=async A=>{try{const G=A.target.result;if(console.log("Image loaded, data URL length:",(G==null?void 0:G.length)??0),!G||!G.startsWith("data:image/")){console.error("Invalid data URL:",G),alert("Failed to read the image file. Please try again.");return}const Q=new Image;Q.onload=async()=>{try{const X=Q.naturalWidth||Q.width,U=Q.naturalHeight||Q.height,de=Math.round(W.width*.85),ye=Math.round(W.height*.85),_e=Math.min(1,de/X,ye/U),ge=Math.max(1,Math.round(X*_e)),Ee=Math.max(1,Math.round(U*_e)),V=Math.round((W.width-ge)/2),Fe=Math.round((W.height-Ee)/2),we=nn("image",W,{name:d.name||"Uploaded image",content:G,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0}});we.frame={x:V,y:Fe,width:ge,height:Ee,rotation:0},we.frame&&(we.frame=Dn(we.frame,W,Tt));try{tt({type:"ADD_LAYER",pageId:W.id,layer:we}),console.log("Layer dispatched to store")}catch(We){console.error("Error dispatching layer:",We),alert("Failed to add image to canvas. Please try again.")}try{const We=await ua(()=>import("./recentImagesDB-CO6kquVm.js"),[]),Ft=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await We.saveImage(Ft,d.name,d),We.pruneOld(10).catch(()=>{});const st=URL.createObjectURL(d);tt({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:st,fileName:d.name,id:Ft})}catch(We){console.error("Failed to persist or dispatch recent image from sidebar:",We)}}catch(X){console.error("Error creating layer from uploaded image:",X),alert("An error occurred while processing the image. Please try again.")}},Q.onerror=()=>{console.error("Failed to load image for sizing"),alert("Uploaded image could not be loaded. Try a different file.")},Q.src=G}catch(G){console.error("Error processing uploaded image:",G),alert("An error occurred while processing the image. Please try again.")}},M.onerror=()=>{console.error("Error reading file"),alert("Failed to read the image file. Please try again.")},console.log("Starting to read file as data URL"),M.readAsDataURL(d),m.target.value=""},ji=m=>{if(W)try{const d=new Image;d.onload=()=>{const S=d.naturalWidth||d.width,M=d.naturalHeight||d.height,A=Math.round(W.width*.85),G=Math.round(W.height*.85),Q=Math.min(1,A/S,G/M),X=Math.max(1,Math.round(S*Q)),U=Math.max(1,Math.round(M*Q)),de=Math.round((W.width-X)/2),ye=Math.round((W.height-U)/2),_e=nn("image",W,{name:m.fileName||"Uploaded image",content:m.dataUrl,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0}});_e.frame={x:de,y:ye,width:X,height:U,rotation:0},_e.frame&&(_e.frame=Dn(_e.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:_e})},d.onerror=()=>{const S=nn("image",W,{name:m.fileName||"Uploaded image",content:m.dataUrl,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0}});tt({type:"ADD_LAYER",pageId:W.id,layer:S})},d.src=m.dataUrl}catch(d){console.error("Failed to add recent image to canvas:",d),alert("Could not add image to canvas. Check console for details.")}},Wn=_.useCallback(async(m,d)=>{const S=m==null?void 0:m.trim();if(!S)return{items:[],hasMore:!1};if(Ie==="unsplash"){const Ee=dl.unsplash,V=te!=="all"?`&content_filter=${te}`:"",Fe=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(S)}&client_id=iFpUZ_6aTnLGz0Voz0MYlprq9i_RBl83ux9DzV6EMOs&per_page=${Ee}&page=${d}${V}`);if(!Fe.ok)throw new Error(`API error: ${Fe.status}`);const we=await Fe.json(),We=jh(we.results||[]),Ft=we.total_pages??(We.length===Ee?d+1:d);return{items:We,hasMore:d<Ft&&We.length>0}}const M=dl.pixabay,A=nd[te]??nd.all,Q=[S,A==null?void 0:A.querySuffix].filter(Boolean).join(" "),X=new URLSearchParams({key:Eh,q:Q||S,safesearch:"true",page:String(d),per_page:String(M)});A!=null&&A.imageType&&A.imageType!=="all"&&X.set("image_type",A.imageType),A!=null&&A.category&&X.set("category",A.category),A!=null&&A.order&&X.set("order",A.order);const U=await fetch(`https://pixabay.com/api/?${X.toString()}`);if(!U.ok)throw new Error(`API error: ${U.status}`);const de=await U.json(),ye=Ph(de.hits||[]),_e=Math.min(de.totalHits??0,500),ge=(d-1)*M+ye.length;return{items:ye,hasMore:_e>0&&ge<_e}},[Ie,te]),Gn=_.useCallback(async m=>{const d=(m??"").trim();if(d){ze.current=!0,ke.current=d,E(!0),R(1),fe.current=1,ue(!0);try{const{items:S,hasMore:M}=await Wn(d,1);C(S);const A=S.length>0?2:1;R(A),fe.current=A,ue(M)}catch(S){console.error("Search failed:",S),alert("Search failed. Please try again."),C([]),ue(!1)}finally{E(!1)}}},[Wn]),sr=_.useCallback(async()=>{if(T||!le)return;const m=ke.current.trim();if(m){ne(!0);try{const{items:d,hasMore:S}=await Wn(m,fe.current);if(d.length>0){C(A=>[...A,...d]);const M=fe.current+1;R(M),fe.current=M}ue(S&&d.length>0)}catch(d){console.error("Load more failed:",d),alert("Failed to load more images. Please try again."),ue(!1)}finally{ne(!1)}}},[Wn,le,T]),Fr=_.useRef(sr);_.useEffect(()=>{Fr.current=sr},[sr]);const cr=_.useCallback(async(m,d)=>{const S=m==null?void 0:m.trim();if(!S)return{items:[],hasMore:!1};const M=dl.flaticon;console.log("Fetching icons:",{query:S,pageNumber:d,perPage:M});const A=[{name:"Iconify",searchUrl:`https://api.iconify.design/search?query=${encodeURIComponent(S)}&limit=${M}&start=${(d-1)*M}`,noAuth:!0,type:"iconify"},{name:"Simple Icons Search",searchUrl:`https://api.github.com/search/code?q=${encodeURIComponent(S)}+repo:simple-icons/simple-icons&per_page=${Math.min(M,30)}&page=${d}`,noAuth:!0,type:"github"}];for(const U of A)try{console.log(`Trying ${U.name} API...`);const de=await fetch(U.searchUrl);if(!de.ok){const V=await de.text();console.log(`${U.name} search failed:`,de.status,V);continue}const ye=await de.json();console.log(`${U.name} search successful:`,ye);let _e=[],ge=0;U.name==="Iconify"?(_e=(ye==null?void 0:ye.icons)||[],ge=(ye==null?void 0:ye.total)||0,ge=Math.min(ge,1e3)):U.name==="Simple Icons Search"&&(_e=ye.items||[],ge=ye.total_count||0);const Ee=_e.map((V,Fe)=>{var ln;let we="",We="",Ft="",st="",Vt="";if(U.name==="Iconify"){const[Xt,Ct]=V.split(":");we=`https://api.iconify.design/${V}.svg?width=64&height=64`,We=`https://api.iconify.design/${V}.svg?width=128&height=128`,Ft=`https://api.iconify.design/${V}.svg`,st=Ct.replace(/([A-Z])/g," $1").trim()||V,Vt=`Iconify (${Xt})`}else if(U.name==="Simple Icons Search"){let Xt="";V.path&&(Xt=V.path.split("/").pop().replace(".svg","")),Xt=Xt||V.name||((ln=V.path)==null?void 0:ln.split("/").pop())||`icon-${Fe}`;const Ct=String(Xt).toLowerCase().replace(/[^a-z0-9]/g,"");we=`https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/${encodeURIComponent(Ct)}.svg`,We=we,Ft=we,st=Xt.replace(/([A-Z])/g," $1").trim()||"Simple Icon",Vt="Simple Icons"}return{id:`${U.name.toLowerCase()}-${V}-${Fe}`,thumbUrl:we,previewUrl:We,downloadUrl:Ft,description:st,provider:U.name.toLowerCase(),providerLabel:U.name,credit:Vt,raw:V}}).filter(V=>V.thumbUrl);if(Ee.length>0){console.log(`Returning ${Ee.length} results from ${U.name}`);const V=Math.ceil(ge/M),Fe=d<V&&Ee.length===M&&ge>d*M;return console.log(`Pagination info: page ${d}/${V}, hasMore: ${Fe}, totalItems: ${ge}`),{items:Ee,hasMore:Fe}}else console.log(`${U.name} returned no valid results`)}catch(de){console.log(`${U.name} API error:`,de.message);continue}console.log("All APIs failed, providing fallback icons");const X=[{name:"heart",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",tags:["love","favorite","like"]},{name:"star",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",tags:["favorite","rating","bookmark"]},{name:"home",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",tags:["house","building","property"]},{name:"user",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",tags:["person","profile","account"]},{name:"search",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",tags:["find","magnify","lookup"]},{name:"settings",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",tags:["gear","config","preferences"]},{name:"mail",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/mail.svg",tags:["email","message","envelope"]},{name:"phone",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/phone.svg",tags:["call","contact","telephone"]},{name:"camera",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/camera.svg",tags:["photo","picture","image"]},{name:"music",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/music.svg",tags:["audio","sound","note"]},{name:"play",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/play.svg",tags:["start","begin","media"]},{name:"pause",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/pause.svg",tags:["stop","wait","media"]},{name:"arrowright",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/arrowright.svg",tags:["next","forward","direction"]},{name:"arrowleft",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/arrowleft.svg",tags:["back","previous","direction"]},{name:"check",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/check.svg",tags:["yes","confirm","tick"]},{name:"close",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/close.svg",tags:["x","cancel","exit"]},{name:"plus",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/plus.svg",tags:["add","new","create"]},{name:"minus",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/minus.svg",tags:["remove","subtract","delete"]},{name:"menu",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/menu.svg",tags:["hamburger","navigation","list"]},{name:"calendar",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/calendar.svg",tags:["date","schedule","event"]}].filter(U=>U.name.toLowerCase().includes(S.toLowerCase())||U.tags.some(de=>de.toLowerCase().includes(S.toLowerCase()))).slice(0,Math.min(M,20)).map((U,de)=>({id:`fallback-${de}`,thumbUrl:U.url,previewUrl:U.url,downloadUrl:U.url,description:U.name.replace(/([A-Z])/g," $1").trim(),provider:"fallback",providerLabel:"Simple Icons",credit:"Simple Icons",raw:U}));return console.log(`Returning ${X.length} filtered fallback icons for query "${S}"`),{items:X,hasMore:!1}},[]),ur=_.useCallback(async(m,d)=>{const S=m==null?void 0:m.trim();if(!S)return{items:[],hasMore:!1};const M=dl.flaticon;console.log("Fetching shapes:",{query:S,pageNumber:d,perPage:M});const A=[{name:"Iconify",searchUrl:`https://api.iconify.design/search?query=${encodeURIComponent(S+" shape")}&limit=${M}&start=${(d-1)*M}`,noAuth:!0,type:"iconify"},{name:"Simple Icons Search",searchUrl:`https://api.github.com/search/code?q=${encodeURIComponent(S+" shape")}+repo:simple-icons/simple-icons&per_page=${Math.min(M,30)}&page=${d}`,noAuth:!0,type:"github"}];for(const U of A)try{console.log(`Trying ${U.name} API for shapes...`);const de=await fetch(U.searchUrl);if(!de.ok){const V=await de.text();console.log(`${U.name} search failed:`,de.status,V);continue}const ye=await de.json();console.log(`${U.name} search successful:`,ye);let _e=[],ge=0;U.name==="Iconify"?(_e=(ye==null?void 0:ye.icons)||[],ge=(ye==null?void 0:ye.total)||0,ge=Math.min(ge,1e3)):U.name==="Simple Icons Search"&&(_e=ye.items||[],ge=ye.total_count||0);const Ee=_e.map((V,Fe)=>{var Xt;let we="",We="",Ft="",st="",Vt="",ln="rectangle";if(U.name==="Iconify"){const[Ct,ri]=V.split(":");we=`https://api.iconify.design/${V}.svg?width=64&height=64`,We=`https://api.iconify.design/${V}.svg?width=128&height=128`,Ft=`https://api.iconify.design/${V}.svg`,st=ri.replace(/([A-Z])/g," $1").trim()||V,Vt=`Iconify (${Ct})`,st.toLowerCase().includes("circle")||st.toLowerCase().includes("round")?ln="circle":st.toLowerCase().includes("triangle")?ln="triangle":st.toLowerCase().includes("star")&&(ln="star")}else if(U.name==="Simple Icons Search"){let Ct="";V.path&&(Ct=V.path.split("/").pop().replace(".svg","")),Ct=Ct||V.name||((Xt=V.path)==null?void 0:Xt.split("/").pop())||`shape-${Fe}`;const ri=String(Ct).toLowerCase().replace(/[^a-z0-9]/g,"");we=`https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/${encodeURIComponent(ri)}.svg`,We=we,Ft=we,st=Ct.replace(/([A-Z])/g," $1").trim()||"Shape",Vt="Simple Icons",st.toLowerCase().includes("circle")||st.toLowerCase().includes("round")?ln="circle":st.toLowerCase().includes("triangle")?ln="triangle":st.toLowerCase().includes("star")&&(ln="star")}return{id:`${U.name.toLowerCase()}-shape-${V}-${Fe}`,thumbUrl:we,previewUrl:We,downloadUrl:Ft,description:st,provider:U.name.toLowerCase(),providerLabel:U.name,credit:Vt,variant:ln,raw:V}}).filter(V=>V.thumbUrl);if(Ee.length>0){console.log(`Returning ${Ee.length} results from ${U.name}`);const V=Math.ceil(ge/M),Fe=d<V&&Ee.length===M&&ge>d*M;return console.log(`Pagination info: page ${d}/${V}, hasMore: ${Fe}, totalItems: ${ge}`),{items:Ee,hasMore:Fe}}else console.log(`${U.name} returned no valid results`)}catch(de){console.log(`${U.name} API error:`,de.message);continue}console.log("All APIs failed, providing fallback shapes");const X=[{name:"square",variant:"rectangle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",tags:["rectangle","square","box"]},{name:"circle",variant:"circle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",tags:["circle","round","oval"]},{name:"triangle",variant:"triangle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",tags:["triangle","polygon","geometric"]},{name:"star",variant:"star",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",tags:["star","rating","favorite"]},{name:"hexagon",variant:"hexagon",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIxNiwyMCA4LDM2IDI0LDUyIDQwLDUyIDQ4LDM2IDQwLDIwIiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",tags:["hexagon","polygon","geometric"]},{name:"diamond",variant:"diamond",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiwyMCAyMCw4IDQ0LDg1MiA0NCIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",tags:["diamond","rhombus","geometric"]}].filter(U=>U.name.toLowerCase().includes(S.toLowerCase())||U.tags.some(de=>de.toLowerCase().includes(S.toLowerCase()))).slice(0,Math.min(M,20)).map((U,de)=>({id:`fallback-shape-${de}`,thumbUrl:U.url,previewUrl:U.url,downloadUrl:U.url,description:U.name.replace(/([A-Z])/g," $1").trim(),provider:"fallback",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:U.variant,raw:U}));return console.log(`Returning ${X.length} filtered fallback shapes for query "${S}"`),{items:X,hasMore:!1}},[]),Ye=_.useCallback(async m=>{const d=(m??"").trim();if(!d){Un([{id:"default-square",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",description:"Square",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"rectangle"},{id:"default-circle",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",description:"Circle",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"circle"},{id:"default-triangle",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",description:"Triangle",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"triangle"},{id:"default-star-shape",thumbUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",previewUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",downloadUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",description:"Star",provider:"default",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:"star"}]),Qt.current=!1,$n(1),Me.current=1,gn(!1);return}Qt.current=!0,Tr.current=d,mn(!0),$n(1),Me.current=1,gn(!0);try{const{items:S,hasMore:M}=await ur(d,1);Un(S);const A=S.length>0?2:1;$n(A),Me.current=A,gn(M)}catch(S){console.error("Shape search failed:",S),alert("Some shape providers are unavailable. Showing fallback shapes instead."),gn(!1)}finally{mn(!1)}},[ur]),dr=_.useCallback(async()=>{if(It||!Rt)return;const m=Tr.current.trim();if(m){zr(!0);try{const{items:d,hasMore:S}=await ur(m,Me.current);if(d.length>0){Un(A=>[...A,...d]);const M=Me.current+1;$n(M),Me.current=M}gn(S&&d.length>0)}catch(d){console.error("Load more shapes failed:",d),alert("Unable to load more shapes. Using available shapes."),gn(!1)}finally{zr(!1)}}},[ur,Rt,It]),Yn=_.useRef(dr);_.useEffect(()=>{Yn.current=dr},[dr]),_.useEffect(()=>{if(rn.length===0||!Rt)return;const m=document.querySelector(".shape-loading-indicator"),d=document.querySelector(".builder-sidebar__shape-results");if(!m||!d){console.log("Shape loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for shape loading indicator");const S=new IntersectionObserver(M=>{const[A]=M;console.log("Shape IntersectionObserver triggered:",{isIntersecting:A.isIntersecting,isLoadingMoreShapes:It,hasMoreShapes:Rt,shapeSearchResultsLength:rn.length}),A.isIntersecting&&!It&&Rt&&(console.log("Loading more shapes via IntersectionObserver..."),Yn.current())},{root:d,rootMargin:"50px",threshold:.1});return S.observe(m),()=>{console.log("Cleaning up shape IntersectionObserver"),S.disconnect()}},[rn.length,Rt,It]),_.useEffect(()=>{const m=document.querySelector(".builder-sidebar__shape-results");if(!m)return;const d=S=>{const{scrollTop:M,scrollHeight:A,clientHeight:G}=S.target,Q=M===0,X=M+G>=A;Q&&S.deltaY<0||X&&S.deltaY>0||S.stopPropagation()};return m.addEventListener("wheel",d,{passive:!0}),m.addEventListener("touchmove",d,{passive:!0}),()=>{m.removeEventListener("wheel",d),m.removeEventListener("touchmove",d)}},[]);const ei=_.useCallback(()=>{!It&&Rt&&Yn.current()},[It,Rt]),Qn=_.useCallback(async m=>{const d=(m??"").trim();if(!d){Te([{id:"default-heart",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",description:"Heart",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-star",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",description:"Star",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-home",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",description:"Home",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-user",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",description:"User",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-search",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",description:"Search",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-settings",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",description:"Settings",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"}]),re.current=!1,B(1),$.current=1,y(!1);return}re.current=!0,Z.current=d,Je(!0),B(1),$.current=1,y(!0);try{const{items:S,hasMore:M}=await cr(d,1);Te(S);const A=S.length>0?2:1;B(A),$.current=A,y(M)}catch(S){console.error("Icon search failed:",S),alert("Some icon providers are unavailable. Showing fallback icons instead."),y(!1)}finally{Je(!1)}},[cr]),Or=_.useCallback(async()=>{if(J||!h)return;const m=Z.current.trim();if(m){Y(!0);try{const{items:d,hasMore:S}=await cr(m,$.current);if(d.length>0){Te(A=>[...A,...d]);const M=$.current+1;B(M),$.current=M}y(S&&d.length>0)}catch(d){console.error("Load more icons failed:",d),alert("Unable to load more icons. Using available icons."),y(!1)}finally{Y(!1)}}},[cr,h,J]),fr=_.useRef(Or);_.useEffect(()=>{fr.current=Or},[Or]),_.useEffect(()=>{if(Ne.length===0||!h)return;const m=document.querySelector(".icon-loading-indicator"),d=document.querySelector(".builder-sidebar__icon-results");if(!m||!d){console.log("Icon loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for icon loading indicator");const S=new IntersectionObserver(M=>{const[A]=M;console.log("Icon IntersectionObserver triggered:",{isIntersecting:A.isIntersecting,isLoadingMoreIcons:J,hasMoreIcons:h,iconSearchResultsLength:Ne.length}),A.isIntersecting&&!J&&h&&(console.log("Loading more icons via IntersectionObserver..."),fr.current())},{root:d,rootMargin:"50px",threshold:.1});return S.observe(m),()=>{console.log("Cleaning up icon IntersectionObserver"),S.disconnect()}},[Ne.length,h,J]),_.useEffect(()=>{const m=document.querySelector(".builder-sidebar__icon-results");if(!m)return;const d=S=>{const{scrollTop:M,scrollHeight:A,clientHeight:G}=S.target,Q=M===0,X=M+G>=A;Q&&S.deltaY<0||X&&S.deltaY>0||S.stopPropagation()};return m.addEventListener("wheel",d,{passive:!0}),m.addEventListener("touchmove",d,{passive:!0}),()=>{m.removeEventListener("wheel",d),m.removeEventListener("touchmove",d)}},[]);const pr=_.useCallback(()=>{!J&&h&&fr.current()},[J,h]),Dt=async m=>{if(W)if(m.variant)_t(m.variant);else{const d=(m==null?void 0:m.downloadUrl)||(m==null?void 0:m.previewUrl)||(m==null?void 0:m.thumbUrl);if(!d){alert("Unable to load the selected shape. Please choose another one.");return}try{const S=await fetch(d);if(!S.ok)throw new Error(`Network error: ${S.status}`);const M=await S.blob(),A=new FileReader;A.onload=()=>{const G=A.result,Q=new Image;Q.onload=()=>{const X=Q.naturalWidth||Q.width,U=Q.naturalHeight||Q.height,de=Math.round(W.width*.2),ye=Math.round(W.height*.2),_e=Math.min(1,de/X,ye/U),ge=Math.max(1,Math.round(X*_e)),Ee=Math.max(1,Math.round(U*_e)),V=Math.round((W.width-ge)/2),Fe=Math.round((W.height-Ee)/2),we=nn("image",W,{name:(m==null?void 0:m.description)||"Shape",content:G,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0,attribution:m==null?void 0:m.credit,isShape:!0}});we.frame={x:V,y:Fe,width:ge,height:Ee,rotation:0},we.frame&&(we.frame=Dn(we.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:we})},Q.src=G},A.readAsDataURL(M)}catch(S){console.error("Failed to load shape:",S),alert("Failed to load shape. Please try again.")}}},hr=async m=>{if(!W)return;const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=async S=>{const M=S.target.files[0];if(!M)return;const A=10*1024*1024;if(M.size>A){alert("Image file is too large. Please select an image smaller than 10MB.");return}const G=new FileReader;G.onload=async Q=>{try{const X=Q.target.result;if(!X||!X.startsWith("data:image/")){alert("Failed to read the image file. Please try again.");return}_t(m,X);try{const U=await ua(()=>import("./recentImagesDB-CO6kquVm.js"),[]),de=`shape-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await U.saveImage(de,M.name,M),U.pruneOld(10).catch(()=>{});const ye=URL.createObjectURL(M);tt({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:ye,fileName:M.name,id:de})}catch(U){console.error("Failed to persist shape image:",U)}}catch(X){console.error("Error processing image for shape:",X),alert("An error occurred while processing the image. Please try again.")}},G.onerror=()=>{alert("Failed to read the image file. Please try again.")},G.readAsDataURL(M)},d.click()},At=async()=>{lt(!0);try{const m=await fetch("http://colormind.io/api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"default"})});if(!m.ok)throw new Error(`API error: ${m.status}`);const S=(await m.json()).result.map(M=>`rgb(${M[0]}, ${M[1]}, ${M[2]})`);Ge(S)}catch(m){console.error("Failed to generate color palette:",m),alert("Failed to generate color palette. Please try again.")}finally{lt(!1)}},Pi=m=>{if(!W)return;const d=nn("shape",W,{name:"Colored Shape",variant:"rectangle",fill:m,borderRadius:16});d.frame&&(d.frame=Dn(d.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:d})},Ri=m=>{if(!W)return;const d=nn("text",W,{name:"Colored Text",content:"Colored text",fontSize:32,fill:m});d.frame&&(d.frame=Dn(d.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:d})},ti=_.useCallback((m={})=>{const{family:d,weights:S}=m;if(!d)return;const M=Array.isArray(S)&&S.length>0?Array.from(new Set(S.map(X=>{if(typeof X=="number")return String(X);if(typeof X=="string"){const U=X.match(/\d+/);return U?U[0]:X.toLowerCase().includes("bold")?"700":"400"}return"400"}))):["400"],A=M.length>0?M.join(";"):"400",G=`${d}-${A}`;if(Zn.current.has(G))return;const Q=document.createElement("link");Q.rel="stylesheet",Q.href=`https://fonts.googleapis.com/css2?family=${encodeURIComponent(d)}:wght@${A}&display=swap`,document.head.appendChild(Q),Zn.current.add(G)},[]),mr=async m=>{if(!W)return;const d=(m==null?void 0:m.downloadUrl)||(m==null?void 0:m.previewUrl)||(m==null?void 0:m.thumbUrl);if(!d){alert("Unable to load the selected icon. Please choose another one.");return}try{const S=await fetch(d);if(!S.ok)throw new Error(`Network error: ${S.status}`);const M=await S.blob(),A=new FileReader;A.onload=()=>{const G=A.result,Q=new Image;Q.onload=()=>{const X=Q.naturalWidth||Q.width,U=Q.naturalHeight||Q.height,de=Math.round(W.width*.15),ye=Math.round(W.height*.15),_e=Math.min(1,de/X,ye/U),ge=Math.max(1,Math.round(X*_e)),Ee=Math.max(1,Math.round(U*_e)),V=Math.round((W.width-ge)/2),Fe=Math.round((W.height-Ee)/2),we=nn("image",W,{name:(m==null?void 0:m.description)||"Icon",content:G,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0,attribution:m==null?void 0:m.credit,isIcon:!0}});we.frame={x:V,y:Fe,width:ge,height:Ee,rotation:0},we.frame&&(we.frame=Dn(we.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:we})},Q.src=G},A.readAsDataURL(M)}catch(S){console.error("Failed to load icon:",S),alert("Failed to load icon. Please try again.")}},an=_.useCallback(async(m,d)=>{const S=m==null?void 0:m.trim();if(!S)return{items:[],hasMore:!1};const M=20,A=(d-1)*M;try{const G=_h.REACT_APP_GOOGLE_FONTS_API_KEY||"AIzaSyB8AzfLkq8VwHq5t5n5n5n5n5n5n5n5n5",Q=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${G}&sort=popularity`);if(!Q.ok)throw new Error(`Google Fonts API error: ${Q.status}`);const de=((await Q.json()).items||[]).filter(V=>V.family.toLowerCase().includes(S.toLowerCase())||V.category&&V.category.toLowerCase().includes(S.toLowerCase())),ye=A,_e=ye+M;return{items:de.slice(ye,_e).map(V=>({id:`font-${V.family.replace(/\s+/g,"-").toLowerCase()}`,family:V.family,category:V.category,variants:V.variants,subsets:V.subsets,version:V.version,lastModified:V.lastModified,files:V.files,provider:"google-fonts",providerLabel:"Google Fonts",credit:"Google Fonts"})),hasMore:_e<de.length}}catch(G){console.error("Google Fonts API failed:",G);const X=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["300","400","500","700"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lato",category:"sans-serif",variants:["300","400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["300","400","500","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"Playfair Display",category:"serif",variants:["400","700"]},{family:"Merriweather",category:"serif",variants:["300","400","700"]},{family:"Crimson Text",category:"serif",variants:["400","600"]}].filter(ge=>ge.family.toLowerCase().includes(S.toLowerCase())||ge.category.toLowerCase().includes(S.toLowerCase())),U=A,de=U+M;return{items:X.slice(U,de).map(ge=>({id:`font-${ge.family.replace(/\s+/g,"-").toLowerCase()}`,family:ge.family,category:ge.category,variants:ge.variants,subsets:["latin"],provider:"fallback",providerLabel:"System Fonts",credit:"System Fonts"})),hasMore:de<X.length}}},[]),wn=_.useCallback(async m=>{const d=(m??"").trim();if(!d){Se([]),Yt.current=!1,vt(1),it.current=1,Be(!1);return}Yt.current=!0,Gt.current=d,St(!0),vt(1),it.current=1,Be(!0);try{const{items:S,hasMore:M}=await an(d,1);Se(S);const A=S.length>0?2:1;vt(A),it.current=A,Be(M)}catch(S){console.error("Font search failed:",S),alert("Some font providers are unavailable. Showing fallback fonts instead."),Be(!1)}finally{St(!1)}},[an]),xn=_.useCallback(async()=>{if(qe||!et)return;const m=Gt.current.trim();if(m){pt(!0);try{const{items:d,hasMore:S}=await an(m,it.current);if(d.length>0){Se(A=>[...A,...d]);const M=it.current+1;vt(M),it.current=M}Be(S&&d.length>0)}catch(d){console.error("Load more fonts failed:",d),alert("Unable to load more fonts. Using available fonts."),Be(!1)}finally{pt(!1)}}},[an,et,qe]),gr=_.useRef(xn);_.useEffect(()=>{gr.current=xn},[xn]),_.useEffect(()=>{if(me.length===0||!et)return;const m=document.querySelector(".font-loading-indicator"),d=document.querySelector(".builder-sidebar__font-results");if(!m||!d){console.log("Font loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for font loading indicator");const S=new IntersectionObserver(M=>{const[A]=M;console.log("Font IntersectionObserver triggered:",{isIntersecting:A.isIntersecting,isLoadingMoreFonts:qe,hasMoreFonts:et,fontSearchResultsLength:me.length}),A.isIntersecting&&!qe&&et&&(console.log("Loading more fonts via IntersectionObserver..."),gr.current())},{root:d,rootMargin:"50px",threshold:.1});return S.observe(m),()=>{console.log("Cleaning up font IntersectionObserver"),S.disconnect()}},[me.length,et,qe]),_.useEffect(()=>{const m=document.querySelector(".builder-sidebar__font-results");if(!m)return;const d=S=>{const{scrollTop:M,scrollHeight:A,clientHeight:G}=S.target,Q=M===0,X=M+G>=A;Q&&S.deltaY<0||X&&S.deltaY>0||S.stopPropagation()};return m.addEventListener("wheel",d,{passive:!0}),m.addEventListener("touchmove",d,{passive:!0}),()=>{m.removeEventListener("wheel",d),m.removeEventListener("touchmove",d)}},[]);const ni=_.useCallback(()=>{!qe&&et&&gr.current()},[qe,et]),vr=m=>{if(!W)return;ti({family:m.family,weights:m.variants});const d=nn("text",W,{name:`${m.family} Text`,content:"Sample text with new font",fontSize:32,fontFamily:`${m.family}, ${m.category}`,fontWeight:"400"});d.frame&&(d.frame=Dn(d.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:d})};_.useEffect(()=>{!ze.current||!ke.current||Gn(ke.current)},[Gn,Ie,te]),_.useEffect(()=>{if(N.length===0||!le)return;const m=document.querySelector(".loading-indicator");if(!m){console.log("Loading indicator not found");return}console.log("Setting up IntersectionObserver for loading indicator");const d=new IntersectionObserver(S=>{const[M]=S;console.log("IntersectionObserver triggered:",{isIntersecting:M.isIntersecting,isLoadingMore:T,hasMore:le}),M.isIntersecting&&!T&&le&&p.trim()&&(console.log("Loading more images via IntersectionObserver..."),Fr.current())},{root:document.querySelector(".builder-sidebar__search-results"),rootMargin:"100px",threshold:.1});return d.observe(m),()=>{console.log("Cleaning up IntersectionObserver"),d.disconnect()}},[N.length,le,T,p]),_.useEffect(()=>{const m=document.querySelector(".builder-sidebar__search-results");if(!m)return;const d=S=>{const{scrollTop:M,scrollHeight:A,clientHeight:G}=S.target,Q=M===0,X=M+G>=A;Q&&S.deltaY<0||X&&S.deltaY>0||S.stopPropagation()};return m.addEventListener("wheel",d,{passive:!0}),m.addEventListener("touchmove",d,{passive:!0}),()=>{m.removeEventListener("wheel",d),m.removeEventListener("touchmove",d)}},[]);const x=async m=>{if(!W)return;const d=(m==null?void 0:m.downloadUrl)||(m==null?void 0:m.previewUrl)||(m==null?void 0:m.thumbUrl);if(!d){alert("Unable to load the selected image. Please choose another one.");return}try{const S=await fetch(d);if(!S.ok)throw new Error(`Network error: ${S.status}`);const M=await S.blob(),A=new FileReader;A.onload=()=>{const G=A.result,Q=new Image;Q.onload=()=>{const X=Q.naturalWidth||Q.width,U=Q.naturalHeight||Q.height,de=Math.round(W.width*.85),ye=Math.round(W.height*.85),_e=Math.min(1,de/X,ye/U),ge=Math.max(1,Math.round(X*_e)),Ee=Math.max(1,Math.round(U*_e)),V=Math.round((W.width-ge)/2),Fe=Math.round((W.height-Ee)/2),we=nn("image",W,{name:(m==null?void 0:m.description)||`${(m==null?void 0:m.providerLabel)??"Stock"} image`,content:G,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0,attribution:m==null?void 0:m.credit}});we.frame={x:V,y:Fe,width:ge,height:Ee,rotation:0},we.frame&&(we.frame=Dn(we.frame,W,Tt)),tt({type:"ADD_LAYER",pageId:W.id,layer:we})},Q.src=G},A.readAsDataURL(M)}catch(S){console.error("Failed to load photo:",S),alert("Failed to load photo. Please try again.")}},z=()=>{var m;if(!W)return c.jsx("div",{className:"builder-sidebar__empty-state",children:"Create a page to start designing."});switch(s){case"text":return c.jsxs("div",{className:"builder-sidebar__content builder-sidebar__content--text",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsxs("div",{children:[c.jsx("h2",{children:"Text"}),c.jsx("p",{children:"Add quick headings, stylized blocks, or browse the full font library."})]}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("div",{className:"text-panel",children:c.jsxs("div",{className:"text-panel__canvas",ref:or,children:[c.jsx("div",{className:"text-panel__quick",style:{marginBottom:"1rem"},children:c.jsxs("div",{className:"text-panel__quick-actions",style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[c.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Rn({name:"Heading",content:"Add header",fontSize:52}),onMouseEnter:d=>d.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:d=>d.target.style.background="rgba(37, 99, 235, 0.08)",children:"add header"}),c.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Rn({name:"Subheading",content:"Add sub header",fontSize:34}),onMouseEnter:d=>d.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:d=>d.target.style.background="rgba(37, 99, 235, 0.08)",children:"add sub header"}),c.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Rn({name:"Body text",content:"Add body text",fontSize:26,align:"left"}),onMouseEnter:d=>d.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:d=>d.target.style.background="rgba(37, 99, 235, 0.08)",children:"add body text"})]})}),c.jsxs("div",{className:"builder-sidebar__search",style:{marginBottom:"1rem"},children:[c.jsx("input",{type:"text",placeholder:"Search for fonts...",value:ce,onChange:d=>ie(d.target.value),onKeyDown:d=>d.key==="Enter"&&wn(d.target.value)}),c.jsx("button",{type:"button",onClick:()=>wn(ce),disabled:Pe,children:Pe?"Searching...":"Search"})]}),c.jsxs("div",{className:"text-panel__styled-presets",ref:yt,children:[c.jsx("div",{className:"text-panel__styled-grid",children:bt.map(d=>c.jsx("button",{type:"button",className:"styled-text-preset",onClick:()=>{try{ti({family:d.family,weights:[d.fontWeight]})}catch{}Rn({name:d.family,content:d.content,fontSize:d.fontSize,fontWeight:d.fontWeight,align:d.align,transform:d.transform})},title:`Add styled text: ${d.family}`,children:c.jsx("div",{className:"styled-text-preview",style:{fontFamily:d.family,fontSize:`${d.fontSize}px`,fontWeight:d.fontWeight,textAlign:d.align,textTransform:d.transform},children:d.content})},d.id))}),c.jsxs("div",{className:"styled-loading-indicator",children:[c.jsx("div",{className:`spinner ${Pt?"loading":""}`}),c.jsx("span",{children:Pt?"Loading styled presets...":De?"Scroll for more presets":"No more presets"})]})]}),me.length>0?c.jsxs("div",{className:"builder-sidebar__font-results",children:[me.map(d=>c.jsxs("button",{type:"button",className:"search-result-thumb font-result-thumb",onClick:()=>vr(d),title:`${d.family} (${d.category}) - ${d.providerLabel}`,children:[c.jsx("div",{className:"font-preview",style:{fontFamily:`${d.family}, ${d.category}`,fontSize:"16px",fontWeight:"400",textAlign:"center",padding:"8px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"4px",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.family}),c.jsx("span",{className:"search-result-provider-tag",children:d.providerLabel})]},d.id)),et&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-loading-indicator",children:[c.jsx("div",{className:`spinner ${qe?"loading":""}`}),c.jsx("span",{children:qe?"Loading more fonts...":"Scroll for more fonts"})]}),c.jsx("div",{className:"load-more-container",children:c.jsx("button",{type:"button",className:"load-more-btn",onClick:ni,disabled:qe,children:qe?"Loading...":"Load More Fonts"})})]})]}):Yt.current?c.jsx("div",{className:"builder-sidebar__empty-state",children:Pe?"Searching for fonts...":"No fonts found. Try a different search term."}):null]})})]});case"shapes":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Shapes"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Search for shapes from multiple providers."}),c.jsx("div",{className:"builder-sidebar__provider-note",children:"Shapes from Iconify and Simple Icons. Please display attribution when publishing your design."}),c.jsxs("div",{className:"builder-sidebar__search",children:[c.jsx("input",{ref:d=>{yn.current=d},type:"text",placeholder:"Search for shapes...",value:On,onChange:d=>lr(d.target.value),onKeyDown:d=>d.key==="Enter"&&Ye(d.target.value)}),c.jsx("button",{type:"button",onClick:()=>{var d;return Ye(((d=yn.current)==null?void 0:d.value)||On)},disabled:Hn,children:Hn?"Searching...":"Search"})]}),!Qt.current&&c.jsx("div",{className:"builder-sidebar__hint",style:{marginBottom:"10px",fontSize:"12px",color:"#666"},children:"Popular shapes (search above for more options):"}),!Qt.current&&c.jsx("div",{className:"builder-sidebar__shape-presets",style:{marginBottom:"15px"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_t("rectangle"),style:{padding:"8px",fontSize:"12px"},children:" Rectangle"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>hr("rectangle"),style:{padding:"8px",fontSize:"12px"},children:" + Image"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_t("circle"),style:{padding:"8px",fontSize:"12px"},children:" Circle"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>hr("circle"),style:{padding:"8px",fontSize:"12px"},children:" + Image"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_t("triangle"),style:{padding:"8px",fontSize:"12px"},children:" Triangle"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>hr("triangle"),style:{padding:"8px",fontSize:"12px"},children:" + Image"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_t("star"),style:{padding:"8px",fontSize:"12px"},children:" Star"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>hr("star"),style:{padding:"8px",fontSize:"12px"},children:" + Image"})]})}),rn.length>0?c.jsxs("div",{className:"builder-sidebar__shape-results",children:[rn.map(d=>c.jsxs("button",{type:"button",className:"search-result-thumb",onClick:()=>Dt(d),title:`${d.description} (${d.providerLabel})`,children:[c.jsx("img",{src:d.thumbUrl,alt:d.description,style:{width:64,height:64,objectFit:"contain",backgroundColor:"#fff"},onError:S=>{try{S.target.onerror=null;const A=`<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23f3f4f6'/><text x='50%' y='50%' font-size='14' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(d.description||"sh").toUpperCase().slice(0,2)}</text></svg>`;S.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(A)}catch{}}}),d.providerLabel!=="Iconify"&&c.jsx("span",{className:"search-result-provider-tag",children:d.providerLabel})]},d.id)),Rt&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"shape-loading-indicator",children:[c.jsx("div",{className:`spinner ${It?"loading":""}`}),c.jsx("span",{children:It?"Loading more shapes...":"Scroll for more shapes"})]}),c.jsx("div",{className:"load-more-container",children:c.jsx("button",{type:"button",className:"load-more-btn",onClick:ei,disabled:It,children:It?"Loading...":"Load More Shapes"})})]})]}):Qt.current?c.jsx("div",{className:"builder-sidebar__empty-state",children:Hn?"Searching for shapes...":"No shapes found. Try a different search term."}):null]});case"images":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Upload"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Upload and add images to enhance your design."}),c.jsx("div",{className:"builder-sidebar__tool-actions",children:c.jsx("button",{type:"button",className:"tool-action-btn",onClick:Jr,children:"Upload image"})}),c.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[c.jsx("h3",{children:"Recently Upload"}),c.jsx("div",{className:"builder-sidebar__recent-items",children:Nt.recentlyUploadedImages&&Nt.recentlyUploadedImages.length>0?c.jsx("div",{className:"inspector-recent-images",children:Nt.recentlyUploadedImages.map(d=>c.jsxs("div",{className:"inspector-recent-image__tile",children:[c.jsx("button",{type:"button",className:"inspector-recent-image",onClick:()=>ji(d),title:d.fileName,"aria-label":`Use recently uploaded image: ${d.fileName}`,children:c.jsx("img",{src:d.dataUrl,alt:d.fileName,className:"inspector-recent-image__thumb",onError:S=>{S.target.style.display="none"}})}),c.jsx("button",{type:"button",className:"inspector-recent-image__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${d.fileName}`,onClick:async S=>{S.stopPropagation();try{const M=await ua(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(d.dataUrl&&d.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(d.dataUrl)}catch{}await M.deleteImage(d.id),tt({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:d.id})}catch(M){console.error("Failed to delete recent image",M),alert("Failed to delete recent image. See console for details.")}},children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{width:14,height:14},children:[c.jsx("path",{d:"M3 6h18"}),c.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),c.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),c.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),c.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]},d.id))}):c.jsx("div",{className:"builder-sidebar__empty-state",children:"Recently uploaded images will appear here."})})]}),c.jsx("div",{className:"builder-sidebar__hint",children:"Image uploads will connect to the asset library in a future release."})]});case"photos":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Photos"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Search for royalty-free images from Unsplash and Pixabay."}),c.jsx("div",{className:"builder-sidebar__provider-toggle",role:"group","aria-label":"Choose image provider",children:kh.map(d=>c.jsx("button",{type:"button",className:`filter-btn ${Ie===d.id?"active":""}`,onClick:()=>Ce(d.id),children:d.label},d.id))}),c.jsxs("div",{className:"builder-sidebar__provider-note",children:["Showing results from ",Dr,". Please display attribution when publishing your design."]}),c.jsx("div",{className:"builder-sidebar__filters",role:"group","aria-label":"Filter results",children:Mh.map(d=>c.jsx("button",{type:"button",className:`filter-btn ${te===d.id?"active":""}`,onClick:()=>se(d.id),children:d.label},d.id))}),c.jsxs("div",{className:"builder-sidebar__search",children:[c.jsx("input",{type:"text",placeholder:"Search for photos...",value:p,onChange:d=>v(d.target.value),onKeyDown:d=>d.key==="Enter"&&Gn(d.target.value)}),c.jsx("button",{type:"button",onClick:()=>Gn(p),disabled:b,children:b?"Searching...":"Search"})]}),N.length>0&&c.jsxs("div",{className:"builder-sidebar__search-results",children:[N.map(d=>c.jsx("button",{type:"button",className:"search-result-thumb",onClick:()=>x(d),title:`${d.description} (${d.providerLabel})`,children:c.jsx("img",{src:d.thumbUrl,alt:d.description,style:{width:96,height:96,objectFit:"cover",backgroundColor:"#f3f4f6"},onError:S=>{try{S.target.onerror=null;const A=`<svg xmlns='http://www.w3.org/2000/svg' width='96' height='96'><rect width='100%' height='100%' fill='%23e5e7eb'/><text x='50%' y='50%' font-size='12' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(d.description||"img").toUpperCase().slice(0,3)}</text></svg>`;S.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(A)}catch{}}})},d.id)),le&&c.jsxs("div",{className:"loading-indicator",children:[c.jsx("div",{className:`spinner ${T?"loading":""}`}),c.jsx("span",{children:T?`Loading more ${Dr} images...`:`Scroll for more ${Dr} images`})]})]})]});case"background":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Background"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Quickly apply background colors to the current page."}),c.jsx("div",{className:"builder-sidebar__swatches",role:"list",children:["#ffffff","#fef3c7","#dbeafe","#fef2f2","#ecfccb"].map(d=>c.jsx("button",{type:"button",className:"tool-swatch",style:{backgroundColor:d},"aria-label":`Set page background to ${d}`,onClick:()=>tt({type:"UPDATE_PAGE_PROPS",pageId:W.id,props:{background:d}})},d))})]});case"colors":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Colors"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Generate beautiful color palettes using Colormind's AI."}),c.jsx("div",{className:"builder-sidebar__tool-actions",children:c.jsx("button",{type:"button",className:"tool-action-btn",onClick:At,disabled:ft,children:ft?"Generating...":"Generate Palette"})}),Ue.length>0&&c.jsxs("div",{className:"builder-sidebar__palette",children:[c.jsx("h3",{children:"Current Palette"}),c.jsx("div",{className:"builder-sidebar__palette-colors",children:Ue.map((d,S)=>c.jsxs("div",{className:"builder-sidebar__palette-item",children:[c.jsx("div",{className:"builder-sidebar__palette-swatch",style:{backgroundColor:d},title:d}),c.jsxs("div",{className:"builder-sidebar__palette-actions",children:[c.jsx("button",{type:"button",className:"tool-action-btn-small",onClick:()=>Pi(d),title:"Apply to shape",children:"Shape"}),c.jsx("button",{type:"button",className:"tool-action-btn-small",onClick:()=>Ri(d),title:"Apply to text",children:"Text"})]})]},S))})]}),c.jsx("div",{className:"builder-sidebar__provider-note",children:"Color palettes generated by Colormind.io API."})]});case"quotes":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Quotes"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Select a quote preset to add inspirational text blocks."}),c.jsxs("div",{className:"builder-sidebar__tool-actions",children:[c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>Rn({name:"Quote",content:'"The best way to predict the future is to create it."',fontSize:32}),children:"Add quote"}),c.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>Rn({name:"Inspiration",content:`"Believe you can and you're halfway there."`,fontSize:28}),children:"Add inspiration"})]})]});case"icons":return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:"Icons"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Search for icons from multiple providers."}),c.jsx("div",{className:"builder-sidebar__provider-note",children:"Icons from Simple Icons, IconFinder, Iconify, and Flaticon. Please display attribution when publishing your design."}),c.jsxs("div",{className:"builder-sidebar__search",children:[c.jsx("input",{ref:d=>{yn.current=d},type:"text",placeholder:"Search for icons...",value:Ae,onChange:d=>$e(d.target.value),onKeyDown:d=>d.key==="Enter"&&Qn(d.target.value)}),c.jsx("button",{type:"button",onClick:()=>{var d;return Qn(((d=yn.current)==null?void 0:d.value)||Ae)},disabled:je,children:je?"Searching...":"Search"})]}),!re.current&&c.jsx("div",{className:"builder-sidebar__hint",style:{marginBottom:"10px",fontSize:"12px",color:"#666"},children:"Popular icons (search above for more options):"}),Ne.length>0?c.jsxs("div",{className:"builder-sidebar__icon-results",children:[Ne.map(d=>c.jsxs("button",{type:"button",className:"search-result-thumb",onClick:()=>mr(d),title:`${d.description} (${d.providerLabel})`,children:[c.jsx("img",{src:d.thumbUrl,alt:d.description,style:{width:64,height:64,objectFit:"contain",backgroundColor:"#fff"},onError:S=>{try{S.target.onerror=null;const A=`<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23f3f4f6'/><text x='50%' y='50%' font-size='14' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(d.description||"ic").toUpperCase().slice(0,2)}</text></svg>`;S.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(A)}catch{}}}),d.providerLabel!=="Iconify"&&c.jsx("span",{className:"search-result-provider-tag",children:d.providerLabel})]},d.id)),h&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"icon-loading-indicator",children:[c.jsx("div",{className:`spinner ${J?"loading":""}`}),c.jsx("span",{children:J?"Loading more icons...":"Scroll for more icons"})]}),c.jsx("div",{className:"load-more-container",children:c.jsx("button",{type:"button",className:"load-more-btn",onClick:pr,disabled:J,children:J?"Loading...":"Load More Icons"})})]})]}):re.current?c.jsx("div",{className:"builder-sidebar__empty-state",children:je?"Searching for icons...":"No icons found. Try a different search term."}):null]});default:return c.jsxs("div",{className:"builder-sidebar__content",children:[c.jsxs("div",{className:"builder-sidebar__header",children:[c.jsx("h2",{children:((m=td.find(d=>d.id===s))==null?void 0:m.label)??"Tools"}),c.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:c.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),c.jsx("p",{children:"Additional creative resources will appear here soon."}),c.jsx("div",{className:"builder-sidebar__empty-state",children:"Tool-specific controls will render here as the builder matures."})]})}};return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:`builder-sidebar ${i?"is-collapsed":""}`,"aria-label":"Primary design tools",children:[c.jsxs("div",{className:"builder-sidebar__tabs",role:"tablist","aria-orientation":"vertical",children:[td.map(m=>c.jsxs("button",{type:"button",role:"tab","aria-selected":s===m.id,className:`builder-sidebar__tab ${s===m.id?"is-active":""}`,onClick:()=>f(m.id),children:[c.jsx("i",{className:m.icon,"aria-hidden":"true"}),c.jsx("span",{children:m.label})]},m.id)),i&&c.jsx("button",{type:"button",className:"builder-sidebar__expand-toggle",onClick:a,"aria-label":"Expand sidebar",title:"Expand sidebar",children:c.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),!i&&c.jsx("div",{className:"builder-sidebar__panel",role:"tabpanel","aria-live":"polite",children:z()})]}),c.jsx("input",{type:"file",ref:vn,onChange:qr,accept:"image/*",style:{display:"none"}})]})}var rd=hd();function Ah(i){if(!i)return{top:0,right:0,bottom:0,left:0};const a=f=>{if(typeof f=="number")return f;if(typeof f=="string"){const p=parseFloat(f);return Number.isNaN(p)?0:p}return 0},s=a(i.margin??i.all??0);return{top:a(i.top??s),right:a(i.right??s),bottom:a(i.bottom??s),left:a(i.left??s)}}function jd(i,a,s){const f=s.left,p=a.width-s.right-i.width,v=s.top,N=a.height-s.bottom-i.height;return{...i,x:Math.max(f,Math.min(p,i.x)),y:Math.max(v,Math.min(N,i.y))}}function Lh(i,a,s,f){const p=Math.max(0,s.width-f.left-f.right),v=Math.max(0,s.height-f.top-f.bottom),N=Math.min(i,p),C=Math.min(a,v),b=f.left+Math.round((p-N)/2),E=f.top+Math.round((v-C)/2);return{x:b,y:E,width:Math.max(24,N),height:Math.max(24,C),rotation:0}}function zh(i,a,s,f,p){const v=i.x+i.width/2,N=i.y+i.height/2,C={x:Math.round(v-a/2),y:Math.round(N-s/2),width:a,height:s,rotation:i.rotation??0};return jd(C,f,p)}const Th=[{id:"rectangle",group:"basic",label:"Rectangle",description:"Standard invitation rectangle",preview:"rectangle",variant:"rectangle",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(110,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"square",group:"basic",label:"Square",description:"Even sides for balanced layouts",preview:"square",variant:"rectangle",borderRadius:8,getSize:({page:i,safeInsets:a})=>{const s=Math.min(i.width-a.left-a.right,i.height-a.top-a.bottom),f=Math.max(120,Math.round(s*.55));return{width:f,height:f}}},{id:"circle",group:"basic",label:"Circle",description:"Perfect circular badge or avatar",preview:"circle",variant:"circle",borderRadius:9999,getSize:({page:i,safeInsets:a})=>{const s=Math.min(i.width-a.left-a.right,i.height-a.top-a.bottom),f=Math.max(120,Math.round(s*.5));return{width:f,height:f}}},{id:"oval",group:"basic",label:"Oval",description:"Elongated oval for decorative layouts",preview:"oval",variant:"rectangle",borderRadius:9999,getSize:({page:i,safeInsets:a})=>{const s=i.width-a.left-a.right,f=Math.max(200,Math.round(s*.7)),p=Math.max(110,Math.round(f*.44));return{width:f,height:p}}},{id:"rounded-rectangle",group:"basic",label:"Rounded Rectangle",description:"Rectangle with soft rounded corners",preview:"rounded-rectangle",variant:"rectangle",borderRadius:16,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(100,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"half-circle",group:"basic",label:"Half Circle",description:"Semi-circle for modern accents",preview:"half-circle",variant:"rectangle",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.5)),height:Math.max(90,Math.round((i.height-a.top-a.bottom)*.18))})},{id:"triangle",group:"basic",label:"Triangle",description:"Simple triangle for pointers or accents",preview:"triangle",variant:"polygon",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.4)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"diamond",group:"basic",label:"Diamond (rhombus)",description:"Rhombus shape for badges",preview:"diamond",variant:"polygon",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(120,Math.round((i.width-a.left-a.right)*.38)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.38))})},{id:"scalloped-rectangle",group:"decorative",label:"Scalloped Edge Rectangle",description:"Decorative scalloped border",preview:"scalloped-rectangle",variant:"rectangle",borderRadius:12,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"wavy-edge-rectangle",group:"decorative",label:"Wavy Edge Rectangle",description:"Soft wavy edges for a playful look",preview:"wavy-edge-rectangle",variant:"rectangle",borderRadius:10,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"curved-edge-square",group:"decorative",label:"Curved Edge Square",description:"Square with curved edges",preview:"curved-edge-square",variant:"rectangle",borderRadius:18,getSize:({page:i,safeInsets:a})=>{const s=Math.min(i.width-a.left-a.right,i.height-a.top-a.bottom),f=Math.max(120,Math.round(s*.45));return{width:f,height:f}}},{id:"cloud-shape",group:"decorative",label:"Cloud Shape",description:"Soft cloud-like outline",preview:"cloud-shape",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(200,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(130,Math.round((i.height-a.top-a.bottom)*.44))})},{id:"hexagon",group:"decorative",label:"Hexagon",description:"Geometric hexagon",preview:"hexagon",variant:"polygon",borderRadius:8,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.42))})},{id:"octagon",group:"decorative",label:"Octagon",description:"Eight-sided geometric shape",preview:"octagon",variant:"polygon",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(140,Math.round((i.height-a.top-a.bottom)*.45))})},{id:"heart",group:"decorative",label:"Heart",description:"Romantic heart shape",preview:"heart",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>{const s=Math.min(i.width-a.left-a.right,i.height-a.top-a.bottom),f=Math.max(140,Math.round(s*.45));return{width:f,height:f}}},{id:"star",group:"decorative",label:"Star",description:"Five-pointed star",preview:"star",variant:"polygon",borderRadius:4,getSize:({page:i,safeInsets:a})=>({width:Math.max(130,Math.round((i.width-a.left-a.right)*.38)),height:Math.max(130,Math.round((i.height-a.top-a.bottom)*.38))})},{id:"flower",group:"decorative",label:"Flower / Petal Shape",description:"Petal-style decorative shape",preview:"flower",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(150,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(150,Math.round((i.height-a.top-a.bottom)*.45))})},{id:"bracket-frame",group:"decorative",label:"Bracket Frame",description:"Classic bracket-style frame",preview:"bracket-frame",variant:"frame",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(130,Math.round((i.height-a.top-a.bottom)*.4))})},{id:"ornate-frame",group:"decorative",label:"Ornate Frame",description:"Vintage ornate border",preview:"ornate-frame",variant:"frame",borderRadius:8,getSize:({page:i,safeInsets:a})=>({width:Math.max(200,Math.round((i.width-a.left-a.right)*.65)),height:Math.max(150,Math.round((i.height-a.top-a.bottom)*.45))})},{id:"shield",group:"decorative",label:"Shield Shape",description:"Heraldic shield-style shape",preview:"shield",variant:"polygon",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(150,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(170,Math.round((i.height-a.top-a.bottom)*.5))})},{id:"tag-shape",group:"decorative",label:"Tag Shape",description:"Gift-tag with a notch",preview:"tag-shape",variant:"tag",borderRadius:8,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(90,Math.round((i.height-a.top-a.bottom)*.28))})},{id:"arch-top-rectangle",group:"decorative",label:"Arch Top Rectangle",description:"Rectangle with an arched top",preview:"arch-top-rectangle",variant:"rectangle",borderRadius:18,getSize:({page:i,safeInsets:a})=>({width:Math.max(160,Math.round((i.width-a.left-a.right)*.55)),height:Math.max(110,Math.round((i.height-a.top-a.bottom)*.34))})},{id:"half-arch",group:"decorative",label:"Half Arch",description:"Modern half-arch accent",preview:"half-arch",variant:"rectangle",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.55)),height:Math.max(90,Math.round((i.height-a.top-a.bottom)*.18))})},{id:"gate-fold",group:"folded",label:"Gate Fold",description:"Double door fold layout",preview:"gate-fold",variant:"layout",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(240,Math.round((i.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((i.height-a.top-a.bottom)*.65))})},{id:"tri-fold",group:"folded",label:"Tri-Fold",description:"Three-panel fold",preview:"tri-fold",variant:"layout",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(240,Math.round((i.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((i.height-a.top-a.bottom)*.65))})},{id:"z-fold",group:"folded",label:"Z-Fold",description:"Z-style folding panels",preview:"z-fold",variant:"layout",borderRadius:0,getSize:({page:i,safeInsets:a})=>({width:Math.max(240,Math.round((i.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((i.height-a.top-a.bottom)*.65))})},{id:"pocket-fold",group:"folded",label:"Pocket Fold",description:"Pocket fold for inserts",preview:"pocket-fold",variant:"layout",borderRadius:4,getSize:({page:i,safeInsets:a})=>({width:Math.max(220,Math.round((i.width-a.left-a.right)*.7)),height:Math.max(180,Math.round((i.height-a.top-a.bottom)*.6))})},{id:"tent-fold",group:"folded",label:"Tent Fold",description:"Greeting-card / tent-style",preview:"tent-fold",variant:"layout",borderRadius:4,getSize:({page:i,safeInsets:a})=>({width:Math.max(220,Math.round((i.width-a.left-a.right)*.7)),height:Math.max(180,Math.round((i.height-a.top-a.bottom)*.6))})},{id:"layered-rectangle",group:"folded",label:"Layered Rectangle",description:"Stacked rectangle borders for layered look",preview:"layered-rectangle",variant:"rectangle",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"butterfly",group:"creative",label:"Butterfly",description:"Delicate butterfly silhouette",preview:"butterfly",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.5)),height:Math.max(130,Math.round((i.height-a.top-a.bottom)*.38))})},{id:"leaf",group:"creative",label:"Leaf",description:"Natural leaf motif",preview:"leaf",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(160,Math.round((i.width-a.left-a.right)*.45)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"balloon",group:"creative",label:"Balloon",description:"Party balloon outline",preview:"balloon",variant:"organic",borderRadius:9999,getSize:({page:i,safeInsets:a})=>({width:Math.max(120,Math.round((i.width-a.left-a.right)*.35)),height:Math.max(150,Math.round((i.height-a.top-a.bottom)*.45))})},{id:"crown",group:"creative",label:"Crown",description:"Royal crown silhouette",preview:"crown",variant:"organic",borderRadius:4,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.4)),height:Math.max(90,Math.round((i.height-a.top-a.bottom)*.28))})},{id:"ticket-shape",group:"creative",label:"Ticket Shape",description:"Event ticket outline",preview:"ticket-shape",variant:"tag",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(160,Math.round((i.width-a.left-a.right)*.5)),height:Math.max(90,Math.round((i.height-a.top-a.bottom)*.28))})},{id:"puzzle-piece",group:"creative",label:"Puzzle Piece",description:"Fun puzzle piece shape",preview:"puzzle-piece",variant:"organic",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(140,Math.round((i.width-a.left-a.right)*.4)),height:Math.max(140,Math.round((i.height-a.top-a.bottom)*.4))})},{id:"envelope-outline",group:"creative",label:"Envelope Outline",description:"Envelope silhouette",preview:"envelope-outline",variant:"rectangle",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(180,Math.round((i.width-a.left-a.right)*.55)),height:Math.max(120,Math.round((i.height-a.top-a.bottom)*.36))})},{id:"ribbon-banner",group:"creative",label:"Ribbon Banner",description:"Decorative ribbon banner",preview:"ribbon-banner",variant:"organic",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(200,Math.round((i.width-a.left-a.right)*.65)),height:Math.max(80,Math.round((i.height-a.top-a.bottom)*.2))})},{id:"polaroid-frame",group:"creative",label:"Polaroid Frame",description:"Photo-style Polaroid frame",preview:"polaroid-frame",variant:"frame",borderRadius:6,getSize:({page:i,safeInsets:a})=>({width:Math.max(170,Math.round((i.width-a.left-a.right)*.5)),height:Math.max(210,Math.round((i.height-a.top-a.bottom)*.62))})}],Dh=[{id:"align-left",icon:"fa-solid fa-align-left",label:"Align left",apply:i=>({x:0})},{id:"align-center-horizontal",icon:"fa-solid fa-align-center",label:"Center horizontally",apply:(i,a)=>({x:Math.round((a.width-i.width)/2)})},{id:"align-right",icon:"fa-solid fa-align-right",label:"Align right",apply:(i,a)=>({x:Math.round(a.width-i.width)})},{id:"align-top",icon:"fa-solid fa-arrow-up",label:"Align top",apply:()=>({y:0})},{id:"align-center-vertical",icon:"fa-solid fa-arrows-up-down",label:"Center vertically",apply:(i,a)=>({y:Math.round((a.height-i.height)/2)})},{id:"align-bottom",icon:"fa-solid fa-arrow-down",label:"Align bottom",apply:(i,a)=>({y:Math.round(a.height-i.height)})}],Fh=[{value:"all",label:"All Shapes"},{value:"basic",label:"Basic Shapes"},{value:"decorative",label:"Decorative / Fancy Shapes"},{value:"folded",label:"Folded or Layered Shapes"},{value:"creative",label:"Creative / Themed Shapes"}],Oh=["AIzaSyCSdMyA37wm0nt9gJIZSjTrxEHgXwxBMeM","AIzaSyBRCDdZjTcR4brOsHV_OBsDO11We11BVi0".replace("BRCD","BRCD")];function Uh(i){return`https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&fields=items(family,category,variants)&key=${i}`}const Pd=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["400","500","700"]},{family:"Lato",category:"sans-serif",variants:["400","700"]},{family:"Playfair Display",category:"serif",variants:["400","600"]},{family:"Oswald",category:"sans-serif",variants:["400","500","600"]},{family:"Merriweather",category:"serif",variants:["400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Source Sans Pro",category:"sans-serif",variants:["300","400","600","700"]},{family:"Raleway",category:"sans-serif",variants:["300","400","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"PT Sans",category:"sans-serif",variants:["400","700"]},{family:"PT Serif",category:"serif",variants:["400","700"]},{family:"Ubuntu",category:"sans-serif",variants:["300","400","500","700"]},{family:"Rubik",category:"sans-serif",variants:["300","400","500","700"]},{family:"Fira Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Work Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Quicksand",category:"sans-serif",variants:["300","400","700"]},{family:"Bebas Neue",category:"display",variants:["400"]},{family:"Bitter",category:"serif",variants:["400","700"]},{family:"Cabin",category:"sans-serif",variants:["400","700"]},{family:"Cormorant Garamond",category:"serif",variants:["400","500","600"]},{family:"Dosis",category:"sans-serif",variants:["300","400","600"]},{family:"EB Garamond",category:"serif",variants:["400","700"]},{family:"Exo 2",category:"sans-serif",variants:["300","400","600","700"]},{family:"Inconsolata",category:"monospace",variants:["400","700"]},{family:"Indie Flower",category:"handwriting",variants:["400"]},{family:"Karla",category:"sans-serif",variants:["400","700"]},{family:"Kanit",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lobster",category:"display",variants:["400"]},{family:"Manrope",category:"sans-serif",variants:["300","400","600","700"]},{family:"Merriweather Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Noto Sans",category:"sans-serif",variants:["400","700"]},{family:"Oxygen",category:"sans-serif",variants:["300","400","700"]},{family:"Play",category:"sans-serif",variants:["400","700"]},{family:"Proza Libre",category:"sans-serif",variants:["400","700"]},{family:"Roboto Slab",category:"serif",variants:["300","400","700"]},{family:"Saira",category:"sans-serif",variants:["300","400","600","700"]},{family:"Titillium Web",category:"sans-serif",variants:["200","400","600","700"]},{family:"Varela Round",category:"sans-serif",variants:["400"]},{family:"Zilla Slab",category:"serif",variants:["400","700"]}],fl=new Map(Pd.map(i=>[i.family,i])),is=["Dancing Script","Pacifico","Caveat","Shadows Into Light","Satisfy","Amatic SC","Kalam","Permanent Marker","Rock Salt","Allura","Alex Brush","Bad Script","Marck Script","Pangolin","Great Vibes","Homemade Apple","Kaushan Script"];function Hh(){var an,wn,xn,gr,ni,vr;const{state:i,dispatch:a}=rr(),s=i.pages.find(x=>x.id===i.activePageId)??i.pages[0],f=_.useMemo(()=>Ah(s==null?void 0:s.safeZone),[s==null?void 0:s.safeZone]),p=_.useMemo(()=>s?s.nodes.find(x=>x.id===i.selectedLayerId)??null:null,[s,i.selectedLayerId]),[v,N]=_.useState(()=>{const x=localStorage.getItem("inspector-panel-width");return x?parseInt(x,10):340}),[C,b]=_.useState(!1),E=_.useRef(null),L=_.useRef(new Set),R=_.useRef(!1),[T,ne]=_.useState([]),[le,ue]=_.useState([]),[te,se]=_.useState(!1),[Ie,Ce]=_.useState(!1),[fe,ke]=_.useState(!1),[ze,Ue]=_.useState(""),[Ge,ft]=_.useState("all"),lt=_.useRef(null),Ae=_.useRef(null),[$e,Ne]=_.useState(null),[Te,je]=_.useState(1),[Je,He]=_.useState(0),[B,J]=_.useState(0),Y=_.useRef(null),[h,y]=_.useState(!1),[$,Z]=_.useState(""),[re,ce]=_.useState("all"),ie=_.useRef(null),me=_.useRef(null),[Se,Pe]=_.useState(null),[St,kn]=_.useState(null),[vt,qe]=_.useState(""),pt=_.useCallback((x,z)=>{const m=as(x);if(!m||L.current.has(m))return;const d=$h(m,z);if(!d)return;const S=document.createElement("link");S.rel="stylesheet",S.href=d,document.head.appendChild(S),L.current.add(m)},[]),et=_.useMemo(()=>{const x=new Map;return T.forEach(z=>{z!=null&&z.family&&x.set(z.family,z)}),x},[T]),Be=_.useMemo(()=>as((p==null?void 0:p.fontFamily)||""),[p==null?void 0:p.fontFamily]),it=_.useMemo(()=>et.get(Be)??fl.get(Be)??null,[et,Be]),Gt=_.useMemo(()=>{const x=le.length>0?le:Pd,z=(it==null?void 0:it.category)??id(p==null?void 0:p.fontFamily),m=(it==null?void 0:it.variants)??[],S=[...Be?[{family:Be,category:z,variants:m}]:[],...x],M=new Set,A=[];for(const G of S)if(!(!G||!G.family)&&!M.has(G.family)&&(M.add(G.family),A.push(G),A.length>=120))break;return A},[le,it,Be,p==null?void 0:p.fontFamily]),Yt=_.useMemo(()=>{const x=new Set;return Gt.forEach(z=>{z!=null&&z.category&&x.add(z.category)}),["all",...Array.from(x)]},[Gt]),bt=_.useMemo(()=>{const x=ze.trim().toLowerCase();return Gt.filter(z=>!(z!=null&&z.family)||Ge!=="all"&&(z.category??"").toLowerCase()!==Ge.toLowerCase()||Ge==="handwriting"&&le.length>0&&!is.includes(z.family)?!1:x?z.family.toLowerCase().includes(x):!0)},[Gt,ze,Ge,le.length]),En=_.useMemo(()=>{const x=$.trim().toLowerCase();return Th.filter(z=>re!=="all"&&z.group!==re?!1:x?z.label.toLowerCase().includes(x)||z.description.toLowerCase().includes(x):!0)},[$,re]);_.useEffect(()=>{localStorage.setItem("inspector-panel-width",v.toString())},[v]),_.useEffect(()=>{if(!fe)return;const x=m=>{m.key==="Escape"&&ke(!1)},z=m=>{const d=lt.current,S=Ae.current;!d||!S||!d.contains(m.target)&&!S.contains(m.target)&&ke(!1)};return document.addEventListener("keydown",x),document.addEventListener("mousedown",z),()=>{document.removeEventListener("keydown",x),document.removeEventListener("mousedown",z)}},[fe]),_.useEffect(()=>{if(!h)return;const x=m=>{m.key==="Escape"&&y(!1)},z=m=>{const d=ie.current,S=me.current;d&&(d.contains(m.target)||S&&S.contains(m.target)||y(!1))};return document.addEventListener("keydown",x),document.addEventListener("mousedown",z),()=>{document.removeEventListener("keydown",x),document.removeEventListener("mousedown",z)}},[h]),_.useEffect(()=>{if(!fe)return;function x(){if(!(!Ae.current||!E.current))try{const z=Ae.current.getBoundingClientRect(),m=E.current.getBoundingClientRect(),d=Math.min(400,Math.max(250,Math.round(z.width*1.5))),S=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let M=m.left-d-12+window.scrollX,A=z.top+window.scrollY-600;M<8&&(M=m.right+12+window.scrollX);const G=window.scrollY+window.innerHeight-48;A>G&&(A=Math.max(window.scrollY+8,G-8)),A<window.scrollY+8&&(A=window.scrollY+8),Ne({top:A,left:M,width:d,height:S})}catch{}}return x(),window.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[fe]),_.useEffect(()=>{if(!h)return;function x(){if(!(!me.current||!E.current))try{const z=me.current.getBoundingClientRect(),m=E.current.getBoundingClientRect(),d=Math.min(window.innerWidth-24,Math.max(1e3,Math.round(z.width*3))),S=500;let M=m.left-d-12+window.scrollX,A=z.top+window.scrollY-6;M<8&&(M=m.right+12+window.scrollX);const G=window.scrollY+window.innerHeight-48;A>G&&(A=Math.max(window.scrollY+8,G-8)),A<window.scrollY+8&&(A=window.scrollY+8),Pe({top:A,left:M,width:d,height:S})}catch{}}return x(),window.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[h]),_.useEffect(()=>{if(R.current)return;R.current=!0;const x=new AbortController;Ce(!0);async function z(){let m=!1;for(const d of Oh){if(x.signal.aborted)break;try{const S=Uh(d),M=await fetch(S,{signal:x.signal});if(!M.ok)continue;const A=await M.json(),G=Array.isArray(A==null?void 0:A.items)?A.items.slice(0,250):[],Q=G.filter(de=>is.includes(de.family)),X=G.filter(de=>!is.includes(de.family)),U=[...Q,...X];ne(U),ue(U.slice(0,150)),m=!0;break}catch{if(x.signal.aborted)break;continue}}m||console.error("[InkWise Builder] Failed to load Google Fonts with provided API keys."),x.signal.aborted||Ce(!1)}return z(),()=>{x.abort()}},[]);const pn=_.useCallback(()=>{te||le.length>=T.length||(se(!0),ue(x=>{const z=T.slice(x.length,x.length+200);return[...x,...z]}),se(!1))},[T,le.length,te]);_.useEffect(()=>{if(!Be)return;const x=et.get(Be)??fl.get(Be);x&&pt(Be,x.variants)},[Be,et,pt]),_.useEffect(()=>{const x=new Set;i.pages.forEach(z=>{(z.nodes??[]).forEach(m=>{if((m==null?void 0:m.type)==="text"&&m.fontFamily){const d=as(m.fontFamily);d&&x.add(d)}})}),x.forEach(z=>{const m=et.get(z)??fl.get(z);m&&pt(z,m.variants)})},[i.pages,et,pt]),_.useEffect(()=>{fe&&bt.slice(0,24).forEach(x=>{x!=null&&x.family&&pt(x.family,x.variants)})},[fe,bt,pt]),_.useEffect(()=>{!fe||te||le.length>=T.length||le.length<200&&pn()},[fe,le.length,T.length,te,pn]);const ir=x=>{b(!0),x.preventDefault()},Pt=x=>{if(!C)return;const z=Math.max(280,Math.min(600,window.innerWidth-x.clientX));N(z)},hn=()=>{b(!1)};if(_.useEffect(()=>(C?(document.addEventListener("mousemove",Pt),document.addEventListener("mouseup",hn),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",hn),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",hn),document.body.style.cursor="",document.body.style.userSelect=""}),[C]),!s)return null;const De=p?ad(p.frame,s):null,jn=(p==null?void 0:p.type)==="text",xe=(p==null?void 0:p.type)==="image",Ze=!!((an=p==null?void 0:p.metadata)!=null&&an.clipContent),yt=Number((wn=p==null?void 0:p.metadata)==null?void 0:wn.imageScale),Pn=Number.isFinite(yt)?ki(yt,.25,4):1,Lr=Number((xn=p==null?void 0:p.metadata)==null?void 0:xn.imageOffsetX),ar=Number((gr=p==null?void 0:p.metadata)==null?void 0:gr.imageOffsetY),Fn=Number.isFinite(Lr)?ki(Lr,-500,500):0,On=Number.isFinite(ar)?ki(ar,-500,500):0,lr=!!((ni=p==null?void 0:p.metadata)!=null&&ni.flipHorizontal),rn=!!((vr=p==null?void 0:p.metadata)!=null&&vr.flipVertical);_.useEffect(()=>{(p==null?void 0:p.type)==="image"&&(je(Pn),He(Fn),J(On))},[p==null?void 0:p.id,Pn,Fn,On]),_.useEffect(()=>{try{i.recentlyUploadedImages&&i.recentlyUploadedImages.length>0&&(console.debug("[Inspector] recentlyUploadedImages count=",i.recentlyUploadedImages.length),i.recentlyUploadedImages.forEach((x,z)=>{console.debug(`[Inspector] recent[${z}]`,x.fileName,(x.dataUrl||"").slice(0,80))}))}catch{}},[i.recentlyUploadedImages]);const Un=x=>{a({type:"UPDATE_PAGE_PROPS",pageId:s.id,props:{background:x.target.value}})},Hn=()=>{if(h)y(!1),Z(""),ce("all");else if(y(!0),Z(""),ce("all"),me.current&&E.current)try{const x=me.current.getBoundingClientRect(),z=E.current.getBoundingClientRect(),m=Math.min(6e3,Math.max(3500,x.width*4)),d=500,S=window.scrollY+8,M=window.scrollY+window.innerHeight-8,A=Math.max(120,M-S),G=Math.min(d,A);let Q=z.left-m-12+window.scrollX;Q<8&&(Q=z.right+12+window.scrollX);let X=x.top+window.scrollY-6;const U=Math.max(S,M-G);X>U&&(X=U),X<S&&(X=S),Pe({top:X,left:Q,width:m,height:G})}catch{Pe(null)}},mn=()=>{a({type:"ADD_PAGE",page:null})},Bn=x=>{a({type:"SELECT_PAGE",pageId:x})},$n=(x,z)=>{z.stopPropagation(),a({type:"DELETE_PAGE",pageId:x})},It=(x,z)=>{kn(x),qe(z)},zr=x=>{qe(x.target.value)},Rt=x=>{if(!x)return;const z=vt.trim();z&&a({type:"UPDATE_PAGE_PROPS",pageId:x,props:{name:z}}),kn(null),qe("")},gn=(x,z)=>{x.key==="Enter"?(x.preventDefault(),Rt(z)):x.key==="Escape"&&(kn(null),qe(""))},Me=x=>{if(!p)return;const z={...x};x.metadata&&(z.metadata={...p.metadata??{},...x.metadata}),a({type:"UPDATE_LAYER_PROPS",pageId:s.id,layerId:p.id,props:z})},Tr=()=>{Me({visible:p.visible===!1})},Qt=()=>{Me({locked:!p.locked})},Zn=x=>{Me({side:x})},Nt=x=>{if(!s)return;const z=x.getSize?x.getSize({page:s,safeInsets:f}):{width:200,height:160};if((p==null?void 0:p.type)==="shape"){const m=ad(p.frame,s),d=zh(m,z.width,z.height,s,f);Me({name:x.label,variant:x.variant??p.variant,borderRadius:x.borderRadius??p.borderRadius,metadata:{...p.metadata??{},...x.metadata??{}},frame:d})}else if(p){const m=nn("shape",s,{name:x.label,variant:x.variant??"rectangle",borderRadius:x.borderRadius??16,metadata:x.metadata??{}});if(m.frame){const d=Lh(z.width,z.height,s,f);m.frame=jd(d,s,f)}a({type:"ADD_LAYER",pageId:s.id,layer:m}),a({type:"SELECT_LAYER",layerId:m.id})}else{const m={id:x.id,variant:x.variant??"rectangle",borderRadius:x.borderRadius??0};a({type:"UPDATE_PAGE_PROPS",pageId:s.id,props:{shape:m}})}y(!1),Z(""),ce("all")},tt=x=>z=>{const m=Number.parseFloat(z.target.value);if(!Number.isFinite(m)||!De)return;const d={...De,[x]:x==="width"||x==="height"?Math.max(1,m):m};Me({frame:d})},vn=x=>{if(!Number.isFinite(x))return;const z=ki(x,0,100);Me({opacity:z/100})},yn=x=>{vn(Number.parseInt(x.target.value,10))},or=x=>{vn(Number.parseInt(x.target.value,10))},W=x=>{Me({fill:x.target.value})},Tt=x=>{const z=Number.parseInt(x.target.value,10);Number.isFinite(z)&&Me({borderRadius:Math.max(0,z)})},Dr=x=>{Me({content:x.target.value})},Rn=x=>{const z=Number.parseInt(x.target.value,10);Number.isFinite(z)&&Me({fontSize:Math.max(8,z)})},_t=x=>{const z=x.target.value,m=(String(z)||"").trim();m&&Me({fontWeight:m})},Jr=_.useCallback(x=>{if(!x)return;const z=et.get(x)??fl.get(x)??null;z&&pt(x,z.variants);const m=(z==null?void 0:z.category)??id(p==null?void 0:p.fontFamily),d=Rd(m),S=d?`${x}, ${d}`:x;Me({fontFamily:S})},[et,p==null?void 0:p.fontFamily,pt,Me]),qr=x=>{Jr(x),ke(!1)},ji=x=>{Ue(x.target.value)},Wn=x=>{ft(x.target.value)},Gn=x=>{Z(x.target.value)},sr=x=>{ce(x.target.value)},Fr=()=>{Me({metadata:{clipContent:!Ze}})},cr=()=>{Me({metadata:{imageScale:Te,imageOffsetX:Je,imageOffsetY:B}})},ur=()=>{je(1),He(0),J(0),Me({metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}})},Ye=x=>()=>{if(!De)return;const m=((Number.isFinite(De.rotation)?De.rotation:0)+x)%360,d=m<0?m+360:m;Me({frame:{...De,rotation:Math.round(d)}})},dr=x=>()=>{Me(x==="horizontal"?{metadata:{flipHorizontal:!lr}}:{metadata:{flipVertical:!rn}})},Yn=()=>{var x;p&&((x=Y.current)==null||x.click())},ei=x=>{var S;const z=(S=x.target.files)==null?void 0:S[0];if(!z||!p)return;if(!z.type.startsWith("image/")){alert("Please choose an image file."),x.target.value="";return}const m=10*1024*1024;if(z.size>m){alert("Selected image is too large. Please use a file smaller than 10MB."),x.target.value="";return}const d=new FileReader;d.onload=async M=>{var Q;const A=(Q=M.target)==null?void 0:Q.result;if(typeof A!="string"||!A.startsWith("data:image/")){alert("Unable to load the selected image. Please try again.");return}const G=new Image;G.onload=async()=>{try{const X=await ua(()=>import("./recentImagesDB-CO6kquVm.js"),[]),U=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await X.saveImage(U,z.name,z),X.pruneOld(10).catch(()=>{});const de=URL.createObjectURL(z);a({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:de,fileName:z.name})}catch(X){console.error("Failed to persist recent image:",X),a({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:A,fileName:z.name})}Me({content:A,name:z.name||p.name,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0}})},G.onerror=()=>{console.error("Preload failed for data URL"),alert("Uploaded image could not be rendered. Try a different file.")},G.src=A},d.onerror=()=>{alert("There was a problem reading the file. Please try again.")},d.readAsDataURL(z),x.target.value=""},Qn=()=>{p&&(je(1),He(0),J(0),Me({content:"",metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}}),Y.current&&(Y.current.value=""))},Or=()=>{!p||!window.confirm(`Delete "${p.name}"? You can undo this action if needed.`)||a({type:"REMOVE_LAYER",pageId:s.id,layerId:p.id})},fr=x=>()=>{if(!p||!De)return;const z=x(De,s)??{},m=Math.max(0,s.width-De.width),d=Math.max(0,s.height-De.height),S={...De,...z};typeof S.x=="number"&&(S.x=ki(Math.round(S.x),0,m)),typeof S.y=="number"&&(S.y=ki(Math.round(S.y),0,d)),Me({frame:S})},pr=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Pages"}),c.jsx("button",{type:"button",className:"builder-btn inspector-btn--add",onClick:mn,children:"Add page"})]}),c.jsx("div",{className:"inspector-pages__list",role:"list",children:i.pages.map(x=>{const z=x.id===i.activePageId;return c.jsxs("div",{className:"inspector-pages__item-wrapper",children:[c.jsxs("button",{type:"button",className:`inspector-pages__item ${z?"is-active":""}`,onClick:()=>Bn(x.id),"aria-pressed":z,children:[c.jsx("span",{className:"inspector-pages__thumb","aria-hidden":"true",children:c.jsx("span",{className:"inspector-pages__thumb-page"})}),St===x.id?c.jsx("input",{type:"text",className:"inspector-pages__label-input",value:vt,onChange:zr,onBlur:()=>Rt(x.id),onKeyDown:m=>gn(m,x.id),autoFocus:!0}):c.jsx("span",{className:"inspector-pages__label",onClick:()=>It(x.id,x.name),style:{cursor:"pointer"},children:x.name})]}),i.pages.length>1&&c.jsx("div",{className:"inspector-pages__item-controls",children:c.jsx("button",{type:"button",className:"inspector-pages__control inspector-pages__control--delete",onClick:m=>$n(x.id,m),"aria-label":`Delete ${x.name}`,title:`Delete ${x.name}`,children:c.jsx("i",{className:"fas fa-trash-alt","aria-hidden":"true"})})})]},x.id)})})]}),Dt=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Page"}),c.jsxs("span",{className:"inspector-section__meta",children:[s.width,"  ",s.height,"px"]})]}),c.jsxs("div",{className:"inspector-field",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[c.jsxs("label",{className:"inspector-field",style:{margin:0},children:[c.jsx("span",{className:"inspector-field__label",children:"Background"}),c.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:ld(s.background,"#ffffff"),onChange:Un,"aria-label":"Page background color"})]}),c.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Hn,ref:me,style:{fontSize:"0.8rem",padding:"0.3rem 0.6rem",height:"auto",alignSelf:"flex-start"},children:"SHAPES"})]})]}),hr=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Position"}),c.jsx("span",{className:"inspector-section__meta",children:"X/Y & rotation"})]}),c.jsx("div",{className:"inspector-alignment",role:"group","aria-label":"Alignment controls",children:Dh.map(x=>c.jsx("button",{type:"button",className:"inspector-alignment__action",onClick:fr(x.apply),"aria-label":x.label,children:c.jsx("i",{className:x.icon,"aria-hidden":"true"})},x.id))}),c.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"X"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:De.x,onChange:tt("x"),step:"1"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Y"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:De.y,onChange:tt("y"),step:"1"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Rotation"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:De.rotation,onChange:tt("rotation"),step:"1"})]})]})]}),At=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Layout"}),c.jsx("span",{className:"inspector-section__meta",children:"Dimensions & flow"})]}),c.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Width"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:De.width,onChange:tt("width"),min:"1",step:"1"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Height"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:De.height,onChange:tt("height"),min:"1",step:"1"})]})]}),c.jsxs("label",{className:"inspector-toggle",children:[c.jsx("input",{type:"checkbox",checked:Ze,onChange:Fr}),c.jsx("span",{children:"Clip content"})]})]}),Pi=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Appearance"}),c.jsx("span",{className:"inspector-section__meta",children:"Color & effects"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Fill"}),c.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:ld(p.fill,"#2563eb"),onChange:W})]}),c.jsxs("div",{className:"inspector-opacity",children:[c.jsxs("label",{className:"inspector-field inspector-opacity__slider",children:[c.jsx("span",{className:"inspector-field__label",children:"Opacity"}),c.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"100",step:"5",value:Math.round((p.opacity??1)*100),onChange:yn})]}),c.jsxs("label",{className:"inspector-field inspector-opacity__input",children:[c.jsx("span",{className:"inspector-field__label",children:"%"}),c.jsx("input",{type:"number",className:"inspector-field__control",min:"0",max:"100",step:"5",value:Math.round((p.opacity??1)*100),onChange:or})]})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Corner radius"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:p.borderRadius??0,onChange:Tt,min:"0",step:"1"})]})]}),Ri=()=>c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Typography"}),c.jsx("span",{className:"inspector-section__meta",children:Ie?"Loading fonts...":"Text content & styling"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Content"}),c.jsx("textarea",{className:"inspector-field__control inspector-field__control--textarea",value:p.content??"",onChange:Dr,rows:3})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Font"}),c.jsxs("div",{className:"inspector-font-picker",children:[c.jsxs("button",{type:"button",className:`inspector-field__control inspector-font-picker__trigger${fe?" is-open":""}`,onClick:()=>{if(!fe&&Ae.current&&E.current)try{const x=Ae.current.getBoundingClientRect(),z=E.current.getBoundingClientRect(),m=Math.min(400,Math.max(250,Math.round(x.width*1.5))),d=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let S=z.left-m-12+window.scrollX,M=x.top+window.scrollY-600;S<8&&(S=z.right+12+window.scrollX);const A=window.scrollY+window.innerHeight-48;M>A&&(M=Math.max(window.scrollY+8,A-8)),M<0&&(M=0),Ne({top:M,left:S,width:m,height:d})}catch{Ne(null)}ke(x=>!x)},ref:Ae,"aria-expanded":fe,children:[c.jsxs("span",{className:"inspector-font-picker__preview",children:[c.jsx("span",{className:"inspector-font-picker__preview-name",style:{fontFamily:(p==null?void 0:p.fontFamily)||Be||"Inter, sans-serif"},children:Be||"Select font"}),c.jsx("span",{className:"inspector-font-picker__preview-meta",children:Be?ds(it==null?void 0:it.category):"Choose a font"})]}),c.jsx("span",{className:"inspector-font-picker__chevron","aria-hidden":"true",children:c.jsx("i",{className:`fa-solid ${fe?"fa-chevron-up":"fa-chevron-down"}`})})]}),fe&&rd.createPortal(c.jsx(Bh,{ref:lt,fonts:bt,categories:Yt,categoryValue:Ge,onCategoryChange:Wn,searchTerm:ze,onSearchChange:ji,onSelect:qr,isLoading:Ie,currentFamily:Be,ensureFontLoaded:pt,loadMoreFonts:pn,loadingMore:te,style:$e?{position:"absolute",top:`${$e.top}px`,left:`${$e.left}px`,width:`${$e.width}px`,...$e.height?{height:`${$e.height}px`}:{}}:{position:"absolute"}}),document.body)]})]}),c.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Font size"}),c.jsx("input",{type:"number",className:"inspector-field__control",value:p.fontSize??48,onChange:Rn,min:"8",step:"1"})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Font weight"}),c.jsxs("select",{className:"inspector-field__control",value:String(p.fontWeight??"400"),onChange:_t,children:[c.jsx("option",{value:"100",children:"Thin"}),c.jsx("option",{value:"200",children:"Extra Light / Ultra Light"}),c.jsx("option",{value:"300",children:"Light"}),c.jsx("option",{value:"400",children:"Regular / Normal"}),c.jsx("option",{value:"500",children:"Medium"}),c.jsx("option",{value:"600",children:"Semi Bold / Demi Bold"}),c.jsx("option",{value:"700",children:"Bold"}),c.jsx("option",{value:"800",children:"Extra Bold / Ultra Bold"}),c.jsx("option",{value:"900",children:"Black / Heavy"}),c.jsx("option",{value:"normal",children:"normal"}),c.jsx("option",{value:"bold",children:"bold"})]})]})]})]}),ti=()=>{var x,z,m;return c.jsxs("div",{className:"inspector-panel__group",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Image"}),c.jsx("span",{className:"inspector-section__meta",children:"Source & display"})]}),c.jsxs("div",{className:"inspector-field inspector-field--actions",children:[c.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Yn,children:"Replace image"}),(p==null?void 0:p.content)&&c.jsx("button",{type:"button",className:"builder-btn inspector-btn is-muted",onClick:Qn,children:"Remove image"})]}),c.jsx("div",{className:"inspector-field inspector-field--actions",children:c.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Ye(90),children:"Rotate +90"})}),c.jsxs("div",{className:"inspector-field inspector-field--actions",children:[c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${lr?"is-active":""}`,onClick:dr("horizontal"),children:"Flip horizontal"}),c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${rn?"is-active":""}`,onClick:dr("vertical"),children:"Flip vertical"})]}),c.jsxs("div",{className:"inspector-field inspector-field--actions",children:[c.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:cr,children:"Crop"}),c.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:ur,children:"Reset adjustments"})]}),c.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Brightness"}),c.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((x=p.metadata)==null?void 0:x.brightness)??100,onChange:d=>Me({metadata:{brightness:Number.parseInt(d.target.value,10)}})})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Contrast"}),c.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((z=p.metadata)==null?void 0:z.contrast)??100,onChange:d=>Me({metadata:{contrast:Number.parseInt(d.target.value,10)}})})]}),c.jsxs("label",{className:"inspector-field",children:[c.jsx("span",{className:"inspector-field__label",children:"Saturation"}),c.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((m=p.metadata)==null?void 0:m.saturation)??100,onChange:d=>Me({metadata:{saturation:Number.parseInt(d.target.value,10)}})})]})]})]})},mr=()=>c.jsxs("div",{className:"inspector-panel__group inspector-panel__group--actions",children:[c.jsxs("div",{className:"inspector-section__header",children:[c.jsx("h3",{children:"Layer actions"}),c.jsx("span",{className:"inspector-section__meta",children:"Visibility & locking"})]}),c.jsxs("div",{className:"inspector-field inspector-field--actions",children:[c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${p.side==="front"?"is-active":""}`,onClick:()=>Zn("front"),children:"Front"}),c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${p.side==="back"?"is-active":""}`,onClick:()=>Zn("back"),children:"Back"})]}),c.jsxs("div",{className:"inspector-field inspector-field--actions",children:[c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${p.visible===!1?"is-muted":""}`,onClick:Tr,children:p.visible===!1?"Show layer":"Hide layer"}),c.jsx("button",{type:"button",className:`builder-btn inspector-btn ${p.locked?"is-active":""}`,onClick:Qt,children:p.locked?"Unlock layer":"Lock layer"}),c.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--danger",onClick:Or,children:"Delete layer"})]})]});return c.jsxs(c.Fragment,{children:[c.jsxs("section",{ref:E,className:"inspector-panel",style:{width:`${v}px`,right:0,top:0,bottom:0,position:"absolute"},"aria-label":"Layer inspector",children:[c.jsxs("header",{className:"inspector-panel__header",children:[c.jsx("h2",{children:"Inspector"}),c.jsx("span",{className:`inspector-chip ${p?"":"inspector-chip--muted"}`,children:p?p.name:"No layer selected"})]}),c.jsxs("div",{className:"inspector-panel__body inspector-panel__body--unified",children:[pr(),Dt(),!p&&c.jsx("p",{className:"inspector-panel__empty",children:"Select a layer on the canvas to adjust its position, layout, and appearance."}),p&&c.jsxs(c.Fragment,{children:[hr(),At(),jn&&Ri(),xe&&ti(),Pi(),mr()]})]}),c.jsx("div",{className:"inspector-panel__resize-handle",onMouseDown:ir,"aria-label":"Resize inspector panel"}),c.jsx("input",{type:"file",ref:Y,onChange:ei,accept:"image/*",style:{display:"none"}})]}),h&&rd.createPortal(c.jsxs("div",{ref:ie,className:"inspector-shape-modal",role:"dialog","aria-label":"Choose a shape",style:Se?{position:"absolute",top:`${Se.top}px`,left:`${Se.left}px`,width:`${Se.width}px`,height:`${Se.height}px`}:{position:"absolute"},children:[c.jsxs("div",{className:"inspector-shape-modal__header",children:[c.jsxs("div",{children:[c.jsx("h4",{children:"Select a shape"}),c.jsx("p",{children:"Search or pick a shape to add or update."})]}),c.jsx("button",{type:"button",className:"inspector-shape-modal__close",onClick:()=>{y(!1),Z(""),ce("all")},"aria-label":"Close shape picker",children:c.jsx("span",{"aria-hidden":"true",children:""})})]}),c.jsx("div",{className:"inspector-field inspector-shape-modal__search",children:c.jsx("input",{type:"search",className:"inspector-field__control",value:$,onChange:Gn,placeholder:"Search shapes","aria-label":"Search shapes",autoFocus:!0})}),c.jsx("div",{className:"inspector-field inspector-shape-modal__filter",children:c.jsx("select",{className:"inspector-field__control",value:re,onChange:sr,"aria-label":"Filter shapes by category",children:Fh.map(x=>c.jsx("option",{value:x.value,children:x.label},x.value))})}),c.jsx("div",{className:"inspector-shape-modal__grid",children:En.length>0?En.map(x=>c.jsxs("button",{type:"button",className:"inspector-shape-modal__item",onClick:()=>Nt(x),children:[c.jsx("span",{className:`inspector-shape-modal__preview inspector-shape-modal__preview--${x.preview}`,"aria-hidden":"true"}),c.jsxs("span",{className:"inspector-shape-modal__info",children:[c.jsx("span",{className:"inspector-shape-modal__name",children:x.label}),c.jsx("span",{className:"inspector-shape-modal__description",children:x.description})]})]},x.id)):c.jsx("div",{className:"inspector-shape-modal__empty",children:"No shapes match your search."})})]}),document.body)]})}const Bh=ps.forwardRef(function({fonts:a,categories:s,categoryValue:f,onCategoryChange:p,searchTerm:v,onSearchChange:N,onSelect:C,isLoading:b,currentFamily:E,ensureFontLoaded:L,loadMoreFonts:R,loadingMore:T,style:ne},le){const ue=_.useRef(null),te=_.useRef(null);return _.useEffect(()=>{ue.current&&ue.current.focus()},[]),_.useEffect(()=>{a.slice(0,32).forEach(se=>{se!=null&&se.family&&L(se.family,se.variants)})},[a,L]),_.useEffect(()=>{const se=te.current;if(!se)return;const Ie=()=>{const{scrollTop:Ce,scrollHeight:fe,clientHeight:ke}=se;Ce+ke>=fe-200&&R()};return se.addEventListener("scroll",Ie),()=>se.removeEventListener("scroll",Ie)},[R]),c.jsxs("div",{className:"inspector-font-modal",ref:le,role:"dialog","aria-label":"Choose font",style:ne,children:[c.jsxs("div",{className:"inspector-font-modal__header",children:[c.jsx("input",{ref:ue,type:"text",className:"inspector-font-modal__search",placeholder:"Search fonts",value:v,onChange:N,"aria-label":"Search fonts"}),c.jsx("select",{className:"inspector-font-modal__filter",value:f,onChange:p,"aria-label":"Filter fonts by category",children:s.map(se=>c.jsx("option",{value:se,children:se==="all"?"All fonts":ds(se)},se))})]}),c.jsxs("div",{className:"inspector-font-modal__list",ref:te,role:"listbox",children:[b&&a.length===0&&c.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[c.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading fonts..."]}),!b&&a.length===0&&c.jsx("div",{className:"inspector-font-modal__status",children:"No fonts match your search."}),a.map(se=>{const Ie=Rd(se.category),Ce=Ie?`${se.family}, ${Ie}`:se.family,fe=E&&se.family.toLowerCase()===E.toLowerCase();return c.jsxs("button",{type:"button",className:`inspector-font-modal__item${fe?" is-active":""}`,onClick:()=>C(se.family),style:{fontFamily:Ce},role:"option","aria-selected":fe,children:[c.jsx("span",{className:"inspector-font-modal__item-name",children:se.family}),c.jsx("span",{className:"inspector-font-modal__item-meta",children:ds(se.category)})]},se.family)}),T&&c.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[c.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading more fonts..."]})]})]})});function as(i){return!i||typeof i!="string"?"":i.replace(/["']/g,"").split(",")[0].trim()}function $h(i,a){if(!i)return"";const s=i.trim().replace(/\s+/g,"+");let f="";if(Array.isArray(a)){const p=a.filter(v=>/^\d+$/.test(v));p.length>0&&(f=`:wght@${Array.from(new Set(p)).slice(0,4).join(";")}`)}return`https://fonts.googleapis.com/css2?family=${s}${f}&display=swap`}function Rd(i){switch((i||"").toLowerCase()){case"serif":return"serif";case"monospace":return"monospace";case"handwriting":return"cursive";case"display":return"sans-serif";default:return"sans-serif"}}function id(i){if(!i||typeof i!="string")return"sans-serif";const a=i.toLowerCase();return a.includes("mono")?"monospace":a.includes("serif")?"serif":a.includes("script")||a.includes("cursive")||a.includes("handwriting")?"handwriting":"sans-serif"}function ds(i){return!i||typeof i!="string"?"Mixed":i.split(/[-_\s]+/).filter(Boolean).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function ki(i,a,s){return Number.isFinite(i)?Math.min(Math.max(i,a),s):a}function ad(i,a){return i&&typeof i=="object"?{x:sa(i.x),y:sa(i.y),width:Math.max(1,sa(i.width??a.width/2)),height:Math.max(1,sa(i.height??a.height/2.5)),rotation:sa(i.rotation??0)}:{x:Math.round(a.width*.1),y:Math.round(a.height*.1),width:Math.round(a.width*.6),height:Math.round(a.height*.25),rotation:0}}function ld(i,a="#2563eb"){if(typeof i=="string"){const s=i.trim();if(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(s))return s;if(/^#([a-fA-F0-9]{8})$/.test(s))return`#${s.slice(1,7)}`}return a}function sa(i){return Number.isFinite(i)?Math.round(i):0}const Zh=.25,Wh=3,ls=.1;function Gh(){const{state:i,dispatch:a}=rr(),s=Math.round(i.zoom*100),f=i.pages.find(L=>L.id===i.activePageId)??i.pages[0],p=L=>{a({type:"UPDATE_ZOOM",value:L})},v=()=>p(i.zoom-ls),N=()=>p(i.zoom+ls),C=()=>p(1),b=L=>{const R=parseInt(L.target.value,10);!isNaN(R)&&R>0&&f&&a({type:"UPDATE_PAGE_PROPS",pageId:f.id,props:{width:R}})},E=L=>{const R=parseInt(L.target.value,10);!isNaN(R)&&R>0&&f&&a({type:"UPDATE_PAGE_PROPS",pageId:f.id,props:{height:R}})};return c.jsxs("div",{className:"canvas-toolbar",role:"toolbar","aria-label":"Canvas controls",children:[c.jsx("div",{className:"canvas-toolbar__group",children:c.jsxs("div",{className:"canvas-toolbar__page-size",children:[c.jsx("label",{className:"canvas-toolbar__label",children:"Page"}),c.jsxs("div",{className:"canvas-toolbar__dimensions",children:[c.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(f==null?void 0:f.width)??400,onChange:b,min:"1",max:"5000","aria-label":"Page width"}),c.jsx("span",{className:"canvas-toolbar__separator",children:""}),c.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(f==null?void 0:f.height)??400,onChange:E,min:"1",max:"5000","aria-label":"Page height"}),c.jsx("span",{className:"canvas-toolbar__unit",children:"px"})]})]})}),c.jsxs("div",{className:"canvas-toolbar__group",children:[c.jsx("button",{type:"button",onClick:v,className:"builder-btn","aria-label":"Zoom out",children:""}),c.jsx("input",{className:"canvas-toolbar__slider",type:"range",min:Zh*100,max:Wh*100,step:ls*100,value:s,onChange:L=>p(Number(L.target.value)/100),"aria-label":"Zoom level"}),c.jsx("button",{type:"button",onClick:N,className:"builder-btn","aria-label":"Zoom in",children:"+"})]}),c.jsxs("div",{className:"canvas-toolbar__group",children:[c.jsxs("span",{className:"canvas-toolbar__label",children:[s,"%"]}),c.jsx("button",{type:"button",onClick:C,className:"builder-btn","aria-label":"Reset zoom",children:"Reset"}),c.jsx("button",{type:"button",className:"builder-btn",disabled:!0,"aria-label":"Fit to page",children:"Fit"})]})]})}const Yh=typeof Element>"u"?Oe.any:Oe.instanceOf(Element);function od(i){if(!i)return{top:0,right:0,bottom:0,left:0};const a=f=>{if(typeof f=="number")return f;if(typeof f=="string"){const p=parseFloat(f);return Number.isNaN(p)?0:p}return 0},s=a(i.margin??i.all??0);return{top:a(i.top??s),right:a(i.right??s),bottom:a(i.bottom??s),left:a(i.left??s)}}function pl(i,a,s){const f=s.left,p=a.width-s.right-i.width,v=s.top,N=a.height-s.bottom-i.height;return{...i,x:Math.max(f,Math.min(p,i.x)),y:Math.max(v,Math.min(N,i.y))}}const Qh=[{corner:"nw",cursor:"nwse-resize"},{corner:"ne",cursor:"nesw-resize"},{corner:"sw",cursor:"nesw-resize"},{corner:"se",cursor:"nwse-resize"}];function vs({page:i,canvasRef:a}){const{state:s,dispatch:f}=rr(),p=_.useRef(null),v=_.useRef(null),N=_.useRef(null),[C,b]=_.useState(null),[E,L]=_.useState(null),[R,T]=_.useState([]),ne=(h,y)=>{!h||!y||f({type:"UPDATE_LAYER_PROPS",pageId:i.id,layerId:h.id,props:{metadata:{...h.metadata??{},...y}}})},le=(h,y)=>{y&&ne(h,{objectFit:y})},ue=(h,y)=>{le(h,y==="cover"?"contain":"cover")};if(!i)return null;const te=s.zoom??1,se=s.panX??0,Ie=s.panY??0,Ce=s.selectedLayerId,fe=h=>{f({type:"SELECT_LAYER",layerId:h})},ke=h=>{if(h.target.closest(".canvas-layer"))return;const y=h.pointerId;v.current={pointerId:y,start:{x:h.clientX,y:h.clientY},startPan:{x:se,y:Ie}};try{h.currentTarget.setPointerCapture(y)}catch{}h.preventDefault()},ze=h=>{const y=v.current;if(!y||h.pointerId!==y.pointerId)return;const $=h.clientX-y.start.x,Z=h.clientY-y.start.y,re=y.startPan.x+$,ce=y.startPan.y+Z;f({type:"UPDATE_PAN",panX:re,panY:ce})},Ue=h=>{const y=v.current;if(!(!y||h.pointerId!==y.pointerId)){try{h.currentTarget.releasePointerCapture(y.pointerId)}catch{}v.current=null}},Ge=(h,y,$)=>{if(y.locked)return;f({type:"BEGIN_LAYER_TRANSFORM"}),b(y.id),T([]);const Z=h.pointerId;p.current={pointerId:Z,layerId:y.id,start:{x:h.clientX,y:h.clientY},startFrame:{...$}};try{h.currentTarget.setPointerCapture(Z)}catch{}h.preventDefault()},ft=h=>{const y=p.current;if(y&&h.pointerId===y.pointerId){const re=(h.clientX-y.start.x)/te,ce=(h.clientY-y.start.y)/te,ie={x:y.startFrame.x+re,y:y.startFrame.y+ce,width:y.startFrame.width,height:y.startFrame.height,rotation:y.startFrame.rotation??0},me=pl(ie,i,Te),{frame:Se,guides:Pe}=cd(me,i,J,y.layerId);T(Pe);const St=pl(Se,i,Te);f({type:"UPDATE_LAYER_FRAME",pageId:i.id,layerId:y.layerId,frame:St,trackHistory:!1});return}const $=N.current;if($&&h.pointerId===$.pointerId){$e(h);return}const Z=v.current;if(Z&&h.pointerId===Z.pointerId){const re=h.clientX-Z.start.x,ce=h.clientY-Z.start.y,ie=Z.startPan.x+re,me=Z.startPan.y+ce;f({type:"UPDATE_PAN",panX:ie,panY:me}),T([])}},lt=h=>{const y=p.current;if(!(!y||h.pointerId!==y.pointerId)){try{h.currentTarget.releasePointerCapture(y.pointerId)}catch{}p.current=null,b(null),T([])}},Ae=(h,y,$,Z)=>{if(y.locked)return;h.stopPropagation(),f({type:"BEGIN_LAYER_TRANSFORM"}),L(y.id),T([]);const re=h.pointerId,ce=h.currentTarget;N.current={pointerId:re,layerId:y.id,corner:Z,start:{x:h.clientX,y:h.clientY},startFrame:{...$},hasMoved:!1,captureTarget:ce};try{ce.setPointerCapture(re)}catch(ie){console.warn("Failed to capture pointer for resize:",ie)}h.preventDefault()},$e=h=>{const y=N.current;if(!y||h.pointerId!==y.pointerId)return;const $=(h.clientX-y.start.x)/te,Z=(h.clientY-y.start.y)/te,re=3,ce=Math.abs($*te)>re||Math.abs(Z*te)>re;if(!y.hasMoved&&ce&&(y.hasMoved=!0),!y.hasMoved)return;let ie={...y.startFrame};switch(y.corner){case"nw":ie.width=Math.max(20,y.startFrame.width-$),ie.height=Math.max(20,y.startFrame.height-Z),ie.x=y.startFrame.x+(y.startFrame.width-ie.width),ie.y=y.startFrame.y+(y.startFrame.height-ie.height);break;case"ne":ie.width=Math.max(20,y.startFrame.width+$),ie.height=Math.max(20,y.startFrame.height-Z),ie.y=y.startFrame.y+(y.startFrame.height-ie.height);break;case"sw":ie.width=Math.max(20,y.startFrame.width-$),ie.height=Math.max(20,y.startFrame.height+Z),ie.x=y.startFrame.x+(y.startFrame.width-ie.width);break;case"se":ie.width=Math.max(20,y.startFrame.width+$),ie.height=Math.max(20,y.startFrame.height+Z);break}const me=pl(ie,i,Te),{frame:Se,guides:Pe}=cd(me,i,J,y.layerId);T(Pe),f({type:"UPDATE_LAYER_FRAME",pageId:i.id,layerId:y.layerId,frame:pl(Se,i,Te),trackHistory:!1})},Ne=h=>{const y=N.current;if(!(!y||h.pointerId!==y.pointerId)){if(y.captureTarget)try{y.captureTarget.releasePointerCapture(y.pointerId)}catch($){console.warn("Failed to release pointer capture:",$)}y.hasMoved?f({type:"COMMIT_LAYER_TRANSFORM"}):f({type:"CANCEL_LAYER_TRANSFORM"}),N.current=null,L(null),T([])}},Te=od(i.safeZone),je=od(i.bleed),Je=i.shape??null,B=[...Array.isArray(i.nodes)?i.nodes:[]].sort((h,y)=>{const $=h.side||"middle",Z=y.side||"middle",re={back:0,middle:1,front:2};return re[$]-re[Z]}),J=B.map((h,y)=>({layer:h,frame:Kh(h,y,i)})),Y=h=>{if(!h)return{};const{variant:y,id:$,borderRadius:Z}=h;switch(y){case"circle":return{borderRadius:"50%",overflow:"hidden"};case"polygon":return{clipPath:{triangle:"polygon(50% 0%, 0% 100%, 100% 100%)",diamond:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",hexagon:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",octagon:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",star:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",shield:"polygon(50% 0%, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%)"}[$]||"none",overflow:"hidden"};case"organic":return{clipPath:{heart:'path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z")',"cloud-shape":"ellipse(60% 40% at 50% 50%)",flower:"polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%)",butterfly:"polygon(50% 0%, 70% 20%, 90% 40%, 70% 60%, 50% 80%, 30% 60%, 10% 40%, 30% 20%)",leaf:"polygon(50% 0%, 100% 30%, 90% 70%, 50% 100%, 10% 70%, 0% 30%)",balloon:"ellipse(50% 60% at 50% 50%)",crown:"polygon(50% 0%, 60% 25%, 85% 25%, 75% 50%, 95% 50%, 80% 75%, 100% 75%, 85% 100%, 15% 100%, 0% 75%, 20% 75%, 5% 50%, 25% 50%, 15% 25%, 40% 25%)","puzzle-piece":"polygon(0% 0%, 70% 0%, 70% 30%, 100% 30%, 100% 70%, 70% 70%, 70% 100%, 30% 100%, 30% 70%, 0% 70%)","ribbon-banner":"polygon(0% 0%, 10% 50%, 0% 100%, 100% 100%, 90% 50%, 100% 0%)"}[$]||"none",overflow:"hidden"};case"frame":return{borderRadius:typeof Z=="number"?`${Z}px`:Z||0,overflow:"hidden"};case"tag":return{clipPath:{"tag-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)","ticket-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)"}[$]||"none",overflow:"hidden"};case"layout":return{borderRadius:typeof Z=="number"?`${Z}px`:Z||0,overflow:"hidden"};case"rectangle":default:return{borderRadius:typeof Z=="number"?`${Z}px`:Z||0,overflow:"hidden"}}};return c.jsx("section",{className:"canvas-viewport","aria-label":"Template canvas",children:c.jsx("div",{className:"canvas-viewport__surface",role:"img","aria-label":`Design surface for ${i.name}`,onPointerDown:ke,onPointerMove:ze,onPointerUp:Ue,onPointerCancel:Ue,children:c.jsx("div",{className:"canvas-viewport__stage",style:Vh(te,i,se,Ie),children:c.jsxs("div",{className:"canvas-viewport__page",ref:a??null,style:{width:i.width,height:i.height,background:i.background||"#ffffff",...Y(Je)},onClick:()=>fe(null),"data-zoom":te,children:[c.jsx("div",{className:"canvas-viewport__grid","aria-hidden":"true"}),c.jsx("div",{className:"canvas-viewport__bleed",style:sd(je),"aria-hidden":"true"}),c.jsx("div",{className:"canvas-viewport__safe-zone",style:sd(Te),"aria-hidden":"true"}),R.map((h,y)=>c.jsx("div",{className:`canvas-guide canvas-guide--${h.orientation}`,style:h.orientation==="vertical"?{left:h.position}:{top:h.position},"aria-hidden":"true"},`guide-${h.orientation}-${y}-${h.position}`)),B.length===0&&c.jsxs("div",{className:"canvas-viewport__empty-state",children:[c.jsx("h2",{children:"Canvas ready"}),c.jsx("p",{children:"Start by selecting a tool on the left. You can add live text, image placeholders, or vector shapes."})]}),J.map(({layer:h,frame:y})=>{const $=h.id===Ce,Z=h.visible===!1,re=h.locked===!0,ce=h.type==="text",ie=h.type==="image",me=h.type==="shape",Se=h.id===C,Pe=(h==null?void 0:h.metadata)??{},St=typeof Pe.objectFit=="string"?Pe.objectFit:"cover",kn=Number(Pe.imageScale),vt=Number.isFinite(kn)?os(kn,.25,4):1,qe=Number(Pe.imageOffsetX),pt=Number(Pe.imageOffsetY),et=Number.isFinite(qe)?os(qe,-500,500):0,Be=Number.isFinite(pt)?os(pt,-500,500):0,it=!!Pe.flipHorizontal,Gt=!!Pe.flipVertical,Yt=it?-vt:vt,bt=Gt?-vt:vt,En=h.id===E,pn=$&&!re,ir=Math.round(y.x),Pt=Math.round(y.y),hn=Math.round(y.width),De=Math.round(y.height),jn=Xh(h,y,{hidden:Z,opacity:h.opacity,isSelected:$});return c.jsxs("div",{className:`canvas-layer${$?" is-selected":""}${Z?" is-hidden":""}${re?" is-locked":""}${ce?" is-text":""}${ie?" is-image":""}${Se?" is-dragging":""}${En?" is-resizing":""}`,style:jn,role:"button",tabIndex:0,onClick:xe=>{xe.stopPropagation(),fe(h.id)},onPointerDown:xe=>{xe.target.classList.contains("canvas-layer__resize-handle")||xe.target.closest(".canvas-layer__resize-handle")||(fe(h.id),Ge(xe,h,y))},onPointerMove:ft,onPointerUp:xe=>{Ne(xe),lt(xe)},onPointerCancel:xe=>{Ne(xe),lt(xe)},onDoubleClick:xe=>{ie&&(xe.stopPropagation(),ue(h,St))},onKeyDown:xe=>{(xe.key==="Enter"||xe.key===" ")&&(xe.preventDefault(),fe(h.id))},"aria-label":`${h.name} layer`,"aria-pressed":$,"data-layer-id":h.id,children:[ce&&c.jsx("div",{className:"canvas-layer__text",style:{color:h.fill||"#0f172a",fontSize:h.fontSize?`${h.fontSize}px`:void 0,fontFamily:h.fontFamily,fontWeight:h.fontWeight??void 0,textAlign:h.textAlign??"center"},children:h.content||"Add your text"}),ie&&h.content&&typeof h.content=="string"&&(h.content.startsWith("data:")||h.content.startsWith("blob:"))&&c.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[c.jsx("img",{src:h.content,alt:h.name||"Uploaded image",className:"canvas-layer__image",style:{width:"100%",height:"100%",objectFit:St,borderRadius:h.borderRadius??0,display:"block",transform:`translate(${et}px, ${Be}px) scale(${Yt}, ${bt})`,transformOrigin:"center"},onError:xe=>{var yt,Pn;console.error("Failed to load image:",((yt=h.content)==null?void 0:yt.substring(0,100))+"..."),xe.target.style.display="none";const Ze=(Pn=xe.target.parentElement)==null?void 0:Pn.querySelector(".image-error");Ze&&(Ze.style.display="flex")},onLoad:xe=>{var yt;console.log("Image loaded successfully:",h.name),xe.target.style.display="block";const Ze=(yt=xe.target.parentElement)==null?void 0:yt.querySelector(".image-error");Ze&&(Ze.style.display="none")}}),c.jsxs("div",{className:"image-error",style:{display:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem",fontSize:"0.8rem",color:"rgba(239, 68, 68, 0.8)",textAlign:"center",padding:"0.5rem",background:"rgba(255, 255, 255, 0.9)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[c.jsx("span",{children:""}),c.jsx("p",{children:"Failed to load image"})]})]}),me&&!ce&&!ie&&c.jsx("span",{className:"canvas-layer__label",children:h.name}),pn&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"canvas-layer__outline","aria-hidden":"true"}),c.jsxs("div",{className:"canvas-layer__meta-pill","aria-hidden":"true",children:[ir,", ",Pt,"  ",hn,"  ",De," px"]}),ie&&c.jsxs("div",{className:"canvas-layer__image-tools",role:"group","aria-label":"Image fit controls",children:[c.jsx("button",{type:"button",className:`canvas-layer__image-tool${St==="contain"?" is-active":""}`,onClick:xe=>{xe.stopPropagation(),le(h,"contain")},children:"Fit"}),c.jsx("button",{type:"button",className:`canvas-layer__image-tool${St==="cover"?" is-active":""}`,onClick:xe=>{xe.stopPropagation(),le(h,"cover")},children:"Fill"})]}),Qh.map(xe=>c.jsx("div",{className:`canvas-layer__resize-handle canvas-layer__resize-handle--${xe.corner}`,role:"presentation",style:{cursor:xe.cursor},onPointerDown:Ze=>{Ze.stopPropagation(),Ae(Ze,h,y,xe.corner)},onClick:Ze=>Ze.stopPropagation()},xe.corner))]})]},h.id)})]})})})})}vs.propTypes={page:Oe.shape({id:Oe.string.isRequired,name:Oe.string.isRequired,width:Oe.number.isRequired,height:Oe.number.isRequired,nodes:Oe.array}).isRequired,canvasRef:Oe.shape({current:Yh})};vs.defaultProps={canvasRef:null};function Vh(i,a,s,f){return{transform:`translate(${s}px, ${f}px) scale(${i})`,transformOrigin:"top left",width:a.width,height:a.height}}function Xh(i,a,{hidden:s,opacity:f,isSelected:p}){const v=s?.35:Math.max(.1,f??1),N={left:a.x,top:a.y,width:a.width,height:a.height,opacity:v,borderColor:i.stroke??"rgba(15, 23, 42, 0.18)",borderRadius:i.borderRadius??0,transform:a.rotation?`rotate(${a.rotation}deg)`:void 0,transformOrigin:"center"};return i.type==="text"?(N.background="transparent",N.borderStyle="dashed",N.borderWidth=1):i.type==="image"?i.content?(N.background="transparent",N.borderStyle="solid",N.borderWidth=2,N.borderColor=p?"#3b82f6":"transparent"):(N.background="transparent",N.borderStyle="dashed",N.borderWidth=2,N.borderColor=p?"#3b82f6":"rgba(148, 163, 184, 0.3)"):(N.background=i.fill?Jh(i.fill,i.opacity):"rgba(37, 99, 235, 0.12)",N.borderStyle="solid",N.borderWidth=1),N}function sd({top:i,right:a,bottom:s,left:f}){return{top:i,right:a,bottom:s,left:f}}function Kh(i,a,s){const{width:f,height:p}=s,v=i.frame;if(v)return{x:v.x,y:v.y,width:v.width,height:v.height,rotation:v.rotation??0};const N=48,C=f*.6,b=Math.min(160,p*.18),E=a*32;return{x:N+E%120,y:N+E,width:C,height:b,rotation:0}}function Jh(i,a=1){return typeof i!="string"?i||"rgba(37, 99, 235, 0.12)":a>=.999?i:qh(i,a)||i}function qh(i,a){if(!i)return null;if(i.startsWith("#")){const s=i.slice(1),f=parseInt(s,16);if(Number.isNaN(f))return null;const p=s.length===8,v=f>>(p?24:16)&255,N=f>>(p?16:8)&255,C=f>>(p?8:0)&255;return`rgba(${v}, ${N}, ${C}, ${a})`}if(i.startsWith("rgb")){const s=i.match(/rgba?\(([^)]+)\)/);if(!s)return null;const f=s[1].split(",").map(C=>Number.parseFloat(C.trim())).filter((C,b)=>b<3&&Number.isFinite(C));if(f.length!==3)return null;const[p,v,N]=f;return`rgba(${p}, ${v}, ${N}, ${a})`}return null}function os(i,a,s){return!Number.isFinite(i)||i<a?a:i>s?s:i}function cd(i,a,s,f,p={}){if(!i||!a)return{frame:i,guides:[]};const v=p.threshold??6,N=[],C={...i};if(!Array.isArray(s)||s.length===0)return{frame:C,guides:N};const b=Ad(C),{verticalGuides:E,horizontalGuides:L}=em(a,s,f),R=ud(E,["left","centerX","right"],b,v);if(R){const ne=R.target-b[R.anchorKey];C.x=Math.round(C.x+ne),b.left+=ne,b.centerX+=ne,b.right+=ne,N.push({orientation:"vertical",position:R.target,source:R.source})}const T=ud(L,["top","centerY","bottom"],b,v);if(T){const ne=T.target-b[T.anchorKey];C.y=Math.round(C.y+ne),b.top+=ne,b.centerY+=ne,b.bottom+=ne,N.push({orientation:"horizontal",position:T.target,source:T.source})}return{frame:C,guides:N}}function em(i,a,s){const f=[{position:0,source:"page-edge"},{position:i.width/2,source:"page-center"},{position:i.width,source:"page-edge"}],p=[{position:0,source:"page-edge"},{position:i.height/2,source:"page-center"},{position:i.height,source:"page-edge"}];return a.forEach(({layer:v,frame:N})=>{if(!N||v.id===s||v.visible===!1)return;const C=Ad(N);f.push({position:C.left,source:"layer",layerId:v.id},{position:C.centerX,source:"layer",layerId:v.id},{position:C.right,source:"layer",layerId:v.id}),p.push({position:C.top,source:"layer",layerId:v.id},{position:C.centerY,source:"layer",layerId:v.id},{position:C.bottom,source:"layer",layerId:v.id})}),{verticalGuides:f,horizontalGuides:p}}function Ad(i){return i?{left:i.x,right:i.x+i.width,centerX:i.x+i.width/2,top:i.y,bottom:i.y+i.height,centerY:i.y+i.height/2}:{left:0,right:0,centerX:0,top:0,bottom:0,centerY:0}}function ud(i,a,s,f){if(!Array.isArray(i)||i.length===0)return null;let p=null;return i.forEach(v=>{a.forEach(N=>{const C=s[N];if(!Number.isFinite(C))return;const b=v.position-C;Math.abs(b)<=f&&(!p||Math.abs(b)<Math.abs(p.delta))&&(p={...v,anchorKey:N,delta:b,target:v.position})})}),p}function tm(i,a){switch(i){case"saving":return"Autosaving...";case"dirty":return"Unsaved changes";case"error":return"Autosave failed";case"saved":{if(!a)return"All changes saved";const s=new Date(a);return Number.isNaN(s.getTime())?"All changes saved":`Saved at ${s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}case"idle":default:if(a){const s=new Date(a);if(!Number.isNaN(s.getTime()))return`Last saved at ${s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return"Ready"}}function nm({isSavingPreview:i,previewSaveError:a,lastPreviewSavedAt:s}){if(i)return"Saving preview";if(a)return a;if(s){const f=new Date(s);if(!Number.isNaN(f.getTime()))return`Preview saved at ${f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return null}function ys({autosaveStatus:i,lastSavedAt:a,onSaveTemplate:s,isSavingPreview:f,previewSaveError:p,lastPreviewSavedAt:v}){var ke,ze;const{state:N,dispatch:C,routes:b}=rr(),E=((ke=N.template)==null?void 0:ke.name)??"Untitled template",L=()=>C({type:"UNDO"}),R=()=>C({type:"REDO"}),T=()=>C({type:"SHOW_PREVIEW_MODAL"}),ne=()=>{typeof s=="function"&&!f&&s()},le=tm(i,a),ue=i==="saving",te=i==="error",se=nm({isSavingPreview:f,previewSaveError:p,lastPreviewSavedAt:v}),Ie=p?"builder-topbar__status--error":f?"builder-topbar__status--saving":"builder-topbar__status--success",Ce=f?"Saving preview":"Save preview",fe=typeof s!="function"||f;return c.jsxs("header",{className:"builder-topbar",role:"banner",children:[c.jsxs("div",{className:"builder-topbar__left",children:[c.jsx("a",{href:b.index,className:"builder-topbar__back","aria-label":"Back to templates",children:" Templates"}),c.jsxs("div",{className:"builder-topbar__title",children:[c.jsx("span",{className:"builder-topbar__template-name",title:E,children:E}),((ze=N.template)==null?void 0:ze.category)&&c.jsx("span",{className:"builder-topbar__meta",children:N.template.category})]})]}),c.jsxs("div",{className:"builder-topbar__center",role:"toolbar","aria-label":"Canvas actions",children:[c.jsx("button",{type:"button",onClick:L,className:"builder-btn","aria-label":"Undo",children:"Undo"}),c.jsx("button",{type:"button",onClick:R,className:"builder-btn","aria-label":"Redo",children:"Redo"}),c.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle rulers",disabled:!0,children:"Rulers"}),c.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle guides",disabled:!0,children:"Guides"})]}),c.jsxs("div",{className:"builder-topbar__right",children:[c.jsxs("div",{className:"builder-topbar__status-column",role:"status","aria-live":"polite",children:[c.jsx("span",{className:`builder-topbar__status${ue?" builder-topbar__status--saving":""}${te?" builder-topbar__status--error":""}`,children:le}),se&&c.jsx("span",{className:`builder-topbar__status builder-topbar__status--sub ${Ie}`,children:se})]}),c.jsx("button",{type:"button",className:"builder-btn","aria-label":"Preview",onClick:T,children:"Preview"}),c.jsx("button",{type:"button",className:"builder-btn builder-btn--primary","aria-label":"Save template preview",onClick:ne,disabled:fe,children:Ce})]})]})}ys.propTypes={autosaveStatus:Oe.string,lastSavedAt:Oe.string,onSaveTemplate:Oe.func,isSavingPreview:Oe.bool,previewSaveError:Oe.string,lastPreviewSavedAt:Oe.string};ys.defaultProps={autosaveStatus:"idle",lastSavedAt:null,onSaveTemplate:null,isSavingPreview:!1,previewSaveError:null,lastPreviewSavedAt:null};function rm(){const{state:i}=rr(),a=i.pages.find(C=>C.id===i.activePageId)??i.pages[0],s=Array.isArray(a==null?void 0:a.nodes)?a.nodes:[];s.find(C=>C.id===i.selectedLayerId);const f=Math.round((i.zoom??1)*100),p=i.history.undoStack.length,v=i.history.redoStack.length,N=s.length;return c.jsxs("footer",{className:"builder-statusbar",role:"contentinfo","aria-live":"polite",children:[c.jsxs("div",{className:"builder-statusbar__segment",children:["Page: ",a.name," (",a.width,"  ",a.height,"px)"]}),c.jsxs("div",{className:"builder-statusbar__segment",children:["Layers: ",N]}),c.jsxs("div",{className:"builder-statusbar__segment",children:["Zoom: ",f,"%"]}),c.jsxs("div",{className:"builder-statusbar__segment",children:["History: ",p," undo  ",v," redo"]})]})}const dd=.1,im=.25,am=3;function fd(i){return Math.min(Math.max(i,im),am)}function lm(){const{state:i,dispatch:a}=rr();return _.useEffect(()=>{const s=f=>{if(f.defaultPrevented)return;const p=f.target;if(p instanceof HTMLElement){const E=p.tagName;if(p.isContentEditable||E==="INPUT"||E==="TEXTAREA"||E==="SELECT")return}const v=i.pages.find(E=>E.id===i.activePageId)??i.pages[0],N=i.selectedLayerId,C=v==null?void 0:v.nodes.find(E=>E.id===N);if(f.ctrlKey||f.metaKey){let E=!1,L=i.zoom??1;switch(f.key){case"=":case"+":L=fd(L+dd),E=!0;break;case"-":case"_":L=fd(L-dd),E=!0;break;case"0":L=1,E=!0;break}E&&(f.preventDefault(),a({type:"UPDATE_ZOOM",value:L}));return}if(!(!v||!C||C.locked))switch(f.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{const E=f.shiftKey?10:1;let L=0,R=0;f.key==="ArrowLeft"&&(L=-E),f.key==="ArrowRight"&&(L=E),f.key==="ArrowUp"&&(R=-E),f.key==="ArrowDown"&&(R=E),a({type:"BEGIN_LAYER_TRANSFORM"}),a({type:"NUDGE_LAYER",pageId:v.id,layerId:N,dx:L,dy:R,trackHistory:!1}),f.preventDefault();break}case"Delete":case"Backspace":{window.confirm(`Delete "${C.name}"? You can undo this action if needed.`)&&(a({type:"REMOVE_LAYER",pageId:v.id,layerId:N}),f.preventDefault());break}}};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[a,i]),null}function Ld({isOpen:i,onClose:a}){const{state:s}=rr();if(!i||!s.pages||s.pages.length===0)return null;const f=s.pages.find(b=>b.id===s.activePageId)||s.pages[0],p=b=>{if(!b)return{};const{variant:E,id:L,borderRadius:R}=b;switch(E){case"circle":return{borderRadius:"50%",overflow:"hidden"};case"polygon":return{clipPath:{triangle:"polygon(50% 0%, 0% 100%, 100% 100%)",diamond:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",hexagon:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",octagon:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",star:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",shield:"polygon(50% 0%, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%)"}[L]||"none",overflow:"hidden"};case"organic":return{clipPath:{heart:'path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z")',"cloud-shape":"ellipse(60% 40% at 50% 50%)",flower:"polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%)",butterfly:"polygon(50% 0%, 70% 20%, 90% 40%, 70% 60%, 50% 80%, 30% 60%, 10% 40%, 30% 20%)",leaf:"polygon(50% 0%, 100% 30%, 90% 70%, 50% 100%, 10% 70%, 0% 30%)",balloon:"ellipse(50% 60% at 50% 50%)",crown:"polygon(50% 0%, 60% 25%, 85% 25%, 75% 50%, 95% 50%, 80% 75%, 100% 75%, 85% 100%, 15% 100%, 0% 75%, 20% 75%, 5% 50%, 25% 50%, 15% 25%, 40% 25%)","puzzle-piece":"polygon(0% 0%, 70% 0%, 70% 30%, 100% 30%, 100% 70%, 70% 70%, 70% 100%, 30% 100%, 30% 70%, 0% 70%)","ribbon-banner":"polygon(0% 0%, 10% 50%, 0% 100%, 100% 100%, 90% 50%, 100% 0%)"}[L]||"none",overflow:"hidden"};case"frame":return{borderRadius:typeof R=="number"?`${R}px`:R||0,overflow:"hidden"};case"tag":return{clipPath:{"tag-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)","ticket-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)"}[L]||"none",overflow:"hidden"};case"layout":return{borderRadius:typeof R=="number"?`${R}px`:R||0,overflow:"hidden"};case"rectangle":default:return{borderRadius:typeof R=="number"?`${R}px`:R||0,overflow:"hidden"}}},N=[...Array.isArray(f.nodes)?f.nodes:[]].sort((b,E)=>{const L=b.side||"middle",R=E.side||"middle",T={back:0,middle:1,front:2};return T[L]-T[R]}),C=f.shape??null;return c.jsx("div",{className:"preview-modal-overlay",onClick:a,children:c.jsxs("div",{className:"preview-modal",onClick:b=>b.stopPropagation(),children:[c.jsxs("div",{className:"preview-modal__header",children:[c.jsx("h2",{children:"Template Preview"}),c.jsx("button",{type:"button",className:"preview-modal__close",onClick:a,"aria-label":"Close preview",children:""})]}),c.jsx("div",{className:"preview-modal__content",children:c.jsx("div",{className:"preview-page",style:{width:f.width,height:f.height,background:f.background||"#ffffff",...p(C),boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",borderRadius:"8px",margin:"0 auto"},children:N.map(b=>{if(b.visible===!1)return null;const E=b.frame;if(!E)return null;const L=b.type==="text",R=b.type==="image",T=(b==null?void 0:b.metadata)??{},ne=typeof T.objectFit=="string"?T.objectFit:"cover",le=Number(T.imageScale),ue=Number.isFinite(le)?Math.max(.25,Math.min(4,le)):1,te=Number(T.imageOffsetX),se=Number(T.imageOffsetY),Ie=Number.isFinite(te)?Math.max(-500,Math.min(500,te)):0,Ce=Number.isFinite(se)?Math.max(-500,Math.min(500,se)):0,fe=!!T.flipHorizontal,ke=!!T.flipVertical,ze=fe?-ue:ue,Ue=ke?-ue:ue,Ge={position:"absolute",left:E.x,top:E.y,width:E.width,height:E.height,opacity:b.opacity??1,borderRadius:b.borderRadius??0,transform:E.rotation?`rotate(${E.rotation}deg)`:void 0,transformOrigin:"center",overflow:"hidden"};return c.jsxs("div",{style:Ge,children:[L&&c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:b.textAlign==="left"?"flex-start":b.textAlign==="right"?"flex-end":"center",color:b.fill||"#0f172a",fontSize:b.fontSize?`${b.fontSize}px`:"16px",fontFamily:b.fontFamily||"Arial, sans-serif",fontWeight:b.fontWeight??"normal",textAlign:b.textAlign??"center",padding:"8px",boxSizing:"border-box",wordWrap:"break-word",overflowWrap:"break-word"},children:b.content||"Add your text"}),R&&b.content&&typeof b.content=="string"&&(b.content.startsWith("data:")||b.content.startsWith("blob:"))&&c.jsx("img",{src:b.content,alt:b.name||"Template image",style:{width:"100%",height:"100%",objectFit:ne,borderRadius:b.borderRadius??0,display:"block",transform:`translate(${Ie}px, ${Ce}px) scale(${ze}, ${Ue})`,transformOrigin:"center"}}),b.type==="shape"&&!L&&!R&&c.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:b.fill||"rgba(37, 99, 235, 0.12)",borderRadius:b.borderRadius??0,...p(b.shape)}})]},b.id)})})})]})})}Ld.propTypes={isOpen:Oe.bool.isRequired,onClose:Oe.func.isRequired};function om(i){return{pages:Array.isArray(i.pages)?i.pages.map(s=>({id:s.id,name:s.name,width:s.width,height:s.height,background:s.background,safeZone:s.safeZone??null,bleed:s.bleed??null,metadata:s.metadata??{},nodes:Array.isArray(s.nodes)?s.nodes.map(f=>({id:f.id,name:f.name,type:f.type,visible:f.visible!==!1,locked:!!f.locked,opacity:typeof f.opacity=="number"?f.opacity:1,frame:f.frame?{...f.frame}:null,fill:f.fill??null,stroke:f.stroke??null,content:f.content??"",fontSize:f.fontSize??null,fontFamily:f.fontFamily??null,fontWeight:f.fontWeight??null,textAlign:f.textAlign??null,borderRadius:f.borderRadius??0,variant:f.variant??null,metadata:f.metadata??{}})):[]})):[],activePageId:i.activePageId??null,selectedLayerId:i.selectedLayerId??null,canvas:{zoom:i.zoom??1,panX:i.panX??0,panY:i.panY??0}}}function sm(){var ft,lt;const{state:i,routes:a,csrfToken:s,dispatch:f}=rr(),p=i.pages.find(Ae=>Ae.id===i.activePageId)??i.pages[0],[v,N]=_.useState(!1),[C,b]=_.useState("idle"),[E,L]=_.useState(((ft=i.template)==null?void 0:ft.updated_at)??null),[R,T]=_.useState(!1),[ne,le]=_.useState(null),[ue,te]=_.useState(null),se=_.useRef(null),Ie=_.useRef(null),Ce=_.useRef(null),fe=_.useRef(!0),ke=_.useRef(null),ze=()=>{N(!v)};_.useEffect(()=>()=>{se.current&&(clearTimeout(se.current),se.current=null),Ce.current&&Ce.current.abort()},[]),_.useEffect(()=>{if(!(a!=null&&a.autosave)||!s)return;const Ae=om(i),$e=JSON.stringify(Ae);if(fe.current){fe.current=!1,Ie.current=$e;return}if($e!==Ie.current)return Ie.current=$e,se.current&&clearTimeout(se.current),b("dirty"),se.current=setTimeout(()=>{var Te;if(!(a!=null&&a.autosave)||!s)return;Ce.current&&Ce.current.abort();const Ne=new AbortController;Ce.current=Ne,b("saving"),fetch(a.autosave,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":s},credentials:"same-origin",body:JSON.stringify({design:Ae,canvas:Ae.canvas,template_name:((Te=i.template)==null?void 0:Te.name)??null}),signal:Ne.signal}).then(async je=>{if(!je.ok){const Je=await je.text();throw new Error(Je||"Autosave request failed")}return je.json()}).then(je=>{b("saved"),je!=null&&je.saved_at&&L(je.saved_at),Ce.current===Ne&&(Ce.current=null)}).catch(je=>{Ne.signal.aborted||(Ce.current===Ne&&(Ce.current=null),console.error("[InkWise Builder] Autosave failed:",je),b("error"),Ie.current=null)})},1500),()=>{se.current&&(clearTimeout(se.current),se.current=null)}},[i.pages,(lt=i.template)==null?void 0:lt.name,i.zoom,i.panX,i.panY,i.activePageId,a==null?void 0:a.autosave,s]);const Ue=a==null?void 0:a.saveCanvas,Ge=_.useCallback(async()=>{if(!Ue){le("Save route is unavailable.");return}if(!s){le("Missing CSRF token.");return}if(!ke.current){le("Canvas not ready yet.");return}if(R)return;T(!0),le(null);const Ae=typeof document<"u"?document.body:null,$e=typeof window<"u"?Math.max(window.devicePixelRatio||1,2):2;try{Ae==null||Ae.classList.add("builder-exporting");const Ne=await gh(ke.current,{cacheBust:!0,pixelRatio:$e,quality:1}),Te=await fetch(Ue,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":s},credentials:"same-origin",body:JSON.stringify({canvas_image:Ne})});if(!Te.ok){const je=await Te.text();throw new Error(je||"Failed to save preview")}await Te.json().catch(()=>null),te(new Date().toISOString())}catch(Ne){console.error("[InkWise Builder] Preview save failed:",Ne),le(Ne.message||"Failed to save preview")}finally{Ae==null||Ae.classList.remove("builder-exporting"),T(!1)}},[Ue,s,R]);return c.jsxs("div",{className:"builder-shell",role:"application","aria-label":"InkWise template builder",children:[c.jsx(lm,{}),c.jsx(ys,{autosaveStatus:C,lastSavedAt:E,onSaveTemplate:Ge,isSavingPreview:R,lastPreviewSavedAt:ue,previewSaveError:ne}),c.jsxs("div",{className:"builder-workspace",style:{gridTemplateColumns:v?"60px minmax(0, 1fr) 340px":"600px minmax(0, 1fr) 340px"},children:[c.jsx(Rh,{isSidebarHidden:v,onToggleSidebar:ze}),c.jsxs("main",{className:"builder-canvas-column","aria-live":"polite",children:[c.jsx("div",{className:"builder-canvas-header",children:c.jsx(Gh,{})}),c.jsx(vs,{page:p,canvasRef:ke}),c.jsx(rm,{})]}),c.jsx("aside",{className:"builder-right-column","aria-label":"Inspector panels",children:c.jsx(Hh,{})})]}),c.jsx(Ld,{isOpen:i.showPreviewModal,onClose:()=>f({type:"HIDE_PREVIEW_MODAL"})})]})}function ws({bootstrap:i}){const a=(i==null?void 0:i.template)??{},s=(i==null?void 0:i.routes)??{},f=(i==null?void 0:i.flags)??{},p=(i==null?void 0:i.user)??null,v=(i==null?void 0:i.csrfToken)??"";return c.jsx(gs,{template:a,routes:s,flags:f,user:p,csrfToken:v,children:c.jsx(sm,{})})}ws.propTypes={bootstrap:Oe.shape({template:Oe.object,routes:Oe.object,flags:Oe.object,user:Oe.object,csrfToken:Oe.string})};ws.defaultProps={bootstrap:{}};function cm(){const i=document.getElementById("inkwise-builder-bootstrap");if(!i)return console.warn("[InkWise Builder] Bootstrap JSON not found. Falling back to legacy window payload."),window.inkwiseTemplateBootstrap||{};try{return JSON.parse(i.textContent||"{}")}catch(a){return console.error("[InkWise Builder] Failed to parse bootstrap JSON.",a),{}}}const um=cm(),ss=document.getElementById("template-builder-app");ss?(ss.classList.add("inkwise-builder--hydrated"),wp.createRoot(ss).render(c.jsx(ps.StrictMode,{children:c.jsx(ws,{bootstrap:um})}))):console.error("[InkWise Builder] Root element not found.");
