function Nu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eu={exports:{}},Vl={},Cu={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),ls=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=ls&&e[ls]||e["@@iterator"],typeof e=="function"?e:null)}var Mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,Pu={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=Pu,this.updater=n||Mu}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bu(){}bu.prototype=Hn.prototype;function Uo(e,t,n){this.props=e,this.context=t,this.refs=Pu,this.updater=n||Mu}var $o=Uo.prototype=new bu;$o.constructor=Uo;ju($o,Hn.prototype);$o.isPureReactComponent=!0;var is=Array.isArray,Ru=Object.prototype.hasOwnProperty,Bo={current:null},Tu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var r,l={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ru.call(t,r)&&!Tu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Or,type:e,key:i,ref:o,props:l,_owner:Bo.current}}function qf(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or}function ep(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var os=/\/+/g;function fi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ep(""+e.key):t.toString(36)}function ul(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Or:case Bf:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+fi(o,0):r,is(l)?(n="",e!=null&&(n=e.replace(os,"$&/")+"/"),ul(l,t,n,"",function(c){return c})):l!=null&&(Ho(l)&&(l=qf(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(os,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",is(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+fi(i,a);o+=ul(i,t,n,u,l)}else if(u=Jf(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+fi(i,a++),o+=ul(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hr(e,t,n){if(e==null)return e;var r=[],l=0;return ul(e,r,"","",function(i){return t.call(n,i,l++)}),r}function tp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},cl={transition:null},np={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:cl,ReactCurrentOwner:Bo};function zu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Hr,forEach:function(e,t,n){Hr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hr(e,function(){t++}),t},toArray:function(e){return Hr(e,function(t){return t})||[]},only:function(e){if(!Ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Hn;W.Fragment=Hf;W.Profiler=Yf;W.PureComponent=Uo;W.StrictMode=Wf;W.Suspense=Gf;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np;W.act=zu;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ju({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ru.call(t,u)&&!Tu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Or,type:e.type,key:l,ref:i,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:Xf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};W.createElement=Lu;W.createFactory=function(e){var t=Lu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Qf,render:e}};W.isValidElement=Ho;W.lazy=function(e){return{$$typeof:Zf,_payload:{_status:-1,_result:e},_init:tp}};W.memo=function(e,t){return{$$typeof:Kf,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=cl.transition;cl.transition={};try{e()}finally{cl.transition=t}};W.unstable_act=zu;W.useCallback=function(e,t){return Pe.current.useCallback(e,t)};W.useContext=function(e){return Pe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Pe.current.useEffect(e,t)};W.useId=function(){return Pe.current.useId()};W.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Pe.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};W.useRef=function(e){return Pe.current.useRef(e)};W.useState=function(e){return Pe.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Pe.current.useTransition()};W.version="18.3.1";Cu.exports=W;var P=Cu.exports;const Wo=Nu(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=P,lp=Symbol.for("react.element"),ip=Symbol.for("react.fragment"),op=Object.prototype.hasOwnProperty,ap=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sp={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)op.call(t,r)&&!sp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:lp,type:e,key:i,ref:o,props:l,_owner:ap.current}}Vl.Fragment=ip;Vl.jsx=Fu;Vl.jsxs=Fu;Eu.exports=Vl;var s=Eu.exports,Au={exports:{}},$e={},Ou={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,O){var L=j.length;j.push(O);e:for(;0<L;){var H=L-1>>>1,G=j[H];if(0<l(G,O))j[H]=O,j[L]=G,L=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var O=j[0],L=j.pop();if(L!==O){j[0]=L;e:for(var H=0,G=j.length,ot=G>>>1;H<ot;){var ae=2*(H+1)-1,at=j[ae],_e=ae+1,He=j[_e];if(0>l(at,L))_e<G&&0>l(He,at)?(j[H]=He,j[_e]=L,H=_e):(j[H]=at,j[ae]=L,H=ae);else if(_e<G&&0>l(He,L))j[H]=He,j[_e]=L,H=_e;else break e}}return O}function l(j,O){var L=j.sortIndex-O.sortIndex;return L!==0?L:j.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],p=1,m=null,y=3,S=!1,k=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=j)r(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function v(j){if(x=!1,g(j),!k)if(n(u)!==null)k=!0,$(E);else{var O=n(c);O!==null&&D(v,O.startTime-j)}}function E(j,O){k=!1,x&&(x=!1,f(F),F=-1),S=!0;var L=y;try{for(g(O),m=n(u);m!==null&&(!(m.expirationTime>O)||j&&!ie());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var G=H(m.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?m.callback=G:m===n(u)&&r(u),g(O)}else r(u);m=n(u)}if(m!==null)var ot=!0;else{var ae=n(c);ae!==null&&D(v,ae.startTime-O),ot=!1}return ot}finally{m=null,y=L,S=!1}}var T=!1,z=null,F=-1,X=5,I=-1;function ie(){return!(e.unstable_now()-I<X)}function he(){if(z!==null){var j=e.unstable_now();I=j;var O=!0;try{O=z(!0,j)}finally{O?Ae():(T=!1,z=null)}}else T=!1}var Ae;if(typeof d=="function")Ae=function(){d(he)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=he,Ae=function(){M.postMessage(null)}}else Ae=function(){_(he,0)};function $(j){z=j,T||(T=!0,Ae())}function D(j,O){F=_(function(){j(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){k||S||(k=!0,$(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(y){case 1:case 2:case 3:var O=3;break;default:O=y}var L=y;y=O;try{return j()}finally{y=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,O){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=y;y=j;try{return O()}finally{y=L}},e.unstable_scheduleCallback=function(j,O,L){var H=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,j={id:p++,callback:O,priorityLevel:j,startTime:L,expirationTime:G,sortIndex:-1},L>H?(j.sortIndex=L,t(c,j),n(u)===null&&j===n(c)&&(x?(f(F),F=-1):x=!0,D(v,L-H))):(j.sortIndex=G,t(u,j),k||S||(k=!0,$(E))),j},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(j){var O=y;return function(){var L=y;y=O;try{return j.apply(this,arguments)}finally{y=L}}}})(Iu);Ou.exports=Iu;var up=Ou.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=P,Ue=up;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Du=new Set,wr={};function dn(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(wr[e]=t,e=0;e<t.length;e++)Du.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=Object.prototype.hasOwnProperty,dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,as={},ss={};function fp(e){return Wi.call(ss,e)?!0:Wi.call(as,e)?!1:dp.test(e)?ss[e]=!0:(as[e]=!0,!1)}function pp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hp(e,t,n,r){if(t===null||typeof t>"u"||pp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yo=/[\-:]([a-z])/g;function Vo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yo,Vo);we[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yo,Vo);we[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yo,Vo);we[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xo(e,t,n,r){var l=we.hasOwnProperty(t)?we[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hp(t,n,l,r)&&(n=null),r||l===null?fp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Et=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Qo=Symbol.for("react.strict_mode"),Yi=Symbol.for("react.profiler"),Uu=Symbol.for("react.provider"),$u=Symbol.for("react.context"),Go=Symbol.for("react.forward_ref"),Vi=Symbol.for("react.suspense"),Xi=Symbol.for("react.suspense_list"),Ko=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Bu=Symbol.for("react.offscreen"),us=Symbol.iterator;function Kn(e){return e===null||typeof e!="object"?null:(e=us&&e[us]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,pi;function ir(e){if(pi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pi=t&&t[1]||""}return`
`+pi+e}var hi=!1;function mi(e,t){if(!e||hi)return"";hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ir(e):""}function mp(e){switch(e.tag){case 5:return ir(e.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return e=mi(e.type,!1),e;case 11:return e=mi(e.type.render,!1),e;case 1:return e=mi(e.type,!0),e;default:return""}}function Qi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case Yi:return"Profiler";case Qo:return"StrictMode";case Vi:return"Suspense";case Xi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $u:return(e.displayName||"Context")+".Consumer";case Uu:return(e._context.displayName||"Context")+".Provider";case Go:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ko:return t=e.displayName||null,t!==null?t:Qi(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return Qi(e(t))}catch{}}return null}function gp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qi(t);case 8:return t===Qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ht(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yp(e){var t=Hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yr(e){e._valueTracker||(e._valueTracker=yp(e))}function Wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gi(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cs(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ht(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yu(e,t){t=t.checked,t!=null&&Xo(e,"checked",t,!1)}function Ki(e,t){Yu(e,t);var n=Ht(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zi(e,t.type,Ht(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ds(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zi(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var or=Array.isArray;function Pn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ht(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ji(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(or(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ht(n)}}function Vu(e,t){var n=Ht(t.value),r=Ht(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ps(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vr,Qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vp=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){vp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function Gu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function Ku(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Gu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var xp=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(e,t){if(t){if(xp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function to(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ro=null,bn=null,Rn=null;function hs(e){if(e=Ur(e)){if(typeof ro!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Zl(t),ro(e.stateNode,e.type,t))}}function Zu(e){bn?Rn?Rn.push(e):Rn=[e]:bn=e}function Ju(){if(bn){var e=bn,t=Rn;if(Rn=bn=null,hs(e),t)for(e=0;e<t.length;e++)hs(t[e])}}function qu(e,t){return e(t)}function ec(){}var gi=!1;function tc(e,t,n){if(gi)return e(t,n);gi=!0;try{return qu(e,t,n)}finally{gi=!1,(bn!==null||Rn!==null)&&(ec(),Ju())}}function Sr(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var lo=!1;if(_t)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{lo=!1}function wp(e,t,n,r,l,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var dr=!1,Sl=null,kl=!1,io=null,_p={onError:function(e){dr=!0,Sl=e}};function Sp(e,t,n,r,l,i,o,a,u){dr=!1,Sl=null,wp.apply(_p,arguments)}function kp(e,t,n,r,l,i,o,a,u){if(Sp.apply(this,arguments),dr){if(dr){var c=Sl;dr=!1,Sl=null}else throw Error(C(198));kl||(kl=!0,io=c)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ms(e){if(fn(e)!==e)throw Error(C(188))}function Np(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return ms(l),e;if(i===r)return ms(l),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=l,r=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=i;break}if(a===r){o=!0,r=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=l;break}if(a===r){o=!0,r=i,n=l;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function rc(e){return e=Np(e),e!==null?lc(e):null}function lc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lc(e);if(t!==null)return t;e=e.sibling}return null}var ic=Ue.unstable_scheduleCallback,gs=Ue.unstable_cancelCallback,Ep=Ue.unstable_shouldYield,Cp=Ue.unstable_requestPaint,ue=Ue.unstable_now,Mp=Ue.unstable_getCurrentPriorityLevel,Jo=Ue.unstable_ImmediatePriority,oc=Ue.unstable_UserBlockingPriority,Nl=Ue.unstable_NormalPriority,jp=Ue.unstable_LowPriority,ac=Ue.unstable_IdlePriority,Xl=null,pt=null;function Pp(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Tp,bp=Math.log,Rp=Math.LN2;function Tp(e){return e>>>=0,e===0?32:31-(bp(e)/Rp|0)|0}var Xr=64,Qr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function El(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=ar(a):(i&=o,i!==0&&(r=ar(i)))}else o=n&~l,o!==0?r=ar(o):i!==0&&(r=ar(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),l=1<<n,r|=e[n],t&=~l;return r}function Lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),a=1<<o,u=l[o];u===-1?(!(a&n)||a&r)&&(l[o]=Lp(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sc(){var e=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),e}function yi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Fp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-rt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Q=0;function uc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cc,ea,dc,fc,pc,ao=!1,Gr=[],Ft=null,At=null,Ot=null,kr=new Map,Nr=new Map,Rt=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ys(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Jn(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Ur(t),t!==null&&ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Op(e,t,n,r,l){switch(t){case"focusin":return Ft=Jn(Ft,e,t,n,r,l),!0;case"dragenter":return At=Jn(At,e,t,n,r,l),!0;case"mouseover":return Ot=Jn(Ot,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return kr.set(i,Jn(kr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Nr.set(i,Jn(Nr.get(i)||null,e,t,n,r,l)),!0}return!1}function hc(e){var t=en(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=nc(n),t!==null){e.blockedOn=t,pc(e.priority,function(){dc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=so(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);no=r,n.target.dispatchEvent(r),no=null}else return t=Ur(n),t!==null&&ea(t),e.blockedOn=n,!1;t.shift()}return!0}function vs(e,t,n){dl(e)&&n.delete(t)}function Ip(){ao=!1,Ft!==null&&dl(Ft)&&(Ft=null),At!==null&&dl(At)&&(At=null),Ot!==null&&dl(Ot)&&(Ot=null),kr.forEach(vs),Nr.forEach(vs)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,ao||(ao=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Ip)))}function Er(e){function t(l){return qn(l,e)}if(0<Gr.length){qn(Gr[0],e);for(var n=1;n<Gr.length;n++){var r=Gr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&qn(Ft,e),At!==null&&qn(At,e),Ot!==null&&qn(Ot,e),kr.forEach(t),Nr.forEach(t),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)hc(n),n.blockedOn===null&&Rt.shift()}var Tn=Et.ReactCurrentBatchConfig,Cl=!0;function Dp(e,t,n,r){var l=Q,i=Tn.transition;Tn.transition=null;try{Q=1,ta(e,t,n,r)}finally{Q=l,Tn.transition=i}}function Up(e,t,n,r){var l=Q,i=Tn.transition;Tn.transition=null;try{Q=4,ta(e,t,n,r)}finally{Q=l,Tn.transition=i}}function ta(e,t,n,r){if(Cl){var l=so(e,t,n,r);if(l===null)Mi(e,t,r,Ml,n),ys(e,r);else if(Op(l,e,t,n,r))r.stopPropagation();else if(ys(e,r),t&4&&-1<Ap.indexOf(e)){for(;l!==null;){var i=Ur(l);if(i!==null&&cc(i),i=so(e,t,n,r),i===null&&Mi(e,t,r,Ml,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Mi(e,t,r,null,n)}}var Ml=null;function so(e,t,n,r){if(Ml=null,e=Zo(r),e=en(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mp()){case Jo:return 1;case oc:return 4;case Nl:case jp:return 16;case ac:return 536870912;default:return 16}default:return 16}}var Lt=null,na=null,fl=null;function gc(){if(fl)return fl;var e,t=na,n=t.length,r,l="value"in Lt?Lt.value:Lt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[i-r];r++);return fl=l.slice(e,1<r?1-r:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function xs(){return!1}function Be(e){function t(n,r,l,i,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:xs,this.isPropagationStopped=xs,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Be(Wn),Dr=le({},Wn,{view:0,detail:0}),$p=Be(Dr),vi,xi,er,Ql=le({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(vi=e.screenX-er.screenX,xi=e.screenY-er.screenY):xi=vi=0,er=e),vi)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),ws=Be(Ql),Bp=le({},Ql,{dataTransfer:0}),Hp=Be(Bp),Wp=le({},Dr,{relatedTarget:0}),wi=Be(Wp),Yp=le({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=Be(Yp),Xp=le({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qp=Be(Xp),Gp=le({},Wn,{data:0}),_s=Be(Gp),Kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function la(){return qp}var eh=le({},Dr,{key:function(e){if(e.key){var t=Kp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),th=Be(eh),nh=le({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Be(nh),rh=le({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),lh=Be(rh),ih=le({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=Be(ih),ah=le({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=Be(ah),uh=[9,13,27,32],ia=_t&&"CompositionEvent"in window,fr=null;_t&&"documentMode"in document&&(fr=document.documentMode);var ch=_t&&"TextEvent"in window&&!fr,yc=_t&&(!ia||fr&&8<fr&&11>=fr),ks=" ",Ns=!1;function vc(e,t){switch(e){case"keyup":return uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function dh(e,t){switch(e){case"compositionend":return xc(t);case"keypress":return t.which!==32?null:(Ns=!0,ks);case"textInput":return e=t.data,e===ks&&Ns?null:e;default:return null}}function fh(e,t){if(xn)return e==="compositionend"||!ia&&vc(e,t)?(e=gc(),fl=na=Lt=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ph[e.type]:t==="textarea"}function wc(e,t,n,r){Zu(r),t=jl(t,"onChange"),0<t.length&&(n=new ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pr=null,Cr=null;function hh(e){Rc(e,0)}function Gl(e){var t=Sn(e);if(Wu(t))return e}function mh(e,t){if(e==="change")return t}var _c=!1;if(_t){var _i;if(_t){var Si="oninput"in document;if(!Si){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),Si=typeof Cs.oninput=="function"}_i=Si}else _i=!1;_c=_i&&(!document.documentMode||9<document.documentMode)}function Ms(){pr&&(pr.detachEvent("onpropertychange",Sc),Cr=pr=null)}function Sc(e){if(e.propertyName==="value"&&Gl(Cr)){var t=[];wc(t,Cr,e,Zo(e)),tc(hh,t)}}function gh(e,t,n){e==="focusin"?(Ms(),pr=t,Cr=n,pr.attachEvent("onpropertychange",Sc)):e==="focusout"&&Ms()}function yh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Cr)}function vh(e,t){if(e==="click")return Gl(t)}function xh(e,t){if(e==="input"||e==="change")return Gl(t)}function wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:wh;function Mr(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Wi.call(t,l)||!it(e[l],t[l]))return!1}return!0}function js(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ps(e,t){var n=js(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=js(n)}}function kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nc(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _h(e){var t=Nc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kc(n.ownerDocument.documentElement,n)){if(r!==null&&oa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Ps(n,i);var o=Ps(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sh=_t&&"documentMode"in document&&11>=document.documentMode,wn=null,uo=null,hr=null,co=!1;function bs(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||wn==null||wn!==_l(r)||(r=wn,"selectionStart"in r&&oa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hr&&Mr(hr,r)||(hr=r,r=jl(uo,"onSelect"),0<r.length&&(t=new ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wn)))}function Zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},ki={},Ec={};_t&&(Ec=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Kl(e){if(ki[e])return ki[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ec)return ki[e]=t[n];return e}var Cc=Kl("animationend"),Mc=Kl("animationiteration"),jc=Kl("animationstart"),Pc=Kl("transitionend"),bc=new Map,Rs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){bc.set(e,t),dn(t,[e])}for(var Ni=0;Ni<Rs.length;Ni++){var Ei=Rs[Ni],kh=Ei.toLowerCase(),Nh=Ei[0].toUpperCase()+Ei.slice(1);Yt(kh,"on"+Nh)}Yt(Cc,"onAnimationEnd");Yt(Mc,"onAnimationIteration");Yt(jc,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Pc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function Ts(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kp(r,t,void 0,e),e.currentTarget=null}function Rc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&l.isPropagationStopped())break e;Ts(l,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&l.isPropagationStopped())break e;Ts(l,a,c),i=u}}}if(kl)throw e=io,kl=!1,io=null,e}function J(e,t){var n=t[go];n===void 0&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Tc(t,e,2,!1),n.add(r))}function Ci(e,t,n){var r=0;t&&(r|=4),Tc(n,e,r,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Jr]){e[Jr]=!0,Du.forEach(function(n){n!=="selectionchange"&&(Eh.has(n)||Ci(n,!1,e),Ci(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jr]||(t[Jr]=!0,Ci("selectionchange",!1,t))}}function Tc(e,t,n,r){switch(mc(t)){case 1:var l=Dp;break;case 4:l=Up;break;default:l=ta}n=l.bind(null,t,n,e),l=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Mi(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;a!==null;){if(o=en(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tc(function(){var c=i,p=Zo(n),m=[];e:{var y=bc.get(e);if(y!==void 0){var S=ra,k=e;switch(e){case"keypress":if(pl(n)===0)break e;case"keydown":case"keyup":S=th;break;case"focusin":k="focus",S=wi;break;case"focusout":k="blur",S=wi;break;case"beforeblur":case"afterblur":S=wi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=lh;break;case Cc:case Mc:case jc:S=Vp;break;case Pc:S=oh;break;case"scroll":S=$p;break;case"wheel":S=sh;break;case"copy":case"cut":case"paste":S=Qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ss}var x=(t&4)!==0,_=!x&&e==="scroll",f=x?y!==null?y+"Capture":null:y;x=[];for(var d=c,g;d!==null;){g=d;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,f!==null&&(v=Sr(d,f),v!=null&&x.push(Pr(d,v,g)))),_)break;d=d.return}0<x.length&&(y=new S(y,k,null,n,p),m.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",y&&n!==no&&(k=n.relatedTarget||n.fromElement)&&(en(k)||k[St]))break e;if((S||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,S?(k=n.relatedTarget||n.toElement,S=c,k=k?en(k):null,k!==null&&(_=fn(k),k!==_||k.tag!==5&&k.tag!==6)&&(k=null)):(S=null,k=c),S!==k)){if(x=ws,v="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ss,v="onPointerLeave",f="onPointerEnter",d="pointer"),_=S==null?y:Sn(S),g=k==null?y:Sn(k),y=new x(v,d+"leave",S,n,p),y.target=_,y.relatedTarget=g,v=null,en(p)===c&&(x=new x(f,d+"enter",k,n,p),x.target=g,x.relatedTarget=_,v=x),_=v,S&&k)t:{for(x=S,f=k,d=0,g=x;g;g=mn(g))d++;for(g=0,v=f;v;v=mn(v))g++;for(;0<d-g;)x=mn(x),d--;for(;0<g-d;)f=mn(f),g--;for(;d--;){if(x===f||f!==null&&x===f.alternate)break t;x=mn(x),f=mn(f)}x=null}else x=null;S!==null&&Ls(m,y,S,x,!1),k!==null&&_!==null&&Ls(m,_,k,x,!0)}}e:{if(y=c?Sn(c):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var E=mh;else if(Es(y))if(_c)E=xh;else{E=yh;var T=gh}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(E=vh);if(E&&(E=E(e,c))){wc(m,E,n,p);break e}T&&T(e,y,c),e==="focusout"&&(T=y._wrapperState)&&T.controlled&&y.type==="number"&&Zi(y,"number",y.value)}switch(T=c?Sn(c):window,e){case"focusin":(Es(T)||T.contentEditable==="true")&&(wn=T,uo=c,hr=null);break;case"focusout":hr=uo=wn=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,bs(m,n,p);break;case"selectionchange":if(Sh)break;case"keydown":case"keyup":bs(m,n,p)}var z;if(ia)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else xn?vc(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(yc&&n.locale!=="ko"&&(xn||F!=="onCompositionStart"?F==="onCompositionEnd"&&xn&&(z=gc()):(Lt=p,na="value"in Lt?Lt.value:Lt.textContent,xn=!0)),T=jl(c,F),0<T.length&&(F=new _s(F,e,null,n,p),m.push({event:F,listeners:T}),z?F.data=z:(z=xc(n),z!==null&&(F.data=z)))),(z=ch?dh(e,n):fh(e,n))&&(c=jl(c,"onBeforeInput"),0<c.length&&(p=new _s("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:c}),p.data=z))}Rc(m,t)})}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Sr(e,n),i!=null&&r.unshift(Pr(e,i,l)),i=Sr(e,t),i!=null&&r.push(Pr(e,i,l))),e=e.return}return r}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ls(e,t,n,r,l){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=Sr(n,i),u!=null&&o.unshift(Pr(n,u,a))):l||(u=Sr(n,i),u!=null&&o.push(Pr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ch=/\r\n?/g,Mh=/\u0000|\uFFFD/g;function zs(e){return(typeof e=="string"?e:""+e).replace(Ch,`
`).replace(Mh,"")}function qr(e,t,n){if(t=zs(t),zs(e)!==t&&n)throw Error(C(425))}function Pl(){}var fo=null,po=null;function ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mo=typeof setTimeout=="function"?setTimeout:void 0,jh=typeof clearTimeout=="function"?clearTimeout:void 0,Fs=typeof Promise=="function"?Promise:void 0,Ph=typeof queueMicrotask=="function"?queueMicrotask:typeof Fs<"u"?function(e){return Fs.resolve(null).then(e).catch(bh)}:mo;function bh(e){setTimeout(function(){throw e})}function ji(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Er(t)}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function As(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Yn,br="__reactProps$"+Yn,St="__reactContainer$"+Yn,go="__reactEvents$"+Yn,Rh="__reactListeners$"+Yn,Th="__reactHandles$"+Yn;function en(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=As(e);e!==null;){if(n=e[ft])return n;e=As(e)}return t}e=n,n=e.parentNode}return null}function Ur(e){return e=e[ft]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Zl(e){return e[br]||null}var yo=[],kn=-1;function Vt(e){return{current:e}}function q(e){0>kn||(e.current=yo[kn],yo[kn]=null,kn--)}function K(e,t){kn++,yo[kn]=e.current,e.current=t}var Wt={},Ce=Vt(Wt),Le=Vt(!1),on=Wt;function On(e,t){var n=e.type.contextTypes;if(!n)return Wt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ze(e){return e=e.childContextTypes,e!=null}function bl(){q(Le),q(Ce)}function Os(e,t,n){if(Ce.current!==Wt)throw Error(C(168));K(Ce,t),K(Le,n)}function Lc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(C(108,gp(e)||"Unknown",l));return le({},n,r)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,on=Ce.current,K(Ce,e),K(Le,Le.current),!0}function Is(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Lc(e,t,on),r.__reactInternalMemoizedMergedChildContext=e,q(Le),q(Ce),K(Ce,e)):q(Le),K(Le,n)}var yt=null,Jl=!1,Pi=!1;function zc(e){yt===null?yt=[e]:yt.push(e)}function Lh(e){Jl=!0,zc(e)}function Xt(){if(!Pi&&yt!==null){Pi=!0;var e=0,t=Q;try{var n=yt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yt=null,Jl=!1}catch(l){throw yt!==null&&(yt=yt.slice(e+1)),ic(Jo,Xt),l}finally{Q=t,Pi=!1}}return null}var Nn=[],En=0,Tl=null,Ll=0,Ye=[],Ve=0,an=null,vt=1,xt="";function Zt(e,t){Nn[En++]=Ll,Nn[En++]=Tl,Tl=e,Ll=t}function Fc(e,t,n){Ye[Ve++]=vt,Ye[Ve++]=xt,Ye[Ve++]=an,an=e;var r=vt;e=xt;var l=32-rt(r)-1;r&=~(1<<l),n+=1;var i=32-rt(t)+l;if(30<i){var o=l-l%5;i=(r&(1<<o)-1).toString(32),r>>=o,l-=o,vt=1<<32-rt(t)+l|n<<l|r,xt=i+e}else vt=1<<i|n<<l|r,xt=e}function aa(e){e.return!==null&&(Zt(e,1),Fc(e,1,0))}function sa(e){for(;e===Tl;)Tl=Nn[--En],Nn[En]=null,Ll=Nn[--En],Nn[En]=null;for(;e===an;)an=Ye[--Ve],Ye[Ve]=null,xt=Ye[--Ve],Ye[Ve]=null,vt=Ye[--Ve],Ye[Ve]=null}var De=null,Ie=null,te=!1,nt=null;function Ac(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ds(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Ie=It(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=an!==null?{id:vt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Ie=null,!0):!1;default:return!1}}function vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xo(e){if(te){var t=Ie;if(t){var n=t;if(!Ds(e,t)){if(vo(e))throw Error(C(418));t=It(n.nextSibling);var r=De;t&&Ds(e,t)?Ac(r,n):(e.flags=e.flags&-4097|2,te=!1,De=e)}}else{if(vo(e))throw Error(C(418));e.flags=e.flags&-4097|2,te=!1,De=e}}}function Us(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function el(e){if(e!==De)return!1;if(!te)return Us(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ho(e.type,e.memoizedProps)),t&&(t=Ie)){if(vo(e))throw Oc(),Error(C(418));for(;t;)Ac(e,t),t=It(t.nextSibling)}if(Us(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=It(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=De?It(e.stateNode.nextSibling):null;return!0}function Oc(){for(var e=Ie;e;)e=It(e.nextSibling)}function In(){Ie=De=null,te=!1}function ua(e){nt===null?nt=[e]:nt.push(e)}var zh=Et.ReactCurrentBatchConfig;function tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function tl(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $s(e){var t=e._init;return t(e._payload)}function Ic(e){function t(f,d){if(e){var g=f.deletions;g===null?(f.deletions=[d],f.flags|=16):g.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function l(f,d){return f=Bt(f,d),f.index=0,f.sibling=null,f}function i(f,d,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<d?(f.flags|=2,d):g):(f.flags|=2,d)):(f.flags|=1048576,d)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,g,v){return d===null||d.tag!==6?(d=Ai(g,f.mode,v),d.return=f,d):(d=l(d,g),d.return=f,d)}function u(f,d,g,v){var E=g.type;return E===vn?p(f,d,g.props.children,v,g.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&$s(E)===d.type)?(v=l(d,g.props),v.ref=tr(f,d,g),v.return=f,v):(v=wl(g.type,g.key,g.props,null,f.mode,v),v.ref=tr(f,d,g),v.return=f,v)}function c(f,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Oi(g,f.mode,v),d.return=f,d):(d=l(d,g.children||[]),d.return=f,d)}function p(f,d,g,v,E){return d===null||d.tag!==7?(d=ln(g,f.mode,v,E),d.return=f,d):(d=l(d,g),d.return=f,d)}function m(f,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ai(""+d,f.mode,g),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Wr:return g=wl(d.type,d.key,d.props,null,f.mode,g),g.ref=tr(f,null,d),g.return=f,g;case yn:return d=Oi(d,f.mode,g),d.return=f,d;case Pt:var v=d._init;return m(f,v(d._payload),g)}if(or(d)||Kn(d))return d=ln(d,f.mode,g,null),d.return=f,d;tl(f,d)}return null}function y(f,d,g,v){var E=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(f,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wr:return g.key===E?u(f,d,g,v):null;case yn:return g.key===E?c(f,d,g,v):null;case Pt:return E=g._init,y(f,d,E(g._payload),v)}if(or(g)||Kn(g))return E!==null?null:p(f,d,g,v,null);tl(f,g)}return null}function S(f,d,g,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(g)||null,a(d,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wr:return f=f.get(v.key===null?g:v.key)||null,u(d,f,v,E);case yn:return f=f.get(v.key===null?g:v.key)||null,c(d,f,v,E);case Pt:var T=v._init;return S(f,d,g,T(v._payload),E)}if(or(v)||Kn(v))return f=f.get(g)||null,p(d,f,v,E,null);tl(d,v)}return null}function k(f,d,g,v){for(var E=null,T=null,z=d,F=d=0,X=null;z!==null&&F<g.length;F++){z.index>F?(X=z,z=null):X=z.sibling;var I=y(f,z,g[F],v);if(I===null){z===null&&(z=X);break}e&&z&&I.alternate===null&&t(f,z),d=i(I,d,F),T===null?E=I:T.sibling=I,T=I,z=X}if(F===g.length)return n(f,z),te&&Zt(f,F),E;if(z===null){for(;F<g.length;F++)z=m(f,g[F],v),z!==null&&(d=i(z,d,F),T===null?E=z:T.sibling=z,T=z);return te&&Zt(f,F),E}for(z=r(f,z);F<g.length;F++)X=S(z,f,F,g[F],v),X!==null&&(e&&X.alternate!==null&&z.delete(X.key===null?F:X.key),d=i(X,d,F),T===null?E=X:T.sibling=X,T=X);return e&&z.forEach(function(ie){return t(f,ie)}),te&&Zt(f,F),E}function x(f,d,g,v){var E=Kn(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var T=E=null,z=d,F=d=0,X=null,I=g.next();z!==null&&!I.done;F++,I=g.next()){z.index>F?(X=z,z=null):X=z.sibling;var ie=y(f,z,I.value,v);if(ie===null){z===null&&(z=X);break}e&&z&&ie.alternate===null&&t(f,z),d=i(ie,d,F),T===null?E=ie:T.sibling=ie,T=ie,z=X}if(I.done)return n(f,z),te&&Zt(f,F),E;if(z===null){for(;!I.done;F++,I=g.next())I=m(f,I.value,v),I!==null&&(d=i(I,d,F),T===null?E=I:T.sibling=I,T=I);return te&&Zt(f,F),E}for(z=r(f,z);!I.done;F++,I=g.next())I=S(z,f,F,I.value,v),I!==null&&(e&&I.alternate!==null&&z.delete(I.key===null?F:I.key),d=i(I,d,F),T===null?E=I:T.sibling=I,T=I);return e&&z.forEach(function(he){return t(f,he)}),te&&Zt(f,F),E}function _(f,d,g,v){if(typeof g=="object"&&g!==null&&g.type===vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Wr:e:{for(var E=g.key,T=d;T!==null;){if(T.key===E){if(E=g.type,E===vn){if(T.tag===7){n(f,T.sibling),d=l(T,g.props.children),d.return=f,f=d;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&$s(E)===T.type){n(f,T.sibling),d=l(T,g.props),d.ref=tr(f,T,g),d.return=f,f=d;break e}n(f,T);break}else t(f,T);T=T.sibling}g.type===vn?(d=ln(g.props.children,f.mode,v,g.key),d.return=f,f=d):(v=wl(g.type,g.key,g.props,null,f.mode,v),v.ref=tr(f,d,g),v.return=f,f=v)}return o(f);case yn:e:{for(T=g.key;d!==null;){if(d.key===T)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(f,d.sibling),d=l(d,g.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Oi(g,f.mode,v),d.return=f,f=d}return o(f);case Pt:return T=g._init,_(f,d,T(g._payload),v)}if(or(g))return k(f,d,g,v);if(Kn(g))return x(f,d,g,v);tl(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(f,d.sibling),d=l(d,g),d.return=f,f=d):(n(f,d),d=Ai(g,f.mode,v),d.return=f,f=d),o(f)):n(f,d)}return _}var Dn=Ic(!0),Dc=Ic(!1),zl=Vt(null),Fl=null,Cn=null,ca=null;function da(){ca=Cn=Fl=null}function fa(e){var t=zl.current;q(zl),e._currentValue=t}function wo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ln(e,t){Fl=e,ca=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(ca!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Fl===null)throw Error(C(308));Cn=e,Fl.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var tn=null;function pa(e){tn===null?tn=[e]:tn.push(e)}function Uc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,pa(t)):(n.next=l.next,l.next=n),t.interleaved=n,kt(e,r)}function kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bt=!1;function ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,kt(e,n)}return l=r.interleaved,l===null?(t.next=t,pa(r)):(t.next=l.next,l.next=t),r.interleaved=t,kt(e,n)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Al(e,t,n,r){var l=e.updateQueue;bt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=u))}if(i!==null){var m=l.baseState;o=0,p=c=u=null,a=i;do{var y=a.lane,S=a.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,x=a;switch(y=t,S=n,x.tag){case 1:if(k=x.payload,typeof k=="function"){m=k.call(S,m,y);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=x.payload,y=typeof k=="function"?k.call(S,m,y):k,y==null)break e;m=le({},m,y);break e;case 2:bt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[a]:y.push(a))}else S={eventTime:S,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=S,u=m):p=p.next=S,o|=y;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;y=a,a=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(p===null&&(u=m),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);un|=o,e.lanes=o,e.memoizedState=m}}function Hs(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(C(191,l));l.call(r)}}}var $r={},ht=Vt($r),Rr=Vt($r),Tr=Vt($r);function nn(e){if(e===$r)throw Error(C(174));return e}function ma(e,t){switch(K(Tr,t),K(Rr,e),K(ht,$r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qi(t,e)}q(ht),K(ht,t)}function Un(){q(ht),q(Rr),q(Tr)}function Bc(e){nn(Tr.current);var t=nn(ht.current),n=qi(t,e.type);t!==n&&(K(Rr,e),K(ht,n))}function ga(e){Rr.current===e&&(q(ht),q(Rr))}var ne=Vt(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bi=[];function ya(){for(var e=0;e<bi.length;e++)bi[e]._workInProgressVersionPrimary=null;bi.length=0}var ml=Et.ReactCurrentDispatcher,Ri=Et.ReactCurrentBatchConfig,sn=0,re=null,fe=null,me=null,Il=!1,mr=!1,Lr=0,Fh=0;function ke(){throw Error(C(321))}function va(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!it(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,l,i){if(sn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=e===null||e.memoizedState===null?Dh:Uh,e=n(r,l),mr){i=0;do{if(mr=!1,Lr=0,25<=i)throw Error(C(301));i+=1,me=fe=null,t.updateQueue=null,ml.current=$h,e=n(r,l)}while(mr)}if(ml.current=Dl,t=fe!==null&&fe.next!==null,sn=0,me=fe=re=null,Il=!1,t)throw Error(C(300));return e}function wa(){var e=Lr!==0;return Lr=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?re.memoizedState=me=e:me=me.next=e,me}function Ke(){if(fe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?re.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(C(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?re.memoizedState=me=e:me=me.next=e}return me}function zr(e,t){return typeof t=="function"?t(e):t}function Ti(e){var t=Ke(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=fe,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=o=null,u=null,c=i;do{var p=c.lane;if((sn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,re.lanes|=p,un|=p}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,it(r,t.memoizedState)||(Te=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,re.lanes|=i,un|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Li(e){var t=Ke(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);it(i,t.memoizedState)||(Te=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Hc(){}function Wc(e,t){var n=re,r=Ke(),l=t(),i=!it(r.memoizedState,l);if(i&&(r.memoizedState=l,Te=!0),r=r.queue,_a(Xc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Fr(9,Vc.bind(null,n,r,l,t),void 0,null),ge===null)throw Error(C(349));sn&30||Yc(n,t,l)}return l}function Yc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vc(e,t,n,r){t.value=n,t.getSnapshot=r,Qc(t)&&Gc(e)}function Xc(e,t,n){return n(function(){Qc(t)&&Gc(e)})}function Qc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!it(e,n)}catch{return!0}}function Gc(e){var t=kt(e,1);t!==null&&lt(t,e,1,-1)}function Ws(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ih.bind(null,re,e),[t.memoizedState,e]}function Fr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kc(){return Ke().memoizedState}function gl(e,t,n,r){var l=dt();re.flags|=e,l.memoizedState=Fr(1|t,n,void 0,r===void 0?null:r)}function ql(e,t,n,r){var l=Ke();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&va(r,o.deps)){l.memoizedState=Fr(t,n,i,r);return}}re.flags|=e,l.memoizedState=Fr(1|t,n,i,r)}function Ys(e,t){return gl(8390656,8,e,t)}function _a(e,t){return ql(2048,8,e,t)}function Zc(e,t){return ql(4,2,e,t)}function Jc(e,t){return ql(4,4,e,t)}function qc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ed(e,t,n){return n=n!=null?n.concat([e]):null,ql(4,4,qc.bind(null,t,e),n)}function Sa(){}function td(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nd(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rd(e,t,n){return sn&21?(it(n,t)||(n=sc(),re.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=n)}function Ah(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Ri.transition;Ri.transition={};try{e(!1),t()}finally{Q=n,Ri.transition=r}}function ld(){return Ke().memoizedState}function Oh(e,t,n){var r=$t(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},id(e))od(t,n);else if(n=Uc(e,t,n,r),n!==null){var l=je();lt(n,e,r,l),ad(n,t,r)}}function Ih(e,t,n){var r=$t(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(id(e))od(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,it(a,o)){var u=t.interleaved;u===null?(l.next=l,pa(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Uc(e,t,l,r),n!==null&&(l=je(),lt(n,e,r,l),ad(n,t,r))}}function id(e){var t=e.alternate;return e===re||t!==null&&t===re}function od(e,t){mr=Il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}var Dl={readContext:Ge,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Dh={readContext:Ge,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Ys,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gl(4194308,4,qc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oh.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Ws,useDebugValue:Sa,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Ws(!1),t=e[0];return e=Ah.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,l=dt();if(te){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ge===null)throw Error(C(349));sn&30||Yc(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Ys(Xc.bind(null,r,i,e),[e]),r.flags|=2048,Fr(9,Vc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=ge.identifierPrefix;if(te){var n=xt,r=vt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uh={readContext:Ge,useCallback:td,useContext:Ge,useEffect:_a,useImperativeHandle:ed,useInsertionEffect:Zc,useLayoutEffect:Jc,useMemo:nd,useReducer:Ti,useRef:Kc,useState:function(){return Ti(zr)},useDebugValue:Sa,useDeferredValue:function(e){var t=Ke();return rd(t,fe.memoizedState,e)},useTransition:function(){var e=Ti(zr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Wc,useId:ld,unstable_isNewReconciler:!1},$h={readContext:Ge,useCallback:td,useContext:Ge,useEffect:_a,useImperativeHandle:ed,useInsertionEffect:Zc,useLayoutEffect:Jc,useMemo:nd,useReducer:Li,useRef:Kc,useState:function(){return Li(zr)},useDebugValue:Sa,useDeferredValue:function(e){var t=Ke();return fe===null?t.memoizedState=e:rd(t,fe.memoizedState,e)},useTransition:function(){var e=Li(zr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Wc,useId:ld,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _o(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ei={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),l=$t(e),i=wt(r,l);i.payload=t,n!=null&&(i.callback=n),t=Dt(e,i,l),t!==null&&(lt(t,e,l,r),hl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),l=$t(e),i=wt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dt(e,i,l),t!==null&&(lt(t,e,l,r),hl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=$t(e),l=wt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Dt(e,l,r),t!==null&&(lt(t,e,r,n),hl(t,e,r))}};function Vs(e,t,n,r,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(l,i):!0}function sd(e,t,n){var r=!1,l=Wt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(l=ze(t)?on:Ce.current,r=t.contextTypes,i=(r=r!=null)?On(e,l):Wt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ha(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ge(i):(i=ze(t)?on:Ce.current,l.context=On(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_o(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ei.enqueueReplaceState(l,l.state,null),Al(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var n="",r=t;do n+=mp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function zi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ko(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bh=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Lo=r),ko(e,t)},n}function cd(e,t,n){n=wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ko(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ko(e,t),typeof r!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qs(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=nm.bind(null,e,t,n),t.then(e,e))}function Gs(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ks(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wt(-1,1),t.tag=2,Dt(n,t,1))),n.lanes|=1),e)}var Hh=Et.ReactCurrentOwner,Te=!1;function Me(e,t,n,r){t.child=e===null?Dc(t,null,n,r):Dn(t,e.child,n,r)}function Zs(e,t,n,r,l){n=n.render;var i=t.ref;return Ln(t,l),r=xa(e,t,n,r,i,l),n=wa(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(te&&n&&aa(t),t.flags|=1,Me(e,t,r,l),t.child)}function Js(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ba(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dd(e,t,i,r,l)):(e=wl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(o,r)&&e.ref===t.ref)return Nt(e,t,l)}return t.flags|=1,e=Bt(i,r),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Mr(i,r)&&e.ref===t.ref)if(Te=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,Nt(e,t,l)}return No(e,t,n,r,l)}function fd(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(jn,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(jn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(jn,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(jn,Oe),Oe|=r;return Me(e,t,l,n),t.child}function pd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,l){var i=ze(n)?on:Ce.current;return i=On(t,i),Ln(t,l),n=xa(e,t,n,r,i,l),r=wa(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(te&&r&&aa(t),t.flags|=1,Me(e,t,n,l),t.child)}function qs(e,t,n,r,l){if(ze(n)){var i=!0;Rl(t)}else i=!1;if(Ln(t,l),t.stateNode===null)yl(e,t),sd(t,n,r),So(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=ze(n)?on:Ce.current,c=On(t,c));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Xs(t,o,r,c),bt=!1;var y=t.memoizedState;o.state=y,Al(t,r,o,l),u=t.memoizedState,a!==r||y!==u||Le.current||bt?(typeof p=="function"&&(_o(t,n,p,r),u=t.memoizedState),(a=bt||Vs(t,n,a,r,y,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$c(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:et(t.type,a),o.props=c,m=t.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ge(u):(u=ze(n)?on:Ce.current,u=On(t,u));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||y!==u)&&Xs(t,o,r,u),bt=!1,y=t.memoizedState,o.state=y,Al(t,r,o,l);var k=t.memoizedState;a!==m||y!==k||Le.current||bt?(typeof S=="function"&&(_o(t,n,S,r),k=t.memoizedState),(c=bt||Vs(t,n,c,r,y,k,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,i,l)}function Eo(e,t,n,r,l,i){pd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&Is(t,n,!1),Nt(e,t,i);r=t.stateNode,Hh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,a,i)):Me(e,t,a,i),t.memoizedState=r.state,l&&Is(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?Os(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Os(e,t.context,!1),ma(e,t.containerInfo)}function eu(e,t,n,r,l){return In(),ua(l),t.flags|=256,Me(e,t,n,r),t.child}var Co={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function md(e,t,n){var r=t.pendingProps,l=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),K(ne,l&1),e===null)return xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ri(o,r,0,null),e=ln(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mo(n),t.memoizedState=Co,e):ka(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Wh(e,t,o,r,a,l,n);if(i){i=r.fallback,o=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=Bt(a,i):(i=ln(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Co,r}return i=e.child,e=i.sibling,r=Bt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ka(e,t){return t=ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nl(e,t,n,r){return r!==null&&ua(r),Dn(t,e.child,null,n),e=ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,n,r,l,i,o){if(n)return t.flags&256?(t.flags&=-257,r=zi(Error(C(422))),nl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=ri({mode:"visible",children:r.children},l,0,null),i=ln(i,l,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dn(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Co,i);if(!(t.mode&1))return nl(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=zi(i,r,void 0),nl(e,t,o,r)}if(a=(o&e.childLanes)!==0,Te||a){if(r=ge,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,kt(e,l),lt(r,e,l,-1))}return Pa(),r=zi(Error(C(421))),nl(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Ie=It(l.nextSibling),De=t,te=!0,nt=null,e!==null&&(Ye[Ve++]=vt,Ye[Ve++]=xt,Ye[Ve++]=an,vt=e.id,xt=e.overflow,an=t),t=ka(t,r.children),t.flags|=4096,t)}function tu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wo(e.return,t,n)}function Fi(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function gd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,n,t);else if(e.tag===19)tu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(ne,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ol(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Fi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ol(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Fi(t,!0,n,null,i);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Bt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yh(e,t,n){switch(t.tag){case 3:hd(t),In();break;case 5:Bc(t);break;case 1:ze(t.type)&&Rl(t);break;case 4:ma(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;K(zl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?md(e,t,n):(K(ne,ne.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);K(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,fd(e,t,n)}return Nt(e,t,n)}var yd,jo,vd,xd;yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jo=function(){};vd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,nn(ht.current);var i=null;switch(n){case"input":l=Gi(e,l),r=Gi(e,r),i=[];break;case"select":l=le({},l,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":l=Ji(e,l),r=Ji(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pl)}eo(n,r);var o;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&J("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};xd=function(e,t,n,r){n!==r&&(t.flags|=4)};function nr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vh(e,t,n){var r=t.pendingProps;switch(sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return ze(t.type)&&bl(),Ne(t),null;case 3:return r=t.stateNode,Un(),q(Le),q(Ce),ya(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(el(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Ao(nt),nt=null))),jo(e,t),Ne(t),null;case 5:ga(t);var l=nn(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)vd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ne(t),null}if(e=nn(ht.current),el(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ft]=t,r[br]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(l=0;l<sr.length;l++)J(sr[l],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":cs(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":fs(r,i),J("invalid",r)}eo(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&qr(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qr(r.textContent,a,e),l=["children",""+a]):wr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Yr(r),ds(r,i,!0);break;case"textarea":Yr(r),ps(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ft]=t,e[br]=r,yd(e,t,!1,!1),t.stateNode=e;e:{switch(o=to(n,r),n){case"dialog":J("cancel",e),J("close",e),l=r;break;case"iframe":case"object":case"embed":J("load",e),l=r;break;case"video":case"audio":for(l=0;l<sr.length;l++)J(sr[l],e);l=r;break;case"source":J("error",e),l=r;break;case"img":case"image":case"link":J("error",e),J("load",e),l=r;break;case"details":J("toggle",e),l=r;break;case"input":cs(e,r),l=Gi(e,r),J("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=le({},r,{value:void 0}),J("invalid",e);break;case"textarea":fs(e,r),l=Ji(e,r),J("invalid",e);break;default:l=r}eo(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Ku(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qu(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_r(e,u):typeof u=="number"&&_r(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&J("scroll",e):u!=null&&Xo(e,i,u,o))}switch(n){case"input":Yr(e),ds(e,r,!1);break;case"textarea":Yr(e),ps(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ht(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Pn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Pn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)xd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=nn(Tr.current),nn(ht.current),el(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return Ne(t),null;case 13:if(q(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Ie!==null&&t.mode&1&&!(t.flags&128))Oc(),In(),t.flags|=98560,i=!1;else if(i=el(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ft]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else nt!==null&&(Ao(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?pe===0&&(pe=3):Pa())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Un(),jo(e,t),e===null&&jr(t.stateNode.containerInfo),Ne(t),null;case 10:return fa(t.type._context),Ne(t),null;case 17:return ze(t.type)&&bl(),Ne(t),null;case 19:if(q(ne),i=t.memoizedState,i===null)return Ne(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)nr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ol(e),o!==null){for(t.flags|=128,nr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Bn&&(t.flags|=128,r=!0,nr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ol(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Ne(t),null}else 2*ue()-i.renderingStartTime>Bn&&n!==1073741824&&(t.flags|=128,r=!0,nr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ne.current,K(ne,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return ja(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Xh(e,t){switch(sa(t),t.tag){case 1:return ze(t.type)&&bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),q(Le),q(Ce),ya(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ga(t),null;case 13:if(q(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(ne),null;case 4:return Un(),null;case 10:return fa(t.type._context),null;case 22:case 23:return ja(),null;case 24:return null;default:return null}}var rl=!1,Ee=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,A=null;function Mn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function Po(e,t,n){try{n()}catch(r){oe(e,t,r)}}var nu=!1;function Gh(e,t){if(fo=Cl,e=Nc(),oa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,p=0,m=e,y=null;t:for(;;){for(var S;m!==n||l!==0&&m.nodeType!==3||(a=o+l),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(S=m.firstChild)!==null;)y=m,m=S;for(;;){if(m===e)break t;if(y===n&&++c===l&&(a=o),y===i&&++p===r&&(u=o),(S=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(po={focusedElem:e,selectionRange:n},Cl=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var x=k.memoizedProps,_=k.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?x:et(t.type,x),_);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(v){oe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return k=nu,nu=!1,k}function gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Po(t,n,i)}l=l.next}while(l!==r)}}function ti(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[br],delete t[go],delete t[Rh],delete t[Th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _d(e){return e.tag===5||e.tag===3||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pl));else if(r!==4&&(e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}function To(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}var ve=null,tt=!1;function jt(e,t,n){for(n=n.child;n!==null;)Sd(e,t,n),n=n.sibling}function Sd(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:Ee||Mn(n,t);case 6:var r=ve,l=tt;ve=null,jt(e,t,n),ve=r,tt=l,ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?ji(e.parentNode,n):e.nodeType===1&&ji(e,n),Er(e)):ji(ve,n.stateNode));break;case 4:r=ve,l=tt,ve=n.stateNode.containerInfo,tt=!0,jt(e,t,n),ve=r,tt=l;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Po(n,t,o),l=l.next}while(l!==r)}jt(e,t,n);break;case 1:if(!Ee&&(Mn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){oe(n,t,a)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,jt(e,t,n),Ee=r):jt(e,t,n);break;default:jt(e,t,n)}}function lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qh),t.forEach(function(r){var l=lm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,tt=!1;break e;case 3:ve=a.stateNode.containerInfo,tt=!0;break e;case 4:ve=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ve===null)throw Error(C(160));Sd(i,o,l),ve=null,tt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){oe(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),ct(e),r&4){try{gr(3,e,e.return),ti(3,e)}catch(x){oe(e,e.return,x)}try{gr(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:Je(t,e),ct(e),r&512&&n!==null&&Mn(n,n.return);break;case 5:if(Je(t,e),ct(e),r&512&&n!==null&&Mn(n,n.return),e.flags&32){var l=e.stateNode;try{_r(l,"")}catch(x){oe(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Yu(l,i),to(a,o);var c=to(a,i);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?Ku(l,m):p==="dangerouslySetInnerHTML"?Qu(l,m):p==="children"?_r(l,m):Xo(l,p,m,c)}switch(a){case"input":Ki(l,i);break;case"textarea":Vu(l,i);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Pn(l,!!i.multiple,S,!1):y!==!!i.multiple&&(i.defaultValue!=null?Pn(l,!!i.multiple,i.defaultValue,!0):Pn(l,!!i.multiple,i.multiple?[]:"",!1))}l[br]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(Je(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(C(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(Je(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:Je(t,e),ct(e);break;case 13:Je(t,e),ct(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Ca=ue())),r&4&&lu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(c=Ee)||p,Je(t,e),Ee=c):Je(t,e),ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(m=A=p;A!==null;){switch(y=A,S=y.child,y.tag){case 0:case 11:case 14:case 15:gr(4,y,y.return);break;case 1:Mn(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(x){oe(r,n,x)}}break;case 5:Mn(y,y.return);break;case 22:if(y.memoizedState!==null){ou(m);continue}}S!==null?(S.return=y,A=S):ou(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{l=m.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Gu("display",o))}catch(x){oe(e,e.return,x)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(x){oe(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Je(t,e),ct(e),r&4&&lu(e);break;case 21:break;default:Je(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_d(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(_r(l,""),r.flags&=-33);var i=ru(e);To(e,i,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ru(e);Ro(e,a,o);break;default:throw Error(C(161))}}catch(u){oe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kh(e,t,n){A=e,Nd(e)}function Nd(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var l=A,i=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||rl;if(!o){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Ee;a=rl;var c=Ee;if(rl=o,(Ee=u)&&!c)for(A=l;A!==null;)o=A,u=o.child,o.tag===22&&o.memoizedState!==null?au(l):u!==null?(u.return=o,A=u):au(l);for(;i!==null;)A=i,Nd(i),i=i.sibling;A=l,rl=a,Ee=c}iu(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,A=i):iu(e)}}function iu(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||ti(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hs(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Er(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||t.flags&512&&bo(t)}catch(y){oe(t,t.return,y)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function ou(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function au(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ti(4,t)}catch(u){oe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){oe(t,l,u)}}var i=t.return;try{bo(t)}catch(u){oe(t,i,u)}break;case 5:var o=t.return;try{bo(t)}catch(u){oe(t,o,u)}}}catch(u){oe(t,t.return,u)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var Zh=Math.ceil,Ul=Et.ReactCurrentDispatcher,Na=Et.ReactCurrentOwner,Qe=Et.ReactCurrentBatchConfig,Y=0,ge=null,de=null,xe=0,Oe=0,jn=Vt(0),pe=0,Ar=null,un=0,ni=0,Ea=0,yr=null,Re=null,Ca=0,Bn=1/0,gt=null,$l=!1,Lo=null,Ut=null,ll=!1,zt=null,Bl=0,vr=0,zo=null,vl=-1,xl=0;function je(){return Y&6?ue():vl!==-1?vl:vl=ue()}function $t(e){return e.mode&1?Y&2&&xe!==0?xe&-xe:zh.transition!==null?(xl===0&&(xl=sc()),xl):(e=Q,e!==0||(e=window.event,e=e===void 0?16:mc(e.type)),e):1}function lt(e,t,n,r){if(50<vr)throw vr=0,zo=null,Error(C(185));Ir(e,n,r),(!(Y&2)||e!==ge)&&(e===ge&&(!(Y&2)&&(ni|=n),pe===4&&Tt(e,xe)),Fe(e,r),n===1&&Y===0&&!(t.mode&1)&&(Bn=ue()+500,Jl&&Xt()))}function Fe(e,t){var n=e.callbackNode;zp(e,t);var r=El(e,e===ge?xe:0);if(r===0)n!==null&&gs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gs(n),t===1)e.tag===0?Lh(su.bind(null,e)):zc(su.bind(null,e)),Ph(function(){!(Y&6)&&Xt()}),n=null;else{switch(uc(r)){case 1:n=Jo;break;case 4:n=oc;break;case 16:n=Nl;break;case 536870912:n=ac;break;default:n=Nl}n=Td(n,Ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ed(e,t){if(vl=-1,xl=0,Y&6)throw Error(C(327));var n=e.callbackNode;if(zn()&&e.callbackNode!==n)return null;var r=El(e,e===ge?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hl(e,r);else{t=r;var l=Y;Y|=2;var i=Md();(ge!==e||xe!==t)&&(gt=null,Bn=ue()+500,rn(e,t));do try{em();break}catch(a){Cd(e,a)}while(!0);da(),Ul.current=i,Y=l,de!==null?t=0:(ge=null,xe=0,t=pe)}if(t!==0){if(t===2&&(l=oo(e),l!==0&&(r=l,t=Fo(e,l))),t===1)throw n=Ar,rn(e,0),Tt(e,r),Fe(e,ue()),n;if(t===6)Tt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Jh(l)&&(t=Hl(e,r),t===2&&(i=oo(e),i!==0&&(r=i,t=Fo(e,i))),t===1))throw n=Ar,rn(e,0),Tt(e,r),Fe(e,ue()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Jt(e,Re,gt);break;case 3:if(Tt(e,r),(r&130023424)===r&&(t=Ca+500-ue(),10<t)){if(El(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=mo(Jt.bind(null,e,Re,gt),t);break}Jt(e,Re,gt);break;case 4:if(Tt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-rt(r);i=1<<o,o=t[o],o>l&&(l=o),r&=~i}if(r=l,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zh(r/1960))-r,10<r){e.timeoutHandle=mo(Jt.bind(null,e,Re,gt),r);break}Jt(e,Re,gt);break;case 5:Jt(e,Re,gt);break;default:throw Error(C(329))}}}return Fe(e,ue()),e.callbackNode===n?Ed.bind(null,e):null}function Fo(e,t){var n=yr;return e.current.memoizedState.isDehydrated&&(rn(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=Re,Re=n,t!==null&&Ao(t)),e}function Ao(e){Re===null?Re=e:Re.push.apply(Re,e)}function Jh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!it(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~Ea,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(Y&6)throw Error(C(327));zn();var t=El(e,0);if(!(t&1))return Fe(e,ue()),null;var n=Hl(e,t);if(e.tag!==0&&n===2){var r=oo(e);r!==0&&(t=r,n=Fo(e,r))}if(n===1)throw n=Ar,rn(e,0),Tt(e,t),Fe(e,ue()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,Re,gt),Fe(e,ue()),null}function Ma(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Bn=ue()+500,Jl&&Xt())}}function cn(e){zt!==null&&zt.tag===0&&!(Y&6)&&zn();var t=Y;Y|=1;var n=Qe.transition,r=Q;try{if(Qe.transition=null,Q=1,e)return e()}finally{Q=r,Qe.transition=n,Y=t,!(Y&6)&&Xt()}}function ja(){Oe=jn.current,q(jn)}function rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jh(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(sa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:Un(),q(Le),q(Ce),ya();break;case 5:ga(r);break;case 4:Un();break;case 13:q(ne);break;case 19:q(ne);break;case 10:fa(r.type._context);break;case 22:case 23:ja()}n=n.return}if(ge=e,de=e=Bt(e.current,null),xe=Oe=t,pe=0,Ar=null,Ea=ni=un=0,Re=yr=null,tn!==null){for(t=0;t<tn.length;t++)if(n=tn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,r.next=o}n.pending=r}tn=null}return e}function Cd(e,t){do{var n=de;try{if(da(),ml.current=Dl,Il){for(var r=re.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Il=!1}if(sn=0,me=fe=re=null,mr=!1,Lr=0,Na.current=null,n===null||n.return===null){pe=1,Ar=t,de=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=xe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=a,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=Gs(o);if(S!==null){S.flags&=-257,Ks(S,o,a,i,t),S.mode&1&&Qs(i,c,t),t=S,u=c;var k=t.updateQueue;if(k===null){var x=new Set;x.add(u),t.updateQueue=x}else k.add(u);break e}else{if(!(t&1)){Qs(i,c,t),Pa();break e}u=Error(C(426))}}else if(te&&a.mode&1){var _=Gs(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ks(_,o,a,i,t),ua($n(u,a));break e}}i=u=$n(u,a),pe!==4&&(pe=2),yr===null?yr=[i]:yr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=ud(i,u,t);Bs(i,f);break e;case 1:a=u;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=cd(i,a,t);Bs(i,v);break e}}i=i.return}while(i!==null)}Pd(n)}catch(E){t=E,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Md(){var e=Ul.current;return Ul.current=Dl,e===null?Dl:e}function Pa(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(un&268435455)&&!(ni&268435455)||Tt(ge,xe)}function Hl(e,t){var n=Y;Y|=2;var r=Md();(ge!==e||xe!==t)&&(gt=null,rn(e,t));do try{qh();break}catch(l){Cd(e,l)}while(!0);if(da(),Y=n,Ul.current=r,de!==null)throw Error(C(261));return ge=null,xe=0,pe}function qh(){for(;de!==null;)jd(de)}function em(){for(;de!==null&&!Ep();)jd(de)}function jd(e){var t=Rd(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Pd(e):de=t,Na.current=null}function Pd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xh(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(n=Vh(n,t,Oe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function Jt(e,t,n){var r=Q,l=Qe.transition;try{Qe.transition=null,Q=1,tm(e,t,n,r)}finally{Qe.transition=l,Q=r}return null}function tm(e,t,n,r){do zn();while(zt!==null);if(Y&6)throw Error(C(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fp(e,i),e===ge&&(de=ge=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,Td(Nl,function(){return zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=Q;Q=1;var a=Y;Y|=4,Na.current=null,Gh(e,n),kd(n,e),_h(po),Cl=!!fo,po=fo=null,e.current=n,Kh(n),Cp(),Y=a,Q=o,Qe.transition=i}else e.current=n;if(ll&&(ll=!1,zt=e,Bl=l),i=e.pendingLanes,i===0&&(Ut=null),Pp(n.stateNode),Fe(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if($l)throw $l=!1,e=Lo,Lo=null,e;return Bl&1&&e.tag!==0&&zn(),i=e.pendingLanes,i&1?e===zo?vr++:(vr=0,zo=e):vr=0,Xt(),null}function zn(){if(zt!==null){var e=uc(Bl),t=Qe.transition,n=Q;try{if(Qe.transition=null,Q=16>e?16:e,zt===null)var r=!1;else{if(e=zt,zt=null,Bl=0,Y&6)throw Error(C(331));var l=Y;for(Y|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(A=c;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:gr(8,p,i)}var m=p.child;if(m!==null)m.return=p,A=m;else for(;A!==null;){p=A;var y=p.sibling,S=p.return;if(wd(p),p===c){A=null;break}if(y!==null){y.return=S,A=y;break}A=S}}}var k=i.alternate;if(k!==null){var x=k.child;if(x!==null){k.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,A=f;break e}A=i.return}}var d=e.current;for(A=d;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=d;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ti(9,a)}}catch(E){oe(a,a.return,E)}if(a===o){A=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,A=v;break e}A=a.return}}if(Y=l,Xt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Xl,e)}catch{}r=!0}return r}finally{Q=n,Qe.transition=t}}return!1}function uu(e,t,n){t=$n(n,t),t=ud(e,t,1),e=Dt(e,t,1),t=je(),e!==null&&(Ir(e,1,t),Fe(e,t))}function oe(e,t,n){if(e.tag===3)uu(e,e,n);else for(;t!==null;){if(t.tag===3){uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ut===null||!Ut.has(r))){e=$n(n,e),e=cd(t,e,1),t=Dt(t,e,1),e=je(),t!==null&&(Ir(t,1,e),Fe(t,e));break}}t=t.return}}function nm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(xe&n)===n&&(pe===4||pe===3&&(xe&130023424)===xe&&500>ue()-Ca?rn(e,0):Ea|=n),Fe(e,t)}function bd(e,t){t===0&&(e.mode&1?(t=Qr,Qr<<=1,!(Qr&130023424)&&(Qr=4194304)):t=1);var n=je();e=kt(e,t),e!==null&&(Ir(e,t,n),Fe(e,n))}function rm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bd(e,n)}function lm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),bd(e,n)}var Rd;Rd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Te=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Te=!1,Yh(e,t,n);Te=!!(e.flags&131072)}else Te=!1,te&&t.flags&1048576&&Fc(t,Ll,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yl(e,t),e=t.pendingProps;var l=On(t,Ce.current);Ln(t,n),l=xa(null,t,r,e,l,n);var i=wa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,Rl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ha(t),l.updater=ei,t.stateNode=l,l._reactInternals=t,So(t,r,e,n),t=Eo(null,t,r,!0,i,n)):(t.tag=0,te&&i&&aa(t),Me(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=om(r),e=et(r,e),l){case 0:t=No(null,t,r,e,n);break e;case 1:t=qs(null,t,r,e,n);break e;case 11:t=Zs(null,t,r,e,n);break e;case 14:t=Js(null,t,r,et(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:et(r,l),No(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:et(r,l),qs(e,t,r,l,n);case 3:e:{if(hd(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,l=i.element,$c(e,t),Al(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=$n(Error(C(423)),t),t=eu(e,t,r,n,l);break e}else if(r!==l){l=$n(Error(C(424)),t),t=eu(e,t,r,n,l);break e}else for(Ie=It(t.stateNode.containerInfo.firstChild),De=t,te=!0,nt=null,n=Dc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===l){t=Nt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Bc(t),e===null&&xo(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,ho(r,l)?o=null:i!==null&&ho(r,i)&&(t.flags|=32),pd(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&xo(t),null;case 13:return md(e,t,n);case 4:return ma(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:et(r,l),Zs(e,t,r,l,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,K(zl,r._currentValue),r._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===l.children&&!Le.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=wt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),wo(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Ln(t,n),l=Ge(l),r=r(l),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,l=et(r,t.pendingProps),l=et(r.type,l),Js(e,t,r,l,n);case 15:return dd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:et(r,l),yl(e,t),t.tag=1,ze(r)?(e=!0,Rl(t)):e=!1,Ln(t,n),sd(t,r,l),So(t,r,l,n),Eo(null,t,r,!0,e,n);case 19:return gd(e,t,n);case 22:return fd(e,t,n)}throw Error(C(156,t.tag))};function Td(e,t){return ic(e,t)}function im(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new im(e,t,n,r)}function ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function om(e){if(typeof e=="function")return ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Go)return 11;if(e===Ko)return 14}return 2}function Bt(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wl(e,t,n,r,l,i){var o=2;if(r=e,typeof e=="function")ba(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vn:return ln(n.children,l,i,t);case Qo:o=8,l|=8;break;case Yi:return e=Xe(12,n,t,l|2),e.elementType=Yi,e.lanes=i,e;case Vi:return e=Xe(13,n,t,l),e.elementType=Vi,e.lanes=i,e;case Xi:return e=Xe(19,n,t,l),e.elementType=Xi,e.lanes=i,e;case Bu:return ri(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uu:o=10;break e;case $u:o=9;break e;case Go:o=11;break e;case Ko:o=14;break e;case Pt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Xe(o,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function ln(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function ri(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=Bu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ai(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function Oi(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function am(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ra(e,t,n,r,l,i,o,a,u){return e=new am(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ha(i),e}function sm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ld(e){if(!e)return Wt;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(ze(n))return Lc(e,n,t)}return t}function zd(e,t,n,r,l,i,o,a,u){return e=Ra(n,r,!0,e,l,i,o,a,u),e.context=Ld(null),n=e.current,r=je(),l=$t(n),i=wt(r,l),i.callback=t??null,Dt(n,i,l),e.current.lanes=l,Ir(e,l,r),Fe(e,r),e}function li(e,t,n,r){var l=t.current,i=je(),o=$t(l);return n=Ld(n),t.context===null?t.context=n:t.pendingContext=n,t=wt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dt(l,t,o),e!==null&&(lt(e,l,o,i),hl(e,l,o)),o}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ta(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function um(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}ii.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));li(e,t,null,null)};ii.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){li(null,e,null,null)}),t[St]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&t!==0&&t<Rt[n].priority;n++);Rt.splice(n,0,e),n===0&&hc(e)}};function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function cm(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=Wl(o);i.call(c)}}var o=zd(t,r,e,0,null,!1,!1,"",du);return e._reactRootContainer=o,e[St]=o.current,jr(e.nodeType===8?e.parentNode:e),cn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Wl(u);a.call(c)}}var u=Ra(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=u,e[St]=u.current,jr(e.nodeType===8?e.parentNode:e),cn(function(){li(t,u,n,r)}),u}function ai(e,t,n,r,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var u=Wl(o);a.call(u)}}li(t,o,e,l)}else o=cm(n,t,e,l,r);return Wl(o)}cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(qo(t,n|1),Fe(t,ue()),!(Y&6)&&(Bn=ue()+500,Xt()))}break;case 13:cn(function(){var r=kt(e,1);if(r!==null){var l=je();lt(r,e,1,l)}}),Ta(e,1)}};ea=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var n=je();lt(t,e,134217728,n)}Ta(e,134217728)}};dc=function(e){if(e.tag===13){var t=$t(e),n=kt(e,t);if(n!==null){var r=je();lt(n,e,t,r)}Ta(e,t)}};fc=function(){return Q};pc=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ro=function(e,t,n){switch(t){case"input":if(Ki(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Zl(r);if(!l)throw Error(C(90));Wu(r),Ki(r,l)}}}break;case"textarea":Vu(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};qu=Ma;ec=cn;var dm={usingClientEntryPoint:!1,Events:[Ur,Sn,Zl,Zu,Ju,Ma]},rr={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rc(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{Xl=il.inject(fm),pt=il}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!za(t))throw Error(C(200));return sm(e,t,null,n)};$e.createRoot=function(e,t){if(!za(e))throw Error(C(299));var n=!1,r="",l=Fd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ra(e,1,!1,null,null,n,!1,r,l),e[St]=t.current,jr(e.nodeType===8?e.parentNode:e),new La(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=rc(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return cn(e)};$e.hydrate=function(e,t,n){if(!oi(t))throw Error(C(200));return ai(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!za(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",o=Fd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zd(t,null,e,1,n??null,l,!1,i,o),e[St]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ii(t)};$e.render=function(e,t,n){if(!oi(t))throw Error(C(200));return ai(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!oi(e))throw Error(C(40));return e._reactRootContainer?(cn(function(){ai(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};$e.unstable_batchedUpdates=Ma;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oi(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return ai(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function Ad(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ad)}catch(e){console.error(e)}}Ad(),Au.exports=$e;var Oo=Au.exports,Od,fu=Oo;Od=fu.createRoot,fu.hydrateRoot;var Id={exports:{}},pm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hm=pm,mm=hm;function Dd(){}function Ud(){}Ud.resetWarningCache=Dd;var gm=function(){function e(r,l,i,o,a,u){if(u!==mm){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ud,resetWarningCache:Dd};return n.PropTypes=n,n};Id.exports=gm();var ym=Id.exports;const ce=Nu(ym),vm="modulepreload",xm=function(e){return"/build/"+e},pu={},xr=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=xm(u),u in pu)return;pu[u]=!0;const c=u.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":vm,c||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),c)return new Promise((y,S)=>{m.addEventListener("load",y),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return l.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};let Ii=0,Fn=0;const hu=["#2563eb","#dc2626","#059669","#f59e0b","#7c3aed"];function wm(e,t,n){var o;const r=(e==null?void 0:e.id)??`layer-${Fn===0?t:Fn}`;Fn+=1;const l=(e==null?void 0:e.type)??(e==null?void 0:e.kind)??"shape",i=$d((e==null?void 0:e.frame)||((o=e==null?void 0:e.metadata)==null?void 0:o.frame)||null,n,l,t);return{id:r,name:(e==null?void 0:e.name)??`Layer ${t+1}`,type:l,visible:(e==null?void 0:e.visible)!==void 0?!!e.visible:!0,locked:(e==null?void 0:e.locked)!==void 0?!!e.locked:!1,opacity:typeof(e==null?void 0:e.opacity)=="number"?e.opacity:1,frame:i,fill:(e==null?void 0:e.fill)??(e==null?void 0:e.color)??Bd(l),stroke:(e==null?void 0:e.stroke)??(e==null?void 0:e.border)??null,content:(e==null?void 0:e.content)??(e==null?void 0:e.text)??"",fontSize:typeof(e==null?void 0:e.fontSize)=="number"?e.fontSize:42,fontFamily:(e==null?void 0:e.fontFamily)??"Inter, sans-serif",fontWeight:(e==null?void 0:e.fontWeight)??"400",textAlign:(e==null?void 0:e.textAlign)??"center",borderRadius:typeof(e==null?void 0:e.borderRadius)=="number"?e.borderRadius:Hd(l),metadata:(e==null?void 0:e.metadata)??{}}}function $d(e,t,n,r=0){if(!e){if(!t)return null;const i=48,o=Math.round(t.width*.6),a=Math.min(200,Math.round(t.height*.22)),u=r*32;return{x:i+u%120,y:i+u,width:n==="text"?Math.max(320,o):o,height:n==="text"?Math.max(120,Math.round(t.height*.12)):a,rotation:0}}const l=i=>typeof i=="number"?i:parseFloat(i);return{x:l(e.x)||0,y:l(e.y)||0,width:Math.max(1,l(e.width)||1),height:Math.max(1,l(e.height)||1),rotation:l(e.rotation)||0}}function Io(e,t=0){const n=(e==null?void 0:e.id)??`page-${Ii===0?t:Ii}`;Ii+=1;const r=Array.isArray(e==null?void 0:e.nodes)?e.nodes.map((l,i)=>wm(l,i,e)):[];return{id:n,name:(e==null?void 0:e.name)??`Page ${t+1}`,width:(e==null?void 0:e.width)??400,height:(e==null?void 0:e.height)??400,background:(e==null?void 0:e.background)??"#ffffff",safeZone:(e==null?void 0:e.safeZone)??null,bleed:(e==null?void 0:e.bleed)??null,nodes:r,metadata:(e==null?void 0:e.metadata)??{}}}function qt(e="shape",t=null,n={}){var a;const r=n.id??`layer-${Fn}`;Fn+=1;const i=(n.frame?{...n.frame}:null)||(t?$d(null,t,e,((a=t.nodes)==null?void 0:a.length)??0):null),o=n.fill??Bd(e);return{id:r,name:n.name??_m(e),type:e,visible:n.visible!==void 0?n.visible:!0,locked:n.locked??!1,opacity:typeof n.opacity=="number"?n.opacity:1,frame:i,fill:o,stroke:n.stroke??null,content:n.content??(e==="text"?"Double-click to edit text":""),fontSize:n.fontSize??(e==="text"?48:null),fontFamily:n.fontFamily??"Inter, sans-serif",fontWeight:n.fontWeight??(e==="text"?"400":void 0),textAlign:n.textAlign??"center",borderRadius:n.borderRadius??Hd(e,n.variant),variant:n.variant??(e==="shape"?"rectangle":null),metadata:{...n.metadata??{}}}}function _m(e){return e==="text"?"Text box":e==="image"?"Image placeholder":"Shape"}function Bd(e){switch(e){case"text":return"#0f172a";case"image":return"rgba(148, 163, 184, 0.2)";default:return hu[Fn%hu.length]}}function Hd(e,t){return e==="shape"&&(t==="circle"||t==="ellipse")?9999:e==="shape"?16:0}const Wd=P.createContext(null);function Sm(e){var n;const t=(n=e==null?void 0:e.design)==null?void 0:n.pages;return Array.isArray(t)&&t.length>0?t.map((r,l)=>Io(r,l)):[Io(null,0)]}const km=({template:e})=>{var o,a;const t=Sm(e),n=((o=t[0])==null?void 0:o.id)??"page-0",r=(a=e==null?void 0:e.design)==null?void 0:a.activePageId,i=t.some(u=>u.id===r)?r:n;return{template:e,pages:t,activePageId:i,selectedLayerId:Yl(t,i),zoom:1,panX:0,panY:0,layersPanelOpen:!0,inspectorOpen:!0,recentlyUploadedImages:[],history:{undoStack:[],redoStack:[]}}};function Nm(e,t){var n,r,l,i,o,a;switch(t.type){case"SELECT_PAGE":return{...e,activePageId:t.pageId,selectedLayerId:Yl(e.pages,t.pageId)};case"ADD_PAGE":{const u=Io(t.page,e.pages.length),c=[...e.pages,u];return qe(e,c,{activePageId:u.id,selectedLayerId:((n=u.nodes[0])==null?void 0:n.id)??null})}case"DELETE_PAGE":{if(e.pages.length<=1)return e;const u=e.pages.findIndex(y=>y.id===t.pageId);if(u===-1)return e;const c=e.pages.filter(y=>y.id!==t.pageId);let p=e.activePageId;if(t.pageId===e.activePageId){const y=u>0?u-1:0;p=((r=c[y])==null?void 0:r.id)??((l=c[0])==null?void 0:l.id)??null}const m=Yl(c,p);return qe(e,c,{activePageId:p,selectedLayerId:m})}case"UPDATE_PAGE_NAME":{const u=e.pages.map(c=>c.id===t.pageId?{...c,name:t.name}:c);return qe(e,u)}case"UPDATE_PAGE_PROPS":{const u=e.pages.map(c=>c.id===t.pageId?{...c,...t.props}:c);return qe(e,u)}case"SELECT_LAYER":return{...e,selectedLayerId:t.layerId};case"UPDATE_LAYER_PROPS":{const u=e.pages.map(c=>{if(c.id!==t.pageId)return c;const p=c.nodes.map(m=>m.id===t.layerId?{...m,...t.props}:m);return{...c,nodes:p}});return qe(e,u,{selectedLayerId:ol(e,u,t.layerId)})}case"ADD_LAYER":{const u=e.pages.map(c=>{if(c.id!==t.pageId)return c;const p=[...c.nodes,t.layer];return{...c,nodes:p}});return qe(e,u,{selectedLayerId:t.layer.id})}case"REMOVE_LAYER":{const u=e.pages.map(p=>{if(p.id!==t.pageId)return p;const m=p.nodes.filter(y=>y.id!==t.layerId);return{...p,nodes:m}}),c=ol(e,u,null);return qe(e,u,{selectedLayerId:c})}case"DUPLICATE_LAYER":{const u=e.pages.map(p=>{if(p.id!==t.pageId)return p;const m=p.nodes.find(S=>S.id===t.layerId);if(!m)return p;const y={...qt(m.type,p,{...m,id:void 0,name:`${m.name} copy`,frame:m.frame?{...m.frame,x:m.frame.x+24,y:m.frame.y+24}:m.frame})};return{...p,nodes:[...p.nodes,y]}}),c=(i=u.find(p=>p.id===t.pageId))==null?void 0:i.nodes.slice(-1)[0];return qe(e,u,{selectedLayerId:(c==null?void 0:c.id)??e.selectedLayerId})}case"REORDER_LAYER":{const u=e.pages.map(c=>{if(c.id!==t.pageId)return c;const p=c.nodes.findIndex(S=>S.id===t.layerId);if(p===-1)return c;const m=[...c.nodes],[y]=m.splice(p,1);if(t.direction==="FORWARD")m.splice(Math.min(m.length,p+1),0,y);else if(t.direction==="BACKWARD")m.splice(Math.max(0,p-1),0,y);else if(t.direction==="FRONT")m.push(y);else if(t.direction==="BACK")m.unshift(y);else if(typeof t.position=="number"){const S=Math.max(0,Math.min(m.length,t.position));m.splice(S,0,y)}else m.push(y);return{...c,nodes:m}});return qe(e,u)}case"BEGIN_LAYER_TRANSFORM":return{...e,history:Yd(e)};case"UPDATE_LAYER_FRAME":{const u=e.pages.map(c=>{if(c.id!==t.pageId)return c;const p=c.nodes.map(m=>{if(m.id!==t.layerId||m.locked)return m;const y=Em(m.frame,t.frame,c);return{...m,frame:y}});return{...c,nodes:p}});return qe(e,u,{selectedLayerId:t.layerId},t.trackHistory!==!1)}case"NUDGE_LAYER":{const u=e.pages.find(S=>S.id===t.pageId);if(!u)return e;const c=u.nodes.find(S=>S.id===t.layerId);if(!c||c.locked)return e;const p=t.dx??0,m=t.dy??0,y=e.pages.map(S=>{if(S.id!==t.pageId)return S;const k=S.nodes.map(x=>{if(x.id!==t.layerId)return x;const _=x.frame??Vd(S);return{...x,frame:{..._,x:Math.round(_.x+p),y:Math.round(_.y+m)}}});return{...S,nodes:k}});return qe(e,y,{selectedLayerId:t.layerId},t.trackHistory!==!1)}case"UPDATE_ZOOM":{const u=Math.min(Math.max(t.value,.25),3);return{...e,zoom:Number(u.toFixed(2))}}case"UPDATE_PAN":return{...e,panX:t.panX,panY:t.panY};case"SET_LAYERS_PANEL_OPEN":return{...e,layersPanelOpen:t.open};case"ADD_RECENTLY_UPLOADED_IMAGE":{const p=[{id:`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dataUrl:t.dataUrl,fileName:t.fileName,uploadedAt:new Date().toISOString()},...e.recentlyUploadedImages.filter(m=>m.dataUrl!==t.dataUrl)].slice(0,10);return{...e,recentlyUploadedImages:p}}case"DELETE_RECENTLY_UPLOADED_IMAGE":{const u=t.id,c=(e.recentlyUploadedImages||[]).filter(p=>p.id!==u);return{...e,recentlyUploadedImages:c}}case"SET_RECENTLY_UPLOADED_IMAGES":return{...e,recentlyUploadedImages:Array.isArray(t.images)?t.images:[]};case"PUSH_HISTORY":return{...e,history:{undoStack:[...e.history.undoStack,t.snapshot],redoStack:[]}};case"UNDO":{if(e.history.undoStack.length===0)return e;const u=[...e.history.undoStack],c=u.pop(),p=ur(c.pages),m=p.some(S=>S.id===e.activePageId)?e.activePageId:((o=p[0])==null?void 0:o.id)??null,y=ol(e,p,e.selectedLayerId,m);return{...e,pages:p,activePageId:m,selectedLayerId:y,history:{undoStack:u,redoStack:[{pages:ur(e.pages)},...e.history.redoStack]}}}case"REDO":{if(e.history.redoStack.length===0)return e;const[u,...c]=e.history.redoStack,p=ur(u.pages),m=p.some(S=>S.id===e.activePageId)?e.activePageId:((a=p[0])==null?void 0:a.id)??null,y=ol(e,p,e.selectedLayerId,m);return{...e,pages:p,activePageId:m,selectedLayerId:y,history:{undoStack:[...e.history.undoStack,{pages:ur(e.pages)}],redoStack:c}}}default:return e}}function Fa({template:e,routes:t,flags:n,user:r,csrfToken:l,children:i}){const[o,a]=P.useReducer(Nm,{template:e},km);Wo.useEffect(()=>{let c=!0;async function p(){try{const y=await(await xr(()=>import("./recentImagesDB-CO6kquVm.js"),[])).getAllImages();if(!c)return;const S=y.slice().sort((k,x)=>new Date(x.uploadedAt)-new Date(k.uploadedAt)).slice(0,10).map(k=>({id:k.id,dataUrl:k.blob?URL.createObjectURL(k.blob):"",fileName:k.fileName,uploadedAt:k.uploadedAt}));a({type:"SET_RECENTLY_UPLOADED_IMAGES",images:S})}catch{}}return p(),()=>{c=!1}},[]);const u=P.useMemo(()=>({state:o,dispatch:a,routes:t,flags:n,user:r,csrfToken:l}),[o,t,n,r,l]);return s.jsx(Wd.Provider,{value:u,children:i})}Fa.propTypes={template:ce.object,routes:ce.object,flags:ce.object,user:ce.object,csrfToken:ce.string,children:ce.node.isRequired};Fa.defaultProps={template:{},routes:{},flags:{},user:null,csrfToken:""};function Qt(){const e=P.useContext(Wd);if(!e)throw new Error("useBuilderStore must be used within BuilderStoreProvider");return e}function Yl(e,t){const n=e.find(l=>l.id===t)??e[0];return!n||!Array.isArray(n.nodes)||n.nodes.length===0?null:(n.nodes.find(l=>l.visible!==!1)??n.nodes[0]).id}function qe(e,t,n={},r=!0){const l=r?Yd(e):e.history;return{...e,...n,pages:t,history:l}}function Yd(e){return{undoStack:[...e.history.undoStack,{pages:ur(e.pages)}],redoStack:[]}}function ur(e){return e.map(t=>({...t,metadata:{...t.metadata??{}},nodes:(Array.isArray(t.nodes)?t.nodes:[]).map(n=>({...n,frame:n.frame?{...n.frame}:null,metadata:{...n.metadata??{}}}))}))}function ol(e,t,n,r){const l=r??e.activePageId,i=t.find(o=>o.id===l)??t[0];return i?n&&i.nodes.some(a=>a.id===n)?n:Yl(t,l):null}function Em(e,t,n){const r=e??Vd(n);return t?{x:Math.round(t.x??r.x),y:Math.round(t.y??r.y),width:Math.max(1,Math.round(t.width??r.width)),height:Math.max(1,Math.round(t.height??r.height)),rotation:Math.round(t.rotation??r.rotation??0)}:r}function Vd(e){return{x:Math.round(e.width*.1),y:Math.round(e.height*.1),width:Math.round(e.width*.6),height:Math.round(e.height*.25),rotation:0}}function Cm(e){if(!e)return{top:0,right:0,bottom:0,left:0};const t=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const l=parseFloat(r);return Number.isNaN(l)?0:l}return 0},n=t(e.margin??e.all??0);return{top:t(e.top??n),right:t(e.right??n),bottom:t(e.bottom??n),left:t(e.left??n)}}function al(e,t,n){const r=n.left,l=t.width-n.right-e.width,i=n.top,o=t.height-n.bottom-e.height;return{...e,x:Math.max(r,Math.min(l,e.x)),y:Math.max(i,Math.min(o,e.y))}}const mu=[{id:"text",label:"Text",description:"Add headings, body copy, and typography styles.",icon:"fa-solid fa-t"},{id:"images",label:"Upload",description:"Upload customer photos or choose from brand assets.",icon:"fa-solid fa-cloud-arrow-up"},{id:"shapes",label:"Shapes",description:"Insert vector shapes, lines, and frames.",icon:"fa-solid fa-shapes"},{id:"photos",label:"Photos",description:"Add photos and images.",icon:"fa-solid fa-image"},{id:"icons",label:"Icons",description:"Insert icons and symbols.",icon:"fa-solid fa-icons"},{id:"draw",label:"Draw",description:"Draw shapes and lines.",icon:"fa-solid fa-pencil"},{id:"videos",label:"Videos",description:"Add videos.",icon:"fa-solid fa-file-video"},{id:"background",label:"Background",description:"Set background.",icon:"fa-solid fa-palette"},{id:"layers",label:"Layers",description:"Manage layers.",icon:"fa-solid fa-layer-group"},{id:"quotes",label:"Quotes",description:"Add quotes.",icon:"fa-solid fa-quote-left"}];function Mm({isSidebarHidden:e,onToggleSidebar:t}){const[n,r]=P.useState("text"),{state:l,dispatch:i}=Qt(),o=P.useRef(null),a=P.useMemo(()=>l.pages.find(x=>x.id===l.activePageId)??l.pages[0],[l.pages,l.activePageId]),u=P.useMemo(()=>Cm(a==null?void 0:a.safeZone),[a==null?void 0:a.safeZone]),c=x=>{if(!a)return;const _=qt("text",a,{name:x.name,content:x.content,fontSize:x.fontSize,textAlign:x.align??"center"});_.frame&&(_.frame=al(_.frame,a,u)),i({type:"ADD_LAYER",pageId:a.id,layer:_})},p=x=>{var f,d;if(!a)return;const _=qt("shape",a,{name:x==="circle"?"Circle":"Rectangle",variant:x,borderRadius:x==="circle"?9999:16});x==="circle"&&(_.frame={..._.frame,width:Math.min(a.width*.3,((f=_.frame)==null?void 0:f.width)??280),height:Math.min(a.width*.3,((d=_.frame)==null?void 0:d.height)??280)}),_.frame&&(_.frame=al(_.frame,a,u)),i({type:"ADD_LAYER",pageId:a.id,layer:_})},m=()=>{var x;a&&((x=o.current)==null||x.click())},y=async x=>{const _=x.target.files[0];if(!_||!a){console.log("No file selected or no active page");return}if(console.log("File selected:",_.name,"Size:",_.size,"Type:",_.type),!_.type.startsWith("image/")){alert("Please select an image file.");return}const f=10*1024*1024;if(_.size>f){alert("Image file is too large. Please select an image smaller than 10MB.");return}const d=new FileReader;d.onload=async g=>{try{const v=g.target.result;if(console.log("Image loaded, data URL length:",(v==null?void 0:v.length)??0),!v||!v.startsWith("data:image/")){console.error("Invalid data URL:",v),alert("Failed to read the image file. Please try again.");return}const E=new Image;E.onload=async()=>{try{const T=E.naturalWidth||E.width,z=E.naturalHeight||E.height,F=Math.round(a.width*.85),X=Math.round(a.height*.85),I=Math.min(1,F/T,X/z),ie=Math.max(1,Math.round(T*I)),he=Math.max(1,Math.round(z*I)),Ae=Math.round((a.width-ie)/2),N=Math.round((a.height-he)/2),M=qt("image",a,{name:_.name||"Uploaded image",content:v,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});M.frame={x:Ae,y:N,width:ie,height:he,rotation:0},M.frame&&(M.frame=al(M.frame,a,u));try{i({type:"ADD_LAYER",pageId:a.id,layer:M}),console.log("Layer dispatched to store")}catch($){console.error("Error dispatching layer:",$),alert("Failed to add image to canvas. Please try again.")}try{const $=await xr(()=>import("./recentImagesDB-CO6kquVm.js"),[]),D=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await $.saveImage(D,_.name,_),$.pruneOld(10).catch(()=>{});const j=URL.createObjectURL(_);i({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:j,fileName:_.name,id:D})}catch($){console.error("Failed to persist or dispatch recent image from sidebar:",$)}}catch(T){console.error("Error creating layer from uploaded image:",T),alert("An error occurred while processing the image. Please try again.")}},E.onerror=()=>{console.error("Failed to load image for sizing"),alert("Uploaded image could not be loaded. Try a different file.")},E.src=v}catch(v){console.error("Error processing uploaded image:",v),alert("An error occurred while processing the image. Please try again.")}},d.onerror=()=>{console.error("Error reading file"),alert("Failed to read the image file. Please try again.")},console.log("Starting to read file as data URL"),d.readAsDataURL(_),x.target.value=""},S=x=>{if(a)try{const _=new Image;_.onload=()=>{const f=_.naturalWidth||_.width,d=_.naturalHeight||_.height,g=Math.round(a.width*.85),v=Math.round(a.height*.85),E=Math.min(1,g/f,v/d),T=Math.max(1,Math.round(f*E)),z=Math.max(1,Math.round(d*E)),F=Math.round((a.width-T)/2),X=Math.round((a.height-z)/2),I=qt("image",a,{name:x.fileName||"Uploaded image",content:x.dataUrl,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});I.frame={x:F,y:X,width:T,height:z,rotation:0},I.frame&&(I.frame=al(I.frame,a,u)),i({type:"ADD_LAYER",pageId:a.id,layer:I})},_.onerror=()=>{const f=qt("image",a,{name:x.fileName||"Uploaded image",content:x.dataUrl,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});i({type:"ADD_LAYER",pageId:a.id,layer:f})},_.src=x.dataUrl}catch(_){console.error("Failed to add recent image to canvas:",_),alert("Could not add image to canvas. Check console for details.")}},k=()=>{var x;if(!a)return s.jsx("div",{className:"builder-sidebar__empty-state",children:"Create a page to start designing."});switch(n){case"text":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Text"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Select a preset to add editable text blocks to your design."}),s.jsxs("div",{className:"builder-sidebar__tool-actions",children:[s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>c({name:"Heading",content:"Add a headline",fontSize:48}),children:"Add heading"}),s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>c({name:"Subheading",content:"Add supporting copy",fontSize:32}),children:"Add subheading"}),s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>c({name:"Body text",content:"Start typing your message here.",fontSize:24,align:"left"}),children:"Add paragraph"})]})]});case"shapes":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Shapes"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Use basic shapes to build graphic elements and structure."}),s.jsxs("div",{className:"builder-sidebar__tool-actions",children:[s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>p("rectangle"),children:"Rectangle"}),s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>p("circle"),children:"Circle"})]})]});case"images":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Upload"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Upload and add images to enhance your design."}),s.jsx("div",{className:"builder-sidebar__tool-actions",children:s.jsx("button",{type:"button",className:"tool-action-btn",onClick:m,children:"Upload image"})}),s.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[s.jsx("h3",{children:"Recently Upload"}),s.jsx("div",{className:"builder-sidebar__recent-items",children:l.recentlyUploadedImages&&l.recentlyUploadedImages.length>0?s.jsx("div",{className:"inspector-recent-images",children:l.recentlyUploadedImages.map(_=>s.jsxs("div",{className:"inspector-recent-image__tile",children:[s.jsx("button",{type:"button",className:"inspector-recent-image",onClick:()=>S(_),title:_.fileName,"aria-label":`Use recently uploaded image: ${_.fileName}`,children:s.jsx("img",{src:_.dataUrl,alt:_.fileName,className:"inspector-recent-image__thumb",onError:f=>{f.target.style.display="none"}})}),s.jsx("button",{type:"button",className:"inspector-recent-image__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${_.fileName}`,onClick:async f=>{f.stopPropagation();try{const d=await xr(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(_.dataUrl&&_.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(_.dataUrl)}catch{}await d.deleteImage(_.id),i({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:_.id})}catch(d){console.error("Failed to delete recent image",d),alert("Failed to delete recent image. See console for details.")}},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{width:14,height:14},children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),s.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]},_.id))}):s.jsx("div",{className:"builder-sidebar__empty-state",children:"Recently uploaded images will appear here."})})]}),s.jsx("div",{className:"builder-sidebar__hint",children:"Image uploads will connect to the asset library in a future release."})]});case"photos":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Photos"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Upload and add photos to enhance your design."}),s.jsx("div",{className:"builder-sidebar__tool-actions",children:s.jsx("button",{type:"button",className:"tool-action-btn",onClick:m,children:"Upload photo"})}),s.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[s.jsx("h3",{children:"Recently Upload"}),s.jsx("div",{className:"builder-sidebar__recent-items",children:l.recentlyUploadedImages&&l.recentlyUploadedImages.length>0?s.jsx("div",{className:"inspector-recent-images",children:l.recentlyUploadedImages.map(_=>s.jsxs("div",{className:"inspector-recent-image__tile",children:[s.jsx("button",{type:"button",className:"inspector-recent-image",onClick:()=>S(_),title:_.fileName,"aria-label":`Use recently uploaded photo: ${_.fileName}`,children:s.jsx("img",{src:_.dataUrl,alt:_.fileName,className:"inspector-recent-image__thumb",onError:f=>{f.target.style.display="none"}})}),s.jsx("button",{type:"button",className:"inspector-recent-image__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${_.fileName}`,onClick:async f=>{f.stopPropagation();try{const d=await xr(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(_.dataUrl&&_.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(_.dataUrl)}catch{}await d.deleteImage(_.id),i({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:_.id})}catch(d){console.error("Failed to delete recent image",d),alert("Failed to delete recent image. See console for details.")}},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{width:14,height:14},children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),s.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]},_.id))}):s.jsx("div",{className:"builder-sidebar__empty-state",children:"Recently uploaded photos will appear here."})})]}),s.jsx("div",{className:"builder-sidebar__hint",children:"Photo uploads will connect to the asset library in a future release."})]});case"background":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Background"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Quickly apply background colors to the current page."}),s.jsx("div",{className:"builder-sidebar__swatches",role:"list",children:["#ffffff","#fef3c7","#dbeafe","#fef2f2","#ecfccb"].map(_=>s.jsx("button",{type:"button",className:"tool-swatch",style:{backgroundColor:_},"aria-label":`Set page background to ${_}`,onClick:()=>i({type:"UPDATE_PAGE_PROPS",pageId:a.id,props:{background:_}})},_))})]});case"quotes":return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:"Quotes"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Select a quote preset to add inspirational text blocks."}),s.jsxs("div",{className:"builder-sidebar__tool-actions",children:[s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>c({name:"Quote",content:'"The best way to predict the future is to create it."',fontSize:32}),children:"Add quote"}),s.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>c({name:"Inspiration",content:`"Believe you can and you're halfway there."`,fontSize:28}),children:"Add inspiration"})]})]});default:return s.jsxs("div",{className:"builder-sidebar__content",children:[s.jsxs("div",{className:"builder-sidebar__header",children:[s.jsx("h2",{children:((x=mu.find(_=>_.id===n))==null?void 0:x.label)??"Tools"}),s.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:t,"aria-label":"Hide sidebar",title:"Hide sidebar",children:s.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),s.jsx("p",{children:"Additional creative resources will appear here soon."}),s.jsx("div",{className:"builder-sidebar__empty-state",children:"Tool-specific controls will render here as the builder matures."})]})}};return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:`builder-sidebar ${e?"is-collapsed":""}`,"aria-label":"Primary design tools",children:[s.jsxs("div",{className:"builder-sidebar__tabs",role:"tablist","aria-orientation":"vertical",children:[mu.map(x=>s.jsxs("button",{type:"button",role:"tab","aria-selected":n===x.id,className:`builder-sidebar__tab ${n===x.id?"is-active":""}`,onClick:()=>r(x.id),children:[s.jsx("i",{className:x.icon,"aria-hidden":"true"}),s.jsx("span",{children:x.label})]},x.id)),e&&s.jsx("button",{type:"button",className:"builder-sidebar__expand-toggle",onClick:t,"aria-label":"Expand sidebar",title:"Expand sidebar",children:s.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),!e&&s.jsx("div",{className:"builder-sidebar__panel",role:"tabpanel","aria-live":"polite",children:k()})]}),s.jsx("input",{type:"file",ref:o,onChange:y,accept:"image/*",style:{display:"none"}})]})}function jm(e){if(!e)return{top:0,right:0,bottom:0,left:0};const t=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const l=parseFloat(r);return Number.isNaN(l)?0:l}return 0},n=t(e.margin??e.all??0);return{top:t(e.top??n),right:t(e.right??n),bottom:t(e.bottom??n),left:t(e.left??n)}}function Xd(e,t,n){const r=n.left,l=t.width-n.right-e.width,i=n.top,o=t.height-n.bottom-e.height;return{...e,x:Math.max(r,Math.min(l,e.x)),y:Math.max(i,Math.min(o,e.y))}}function Pm(e,t,n,r){const l=Math.max(0,n.width-r.left-r.right),i=Math.max(0,n.height-r.top-r.bottom),o=Math.min(e,l),a=Math.min(t,i),u=r.left+Math.round((l-o)/2),c=r.top+Math.round((i-a)/2);return{x:u,y:c,width:Math.max(24,o),height:Math.max(24,a),rotation:0}}function bm(e,t,n,r,l){const i=e.x+e.width/2,o=e.y+e.height/2,a={x:Math.round(i-t/2),y:Math.round(o-n/2),width:t,height:n,rotation:e.rotation??0};return Xd(a,r,l)}const Rm=[{id:"rectangle",group:"basic",label:"Rectangle",description:"Standard invitation rectangle",preview:"rectangle",variant:"rectangle",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(110,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"square",group:"basic",label:"Square",description:"Even sides for balanced layouts",preview:"square",variant:"rectangle",borderRadius:8,getSize:({page:e,safeInsets:t})=>{const n=Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom),r=Math.max(120,Math.round(n*.55));return{width:r,height:r}}},{id:"circle",group:"basic",label:"Circle",description:"Perfect circular badge or avatar",preview:"circle",variant:"circle",borderRadius:9999,getSize:({page:e,safeInsets:t})=>{const n=Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom),r=Math.max(120,Math.round(n*.5));return{width:r,height:r}}},{id:"oval",group:"basic",label:"Oval",description:"Elongated oval for decorative layouts",preview:"oval",variant:"rectangle",borderRadius:9999,getSize:({page:e,safeInsets:t})=>{const n=e.width-t.left-t.right,r=Math.max(200,Math.round(n*.7)),l=Math.max(110,Math.round(r*.44));return{width:r,height:l}}},{id:"rounded-rectangle",group:"basic",label:"Rounded Rectangle",description:"Rectangle with soft rounded corners",preview:"rounded-rectangle",variant:"rectangle",borderRadius:16,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(100,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"half-circle",group:"basic",label:"Half Circle",description:"Semi-circle for modern accents",preview:"half-circle",variant:"rectangle",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.5)),height:Math.max(90,Math.round((e.height-t.top-t.bottom)*.18))})},{id:"triangle",group:"basic",label:"Triangle",description:"Simple triangle for pointers or accents",preview:"triangle",variant:"polygon",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.4)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"diamond",group:"basic",label:"Diamond (rhombus)",description:"Rhombus shape for badges",preview:"diamond",variant:"polygon",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(120,Math.round((e.width-t.left-t.right)*.38)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.38))})},{id:"scalloped-rectangle",group:"decorative",label:"Scalloped Edge Rectangle",description:"Decorative scalloped border",preview:"scalloped-rectangle",variant:"rectangle",borderRadius:12,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"wavy-edge-rectangle",group:"decorative",label:"Wavy Edge Rectangle",description:"Soft wavy edges for a playful look",preview:"wavy-edge-rectangle",variant:"rectangle",borderRadius:10,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"curved-edge-square",group:"decorative",label:"Curved Edge Square",description:"Square with curved edges",preview:"curved-edge-square",variant:"rectangle",borderRadius:18,getSize:({page:e,safeInsets:t})=>{const n=Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom),r=Math.max(120,Math.round(n*.45));return{width:r,height:r}}},{id:"cloud-shape",group:"decorative",label:"Cloud Shape",description:"Soft cloud-like outline",preview:"cloud-shape",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(200,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(130,Math.round((e.height-t.top-t.bottom)*.44))})},{id:"hexagon",group:"decorative",label:"Hexagon",description:"Geometric hexagon",preview:"hexagon",variant:"polygon",borderRadius:8,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.42))})},{id:"octagon",group:"decorative",label:"Octagon",description:"Eight-sided geometric shape",preview:"octagon",variant:"polygon",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(140,Math.round((e.height-t.top-t.bottom)*.45))})},{id:"heart",group:"decorative",label:"Heart",description:"Romantic heart shape",preview:"heart",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>{const n=Math.min(e.width-t.left-t.right,e.height-t.top-t.bottom),r=Math.max(140,Math.round(n*.45));return{width:r,height:r}}},{id:"star",group:"decorative",label:"Star",description:"Five-pointed star",preview:"star",variant:"polygon",borderRadius:4,getSize:({page:e,safeInsets:t})=>({width:Math.max(130,Math.round((e.width-t.left-t.right)*.38)),height:Math.max(130,Math.round((e.height-t.top-t.bottom)*.38))})},{id:"flower",group:"decorative",label:"Flower / Petal Shape",description:"Petal-style decorative shape",preview:"flower",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(150,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(150,Math.round((e.height-t.top-t.bottom)*.45))})},{id:"bracket-frame",group:"decorative",label:"Bracket Frame",description:"Classic bracket-style frame",preview:"bracket-frame",variant:"frame",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(130,Math.round((e.height-t.top-t.bottom)*.4))})},{id:"ornate-frame",group:"decorative",label:"Ornate Frame",description:"Vintage ornate border",preview:"ornate-frame",variant:"frame",borderRadius:8,getSize:({page:e,safeInsets:t})=>({width:Math.max(200,Math.round((e.width-t.left-t.right)*.65)),height:Math.max(150,Math.round((e.height-t.top-t.bottom)*.45))})},{id:"shield",group:"decorative",label:"Shield Shape",description:"Heraldic shield-style shape",preview:"shield",variant:"polygon",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(150,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(170,Math.round((e.height-t.top-t.bottom)*.5))})},{id:"tag-shape",group:"decorative",label:"Tag Shape",description:"Gift-tag with a notch",preview:"tag-shape",variant:"tag",borderRadius:8,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(90,Math.round((e.height-t.top-t.bottom)*.28))})},{id:"arch-top-rectangle",group:"decorative",label:"Arch Top Rectangle",description:"Rectangle with an arched top",preview:"arch-top-rectangle",variant:"rectangle",borderRadius:18,getSize:({page:e,safeInsets:t})=>({width:Math.max(160,Math.round((e.width-t.left-t.right)*.55)),height:Math.max(110,Math.round((e.height-t.top-t.bottom)*.34))})},{id:"half-arch",group:"decorative",label:"Half Arch",description:"Modern half-arch accent",preview:"half-arch",variant:"rectangle",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.55)),height:Math.max(90,Math.round((e.height-t.top-t.bottom)*.18))})},{id:"gate-fold",group:"folded",label:"Gate Fold",description:"Double door fold layout",preview:"gate-fold",variant:"layout",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(240,Math.round((e.width-t.left-t.right)*.75)),height:Math.max(200,Math.round((e.height-t.top-t.bottom)*.65))})},{id:"tri-fold",group:"folded",label:"Tri-Fold",description:"Three-panel fold",preview:"tri-fold",variant:"layout",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(240,Math.round((e.width-t.left-t.right)*.75)),height:Math.max(200,Math.round((e.height-t.top-t.bottom)*.65))})},{id:"z-fold",group:"folded",label:"Z-Fold",description:"Z-style folding panels",preview:"z-fold",variant:"layout",borderRadius:0,getSize:({page:e,safeInsets:t})=>({width:Math.max(240,Math.round((e.width-t.left-t.right)*.75)),height:Math.max(200,Math.round((e.height-t.top-t.bottom)*.65))})},{id:"pocket-fold",group:"folded",label:"Pocket Fold",description:"Pocket fold for inserts",preview:"pocket-fold",variant:"layout",borderRadius:4,getSize:({page:e,safeInsets:t})=>({width:Math.max(220,Math.round((e.width-t.left-t.right)*.7)),height:Math.max(180,Math.round((e.height-t.top-t.bottom)*.6))})},{id:"tent-fold",group:"folded",label:"Tent Fold",description:"Greeting-card / tent-style",preview:"tent-fold",variant:"layout",borderRadius:4,getSize:({page:e,safeInsets:t})=>({width:Math.max(220,Math.round((e.width-t.left-t.right)*.7)),height:Math.max(180,Math.round((e.height-t.top-t.bottom)*.6))})},{id:"layered-rectangle",group:"folded",label:"Layered Rectangle",description:"Stacked rectangle borders for layered look",preview:"layered-rectangle",variant:"rectangle",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.6)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"butterfly",group:"creative",label:"Butterfly",description:"Delicate butterfly silhouette",preview:"butterfly",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.5)),height:Math.max(130,Math.round((e.height-t.top-t.bottom)*.38))})},{id:"leaf",group:"creative",label:"Leaf",description:"Natural leaf motif",preview:"leaf",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(160,Math.round((e.width-t.left-t.right)*.45)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"balloon",group:"creative",label:"Balloon",description:"Party balloon outline",preview:"balloon",variant:"organic",borderRadius:9999,getSize:({page:e,safeInsets:t})=>({width:Math.max(120,Math.round((e.width-t.left-t.right)*.35)),height:Math.max(150,Math.round((e.height-t.top-t.bottom)*.45))})},{id:"crown",group:"creative",label:"Crown",description:"Royal crown silhouette",preview:"crown",variant:"organic",borderRadius:4,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.4)),height:Math.max(90,Math.round((e.height-t.top-t.bottom)*.28))})},{id:"ticket-shape",group:"creative",label:"Ticket Shape",description:"Event ticket outline",preview:"ticket-shape",variant:"tag",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(160,Math.round((e.width-t.left-t.right)*.5)),height:Math.max(90,Math.round((e.height-t.top-t.bottom)*.28))})},{id:"puzzle-piece",group:"creative",label:"Puzzle Piece",description:"Fun puzzle piece shape",preview:"puzzle-piece",variant:"organic",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(140,Math.round((e.width-t.left-t.right)*.4)),height:Math.max(140,Math.round((e.height-t.top-t.bottom)*.4))})},{id:"envelope-outline",group:"creative",label:"Envelope Outline",description:"Envelope silhouette",preview:"envelope-outline",variant:"rectangle",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(180,Math.round((e.width-t.left-t.right)*.55)),height:Math.max(120,Math.round((e.height-t.top-t.bottom)*.36))})},{id:"ribbon-banner",group:"creative",label:"Ribbon Banner",description:"Decorative ribbon banner",preview:"ribbon-banner",variant:"organic",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(200,Math.round((e.width-t.left-t.right)*.65)),height:Math.max(80,Math.round((e.height-t.top-t.bottom)*.2))})},{id:"polaroid-frame",group:"creative",label:"Polaroid Frame",description:"Photo-style Polaroid frame",preview:"polaroid-frame",variant:"frame",borderRadius:6,getSize:({page:e,safeInsets:t})=>({width:Math.max(170,Math.round((e.width-t.left-t.right)*.5)),height:Math.max(210,Math.round((e.height-t.top-t.bottom)*.62))})}],Tm=[{id:"align-left",icon:"fa-solid fa-align-left",label:"Align left",apply:e=>({x:0})},{id:"align-center-horizontal",icon:"fa-solid fa-align-center",label:"Center horizontally",apply:(e,t)=>({x:Math.round((t.width-e.width)/2)})},{id:"align-right",icon:"fa-solid fa-align-right",label:"Align right",apply:(e,t)=>({x:Math.round(t.width-e.width)})},{id:"align-top",icon:"fa-solid fa-arrow-up",label:"Align top",apply:()=>({y:0})},{id:"align-center-vertical",icon:"fa-solid fa-arrows-up-down",label:"Center vertically",apply:(e,t)=>({y:Math.round((t.height-e.height)/2)})},{id:"align-bottom",icon:"fa-solid fa-arrow-down",label:"Align bottom",apply:(e,t)=>({y:Math.round(t.height-e.height)})}],Lm=[{value:"all",label:"All Shapes"},{value:"basic",label:"Basic Shapes"},{value:"decorative",label:"Decorative / Fancy Shapes"},{value:"folded",label:"Folded or Layered Shapes"},{value:"creative",label:"Creative / Themed Shapes"}],zm=["AIzaSyCSdMyA37wm0nt9gJIZSjTrxEHgXwxBMeM","AIzaSyBRCDdZjTcR4brOsHV_OBsDO11We11BVi0".replace("BRCD","BRCD")];function Fm(e){return`https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&fields=items(family,category,variants)&key=${e}`}const Qd=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["400","500","700"]},{family:"Lato",category:"sans-serif",variants:["400","700"]},{family:"Playfair Display",category:"serif",variants:["400","600"]},{family:"Oswald",category:"sans-serif",variants:["400","500","600"]},{family:"Merriweather",category:"serif",variants:["400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Source Sans Pro",category:"sans-serif",variants:["300","400","600","700"]},{family:"Raleway",category:"sans-serif",variants:["300","400","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"PT Sans",category:"sans-serif",variants:["400","700"]},{family:"PT Serif",category:"serif",variants:["400","700"]},{family:"Ubuntu",category:"sans-serif",variants:["300","400","500","700"]},{family:"Rubik",category:"sans-serif",variants:["300","400","500","700"]},{family:"Fira Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Work Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Quicksand",category:"sans-serif",variants:["300","400","700"]},{family:"Bebas Neue",category:"display",variants:["400"]},{family:"Bitter",category:"serif",variants:["400","700"]},{family:"Cabin",category:"sans-serif",variants:["400","700"]},{family:"Cormorant Garamond",category:"serif",variants:["400","500","600"]},{family:"Dosis",category:"sans-serif",variants:["300","400","600"]},{family:"EB Garamond",category:"serif",variants:["400","700"]},{family:"Exo 2",category:"sans-serif",variants:["300","400","600","700"]},{family:"Inconsolata",category:"monospace",variants:["400","700"]},{family:"Indie Flower",category:"handwriting",variants:["400"]},{family:"Karla",category:"sans-serif",variants:["400","700"]},{family:"Kanit",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lobster",category:"display",variants:["400"]},{family:"Manrope",category:"sans-serif",variants:["300","400","600","700"]},{family:"Merriweather Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Noto Sans",category:"sans-serif",variants:["400","700"]},{family:"Oxygen",category:"sans-serif",variants:["300","400","700"]},{family:"Play",category:"sans-serif",variants:["400","700"]},{family:"Proza Libre",category:"sans-serif",variants:["400","700"]},{family:"Roboto Slab",category:"serif",variants:["300","400","700"]},{family:"Saira",category:"sans-serif",variants:["300","400","600","700"]},{family:"Titillium Web",category:"sans-serif",variants:["200","400","600","700"]},{family:"Varela Round",category:"sans-serif",variants:["400"]},{family:"Zilla Slab",category:"serif",variants:["400","700"]}],sl=new Map(Qd.map(e=>[e.family,e])),Di=["Dancing Script","Pacifico","Caveat","Shadows Into Light","Satisfy","Amatic SC","Kalam","Permanent Marker","Rock Salt","Allura","Alex Brush","Bad Script","Marck Script","Pangolin","Great Vibes","Homemade Apple","Kaushan Script"];function Am(){var Ja,qa,es,ts,ns,rs;const{state:e,dispatch:t}=Qt(),n=e.pages.find(h=>h.id===e.activePageId)??e.pages[0],r=P.useMemo(()=>jm(n==null?void 0:n.safeZone),[n==null?void 0:n.safeZone]),l=P.useMemo(()=>n?n.nodes.find(h=>h.id===e.selectedLayerId)??null:null,[n,e.selectedLayerId]),[i,o]=P.useState(()=>{const h=localStorage.getItem("inspector-panel-width");return h?parseInt(h,10):340}),[a,u]=P.useState(!1),c=P.useRef(null),p=P.useRef(new Set),m=P.useRef(!1),[y,S]=P.useState([]),[k,x]=P.useState([]),[_,f]=P.useState(!1),[d,g]=P.useState(!1),[v,E]=P.useState(!1),[T,z]=P.useState(""),[F,X]=P.useState("all"),I=P.useRef(null),ie=P.useRef(null),[he,Ae]=P.useState(null),[N,M]=P.useState(1),[$,D]=P.useState(0),[j,O]=P.useState(0),L=P.useRef(null),[H,G]=P.useState(!1),[ot,ae]=P.useState(""),[at,_e]=P.useState("all"),He=P.useRef(null),mt=P.useRef(null),[Ct,Vn]=P.useState(null),[si,Xn]=P.useState(null),[Br,pn]=P.useState(""),Ze=P.useCallback((h,w)=>{const R=Ui(h);if(!R||p.current.has(R))return;const U=Im(R,w);if(!U)return;const B=document.createElement("link");B.rel="stylesheet",B.href=U,document.head.appendChild(B),p.current.add(R)},[]),st=P.useMemo(()=>{const h=new Map;return y.forEach(w=>{w!=null&&w.family&&h.set(w.family,w)}),h},[y]),ye=P.useMemo(()=>Ui((l==null?void 0:l.fontFamily)||""),[l==null?void 0:l.fontFamily]),b=P.useMemo(()=>st.get(ye)??sl.get(ye)??null,[st,ye]),ut=P.useMemo(()=>{const h=k.length>0?k:Qd,w=(b==null?void 0:b.category)??gu(l==null?void 0:l.fontFamily),R=(b==null?void 0:b.variants)??[],B=[...ye?[{family:ye,category:w,variants:R}]:[],...h],ee=new Set,V=[];for(const se of B)if(!(!se||!se.family)&&!ee.has(se.family)&&(ee.add(se.family),V.push(se),V.length>=120))break;return V},[k,b,ye,l==null?void 0:l.fontFamily]),Gt=P.useMemo(()=>{const h=new Set;return ut.forEach(w=>{w!=null&&w.category&&h.add(w.category)}),["all",...Array.from(h)]},[ut]),hn=P.useMemo(()=>{const h=T.trim().toLowerCase();return ut.filter(w=>!(w!=null&&w.family)||F!=="all"&&(w.category??"").toLowerCase()!==F.toLowerCase()||F==="handwriting"&&k.length>0&&!Di.includes(w.family)?!1:h?w.family.toLowerCase().includes(h):!0)},[ut,T,F,k.length]),Ia=P.useMemo(()=>{const h=ot.trim().toLowerCase();return Rm.filter(w=>at!=="all"&&w.group!==at?!1:h?w.label.toLowerCase().includes(h)||w.description.toLowerCase().includes(h):!0)},[ot,at]);P.useEffect(()=>{localStorage.setItem("inspector-panel-width",i.toString())},[i]),P.useEffect(()=>{if(!v)return;const h=R=>{R.key==="Escape"&&E(!1)},w=R=>{const U=I.current,B=ie.current;!U||!B||!U.contains(R.target)&&!B.contains(R.target)&&E(!1)};return document.addEventListener("keydown",h),document.addEventListener("mousedown",w),()=>{document.removeEventListener("keydown",h),document.removeEventListener("mousedown",w)}},[v]),P.useEffect(()=>{if(!H)return;const h=R=>{R.key==="Escape"&&G(!1)},w=R=>{const U=He.current,B=mt.current;U&&(U.contains(R.target)||B&&B.contains(R.target)||G(!1))};return document.addEventListener("keydown",h),document.addEventListener("mousedown",w),()=>{document.removeEventListener("keydown",h),document.removeEventListener("mousedown",w)}},[H]),P.useEffect(()=>{if(!v)return;function h(){if(!(!ie.current||!c.current))try{const w=ie.current.getBoundingClientRect(),R=c.current.getBoundingClientRect(),U=Math.min(400,Math.max(250,Math.round(w.width*1.5))),B=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let ee=R.left-U-12+window.scrollX,V=w.top+window.scrollY-600;ee<8&&(ee=R.right+12+window.scrollX);const se=window.scrollY+window.innerHeight-48;V>se&&(V=Math.max(window.scrollY+8,se-8)),V<window.scrollY+8&&(V=window.scrollY+8),Ae({top:V,left:ee,width:U,height:B})}catch{}}return h(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[v]),P.useEffect(()=>{if(!H)return;function h(){if(!(!mt.current||!c.current))try{const w=mt.current.getBoundingClientRect(),R=c.current.getBoundingClientRect(),U=Math.min(window.innerWidth-24,Math.max(1e3,Math.round(w.width*3))),B=500;let ee=R.left-U-12+window.scrollX,V=w.top+window.scrollY-6;ee<8&&(ee=R.right+12+window.scrollX);const se=window.scrollY+window.innerHeight-48;V>se&&(V=Math.max(window.scrollY+8,se-8)),V<window.scrollY+8&&(V=window.scrollY+8),Vn({top:V,left:ee,width:U,height:B})}catch{}}return h(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[H]),P.useEffect(()=>{if(m.current)return;m.current=!0;const h=new AbortController;g(!0);async function w(){let R=!1;for(const U of zm){if(h.signal.aborted)break;try{const B=Fm(U),ee=await fetch(B,{signal:h.signal});if(!ee.ok)continue;const V=await ee.json(),se=Array.isArray(V==null?void 0:V.items)?V.items.slice(0,250):[],Mt=se.filter(Gn=>Di.includes(Gn.family)),We=se.filter(Gn=>!Di.includes(Gn.family)),Kt=[...Mt,...We];S(Kt),x(Kt.slice(0,150)),R=!0;break}catch{if(h.signal.aborted)break;continue}}R||console.error("[InkWise Builder] Failed to load Google Fonts with provided API keys."),h.signal.aborted||g(!1)}return w(),()=>{h.abort()}},[]);const ui=P.useCallback(()=>{_||k.length>=y.length||(f(!0),x(h=>{const w=y.slice(h.length,h.length+200);return[...h,...w]}),f(!1))},[y,k.length,_]);P.useEffect(()=>{if(!ye)return;const h=st.get(ye)??sl.get(ye);h&&Ze(ye,h.variants)},[ye,st,Ze]),P.useEffect(()=>{const h=new Set;e.pages.forEach(w=>{(w.nodes??[]).forEach(R=>{if((R==null?void 0:R.type)==="text"&&R.fontFamily){const U=Ui(R.fontFamily);U&&h.add(U)}})}),h.forEach(w=>{const R=st.get(w)??sl.get(w);R&&Ze(w,R.variants)})},[e.pages,st,Ze]),P.useEffect(()=>{v&&hn.slice(0,24).forEach(h=>{h!=null&&h.family&&Ze(h.family,h.variants)})},[v,hn,Ze]),P.useEffect(()=>{!v||_||k.length>=y.length||k.length<200&&ui()},[v,k.length,y.length,_,ui]);const Zd=h=>{u(!0),h.preventDefault()},ci=h=>{if(!a)return;const w=Math.max(280,Math.min(600,window.innerWidth-h.clientX));o(w)},di=()=>{u(!1)};if(P.useEffect(()=>(a?(document.addEventListener("mousemove",ci),document.addEventListener("mouseup",di),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",ci),document.removeEventListener("mouseup",di),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",ci),document.removeEventListener("mouseup",di),document.body.style.cursor="",document.body.style.userSelect=""}),[a]),!n)return null;const Se=l?yu(l.frame,n):null,Jd=(l==null?void 0:l.type)==="text",qd=(l==null?void 0:l.type)==="image",Da=!!((Ja=l==null?void 0:l.metadata)!=null&&Ja.clipContent),Ua=Number((qa=l==null?void 0:l.metadata)==null?void 0:qa.imageScale),$a=Number.isFinite(Ua)?gn(Ua,.25,4):1,Ba=Number((es=l==null?void 0:l.metadata)==null?void 0:es.imageOffsetX),Ha=Number((ts=l==null?void 0:l.metadata)==null?void 0:ts.imageOffsetY),Wa=Number.isFinite(Ba)?gn(Ba,-500,500):0,Ya=Number.isFinite(Ha)?gn(Ha,-500,500):0,Va=!!((ns=l==null?void 0:l.metadata)!=null&&ns.flipHorizontal),Xa=!!((rs=l==null?void 0:l.metadata)!=null&&rs.flipVertical);P.useEffect(()=>{(l==null?void 0:l.type)==="image"&&(M($a),D(Wa),O(Ya))},[l==null?void 0:l.id,$a,Wa,Ya]),P.useEffect(()=>{try{e.recentlyUploadedImages&&e.recentlyUploadedImages.length>0&&(console.debug("[Inspector] recentlyUploadedImages count=",e.recentlyUploadedImages.length),e.recentlyUploadedImages.forEach((h,w)=>{console.debug(`[Inspector] recent[${w}]`,h.fileName,(h.dataUrl||"").slice(0,80))}))}catch{}},[e.recentlyUploadedImages]);const ef=h=>{t({type:"UPDATE_PAGE_PROPS",pageId:n.id,props:{background:h.target.value}})},tf=()=>{if(H)G(!1),ae(""),_e("all");else if(G(!0),ae(""),_e("all"),mt.current&&c.current)try{const h=mt.current.getBoundingClientRect(),w=c.current.getBoundingClientRect(),R=Math.min(6e3,Math.max(3500,h.width*4)),U=500,B=window.scrollY+8,ee=window.scrollY+window.innerHeight-8,V=Math.max(120,ee-B),se=Math.min(U,V);let Mt=w.left-R-12+window.scrollX;Mt<8&&(Mt=w.right+12+window.scrollX);let We=h.top+window.scrollY-6;const Kt=Math.max(B,ee-se);We>Kt&&(We=Kt),We<B&&(We=B),Vn({top:We,left:Mt,width:R,height:se})}catch{Vn(null)}},nf=()=>{t({type:"ADD_PAGE",page:null})},rf=h=>{t({type:"SELECT_PAGE",pageId:h})},lf=(h,w)=>{w.stopPropagation(),t({type:"DELETE_PAGE",pageId:h})},of=(h,w)=>{Xn(h),pn(w)},af=h=>{pn(h.target.value)},Qa=h=>{if(!h)return;const w=Br.trim();w&&t({type:"UPDATE_PAGE_PROPS",pageId:h,props:{name:w}}),Xn(null),pn("")},sf=(h,w)=>{h.key==="Enter"?(h.preventDefault(),Qa(w)):h.key==="Escape"&&(Xn(null),pn(""))},Z=h=>{if(!l)return;const w={...h};h.metadata&&(w.metadata={...l.metadata??{},...h.metadata}),t({type:"UPDATE_LAYER_PROPS",pageId:n.id,layerId:l.id,props:w})},uf=()=>{Z({visible:l.visible===!1})},cf=()=>{Z({locked:!l.locked})},Ga=h=>{Z({side:h})},df=h=>{if(!n)return;const w=h.getSize?h.getSize({page:n,safeInsets:r}):{width:200,height:160};if((l==null?void 0:l.type)==="shape"){const R=yu(l.frame,n),U=bm(R,w.width,w.height,n,r);Z({name:h.label,variant:h.variant??l.variant,borderRadius:h.borderRadius??l.borderRadius,metadata:{...l.metadata??{},...h.metadata??{}},frame:U})}else if(l){const R=qt("shape",n,{name:h.label,variant:h.variant??"rectangle",borderRadius:h.borderRadius??16,metadata:h.metadata??{}});if(R.frame){const U=Pm(w.width,w.height,n,r);R.frame=Xd(U,n,r)}t({type:"ADD_LAYER",pageId:n.id,layer:R}),t({type:"SELECT_LAYER",layerId:R.id})}else{const R={id:h.id,variant:h.variant??"rectangle",borderRadius:h.borderRadius??0};t({type:"UPDATE_PAGE_PROPS",pageId:n.id,props:{shape:R}})}G(!1),ae(""),_e("all")},Qn=h=>w=>{const R=Number.parseFloat(w.target.value);if(!Number.isFinite(R)||!Se)return;const U={...Se,[h]:h==="width"||h==="height"?Math.max(1,R):R};Z({frame:U})},Ka=h=>{if(!Number.isFinite(h))return;const w=gn(h,0,100);Z({opacity:w/100})},ff=h=>{Ka(Number.parseInt(h.target.value,10))},pf=h=>{Ka(Number.parseInt(h.target.value,10))},hf=h=>{Z({fill:h.target.value})},mf=h=>{const w=Number.parseInt(h.target.value,10);Number.isFinite(w)&&Z({borderRadius:Math.max(0,w)})},gf=h=>{Z({content:h.target.value})},yf=h=>{const w=Number.parseInt(h.target.value,10);Number.isFinite(w)&&Z({fontSize:Math.max(8,w)})},vf=h=>{const w=h.target.value,R=(String(w)||"").trim();R&&Z({fontWeight:R})},xf=P.useCallback(h=>{if(!h)return;const w=st.get(h)??sl.get(h)??null;w&&Ze(h,w.variants);const R=(w==null?void 0:w.category)??gu(l==null?void 0:l.fontFamily),U=Gd(R),B=U?`${h}, ${U}`:h;Z({fontFamily:B})},[st,l==null?void 0:l.fontFamily,Ze,Z]),wf=h=>{xf(h),E(!1)},_f=h=>{z(h.target.value)},Sf=h=>{X(h.target.value)},kf=h=>{ae(h.target.value)},Nf=h=>{_e(h.target.value)},Ef=()=>{Z({metadata:{clipContent:!Da}})},Cf=()=>{Z({metadata:{imageScale:N,imageOffsetX:$,imageOffsetY:j}})},Mf=()=>{M(1),D(0),O(0),Z({metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}})},jf=h=>()=>{if(!Se)return;const R=((Number.isFinite(Se.rotation)?Se.rotation:0)+h)%360,U=R<0?R+360:R;Z({frame:{...Se,rotation:Math.round(U)}})},Za=h=>()=>{Z(h==="horizontal"?{metadata:{flipHorizontal:!Va}}:{metadata:{flipVertical:!Xa}})},Pf=()=>{var h;l&&((h=L.current)==null||h.click())},bf=h=>{var B;const w=(B=h.target.files)==null?void 0:B[0];if(!w||!l)return;if(!w.type.startsWith("image/")){alert("Please choose an image file."),h.target.value="";return}const R=10*1024*1024;if(w.size>R){alert("Selected image is too large. Please use a file smaller than 10MB."),h.target.value="";return}const U=new FileReader;U.onload=async ee=>{var Mt;const V=(Mt=ee.target)==null?void 0:Mt.result;if(typeof V!="string"||!V.startsWith("data:image/")){alert("Unable to load the selected image. Please try again.");return}const se=new Image;se.onload=async()=>{try{const We=await xr(()=>import("./recentImagesDB-CO6kquVm.js"),[]),Kt=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await We.saveImage(Kt,w.name,w),We.pruneOld(10).catch(()=>{});const Gn=URL.createObjectURL(w);t({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:Gn,fileName:w.name})}catch(We){console.error("Failed to persist recent image:",We),t({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:V,fileName:w.name})}Z({content:V,name:w.name||l.name,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}})},se.onerror=()=>{console.error("Preload failed for data URL"),alert("Uploaded image could not be rendered. Try a different file.")},se.src=V},U.onerror=()=>{alert("There was a problem reading the file. Please try again.")},U.readAsDataURL(w),h.target.value=""},Rf=()=>{l&&(M(1),D(0),O(0),Z({content:"",metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}}),L.current&&(L.current.value=""))},Tf=()=>{!l||!window.confirm(`Delete "${l.name}"? You can undo this action if needed.`)||t({type:"REMOVE_LAYER",pageId:n.id,layerId:l.id})},Lf=h=>()=>{if(!l||!Se)return;const w=h(Se,n)??{},R=Math.max(0,n.width-Se.width),U=Math.max(0,n.height-Se.height),B={...Se,...w};typeof B.x=="number"&&(B.x=gn(Math.round(B.x),0,R)),typeof B.y=="number"&&(B.y=gn(Math.round(B.y),0,U)),Z({frame:B})},zf=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Pages"}),s.jsx("button",{type:"button",className:"builder-btn inspector-btn--add",onClick:nf,children:"Add page"})]}),s.jsx("div",{className:"inspector-pages__list",role:"list",children:e.pages.map(h=>{const w=h.id===e.activePageId;return s.jsxs("div",{className:"inspector-pages__item-wrapper",children:[s.jsxs("button",{type:"button",className:`inspector-pages__item ${w?"is-active":""}`,onClick:()=>rf(h.id),"aria-pressed":w,children:[s.jsx("span",{className:"inspector-pages__thumb","aria-hidden":"true",children:s.jsx("span",{className:"inspector-pages__thumb-page"})}),si===h.id?s.jsx("input",{type:"text",className:"inspector-pages__label-input",value:Br,onChange:af,onBlur:()=>Qa(h.id),onKeyDown:R=>sf(R,h.id),autoFocus:!0}):s.jsx("span",{className:"inspector-pages__label",onClick:()=>of(h.id,h.name),style:{cursor:"pointer"},children:h.name})]}),e.pages.length>1&&s.jsx("div",{className:"inspector-pages__item-controls",children:s.jsx("button",{type:"button",className:"inspector-pages__control inspector-pages__control--delete",onClick:R=>lf(h.id,R),"aria-label":`Delete ${h.name}`,title:`Delete ${h.name}`,children:s.jsx("i",{className:"fas fa-trash-alt","aria-hidden":"true"})})})]},h.id)})})]}),Ff=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Page"}),s.jsxs("span",{className:"inspector-section__meta",children:[n.width,"  ",n.height,"px"]})]}),s.jsxs("div",{className:"inspector-field",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.jsxs("label",{className:"inspector-field",style:{margin:0},children:[s.jsx("span",{className:"inspector-field__label",children:"Background"}),s.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:vu(n.background,"#ffffff"),onChange:ef,"aria-label":"Page background color"})]}),s.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:tf,ref:mt,style:{fontSize:"0.8rem",padding:"0.3rem 0.6rem",height:"auto",alignSelf:"flex-start"},children:"SHAPES"})]})]}),Af=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Position"}),s.jsx("span",{className:"inspector-section__meta",children:"X/Y & rotation"})]}),s.jsx("div",{className:"inspector-alignment",role:"group","aria-label":"Alignment controls",children:Tm.map(h=>s.jsx("button",{type:"button",className:"inspector-alignment__action",onClick:Lf(h.apply),"aria-label":h.label,children:s.jsx("i",{className:h.icon,"aria-hidden":"true"})},h.id))}),s.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"X"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:Se.x,onChange:Qn("x"),step:"1"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Y"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:Se.y,onChange:Qn("y"),step:"1"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Rotation"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:Se.rotation,onChange:Qn("rotation"),step:"1"})]})]})]}),Of=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Layout"}),s.jsx("span",{className:"inspector-section__meta",children:"Dimensions & flow"})]}),s.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Width"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:Se.width,onChange:Qn("width"),min:"1",step:"1"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Height"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:Se.height,onChange:Qn("height"),min:"1",step:"1"})]})]}),s.jsxs("label",{className:"inspector-toggle",children:[s.jsx("input",{type:"checkbox",checked:Da,onChange:Ef}),s.jsx("span",{children:"Clip content"})]})]}),If=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Appearance"}),s.jsx("span",{className:"inspector-section__meta",children:"Color & effects"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Fill"}),s.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:vu(l.fill,"#2563eb"),onChange:hf})]}),s.jsxs("div",{className:"inspector-opacity",children:[s.jsxs("label",{className:"inspector-field inspector-opacity__slider",children:[s.jsx("span",{className:"inspector-field__label",children:"Opacity"}),s.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"100",step:"5",value:Math.round((l.opacity??1)*100),onChange:ff})]}),s.jsxs("label",{className:"inspector-field inspector-opacity__input",children:[s.jsx("span",{className:"inspector-field__label",children:"%"}),s.jsx("input",{type:"number",className:"inspector-field__control",min:"0",max:"100",step:"5",value:Math.round((l.opacity??1)*100),onChange:pf})]})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Corner radius"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:l.borderRadius??0,onChange:mf,min:"0",step:"1"})]})]}),Df=()=>s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Typography"}),s.jsx("span",{className:"inspector-section__meta",children:d?"Loading fonts...":"Text content & styling"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Content"}),s.jsx("textarea",{className:"inspector-field__control inspector-field__control--textarea",value:l.content??"",onChange:gf,rows:3})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Font"}),s.jsxs("div",{className:"inspector-font-picker",children:[s.jsxs("button",{type:"button",className:`inspector-field__control inspector-font-picker__trigger${v?" is-open":""}`,onClick:()=>{if(!v&&ie.current&&c.current)try{const h=ie.current.getBoundingClientRect(),w=c.current.getBoundingClientRect(),R=Math.min(400,Math.max(250,Math.round(h.width*1.5))),U=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let B=w.left-R-12+window.scrollX,ee=h.top+window.scrollY-600;B<8&&(B=w.right+12+window.scrollX);const V=window.scrollY+window.innerHeight-48;ee>V&&(ee=Math.max(window.scrollY+8,V-8)),ee<0&&(ee=0),Ae({top:ee,left:B,width:R,height:U})}catch{Ae(null)}E(h=>!h)},ref:ie,"aria-expanded":v,children:[s.jsxs("span",{className:"inspector-font-picker__preview",children:[s.jsx("span",{className:"inspector-font-picker__preview-name",style:{fontFamily:(l==null?void 0:l.fontFamily)||ye||"Inter, sans-serif"},children:ye||"Select font"}),s.jsx("span",{className:"inspector-font-picker__preview-meta",children:ye?Do(b==null?void 0:b.category):"Choose a font"})]}),s.jsx("span",{className:"inspector-font-picker__chevron","aria-hidden":"true",children:s.jsx("i",{className:`fa-solid ${v?"fa-chevron-up":"fa-chevron-down"}`})})]}),v&&Oo.createPortal(s.jsx(Om,{ref:I,fonts:hn,categories:Gt,categoryValue:F,onCategoryChange:Sf,searchTerm:T,onSearchChange:_f,onSelect:wf,isLoading:d,currentFamily:ye,ensureFontLoaded:Ze,loadMoreFonts:ui,loadingMore:_,style:he?{position:"absolute",top:`${he.top}px`,left:`${he.left}px`,width:`${he.width}px`,...he.height?{height:`${he.height}px`}:{}}:{position:"absolute"}}),document.body)]})]}),s.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Font size"}),s.jsx("input",{type:"number",className:"inspector-field__control",value:l.fontSize??48,onChange:yf,min:"8",step:"1"})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Font weight"}),s.jsxs("select",{className:"inspector-field__control",value:String(l.fontWeight??"400"),onChange:vf,children:[s.jsx("option",{value:"100",children:"Thin"}),s.jsx("option",{value:"200",children:"Extra Light / Ultra Light"}),s.jsx("option",{value:"300",children:"Light"}),s.jsx("option",{value:"400",children:"Regular / Normal"}),s.jsx("option",{value:"500",children:"Medium"}),s.jsx("option",{value:"600",children:"Semi Bold / Demi Bold"}),s.jsx("option",{value:"700",children:"Bold"}),s.jsx("option",{value:"800",children:"Extra Bold / Ultra Bold"}),s.jsx("option",{value:"900",children:"Black / Heavy"}),s.jsx("option",{value:"normal",children:"normal"}),s.jsx("option",{value:"bold",children:"bold"})]})]})]})]}),Uf=()=>{var h,w,R;return s.jsxs("div",{className:"inspector-panel__group",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Image"}),s.jsx("span",{className:"inspector-section__meta",children:"Source & display"})]}),s.jsxs("div",{className:"inspector-field inspector-field--actions",children:[s.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Pf,children:"Replace image"}),(l==null?void 0:l.content)&&s.jsx("button",{type:"button",className:"builder-btn inspector-btn is-muted",onClick:Rf,children:"Remove image"})]}),s.jsx("div",{className:"inspector-field inspector-field--actions",children:s.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:jf(90),children:"Rotate +90"})}),s.jsxs("div",{className:"inspector-field inspector-field--actions",children:[s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${Va?"is-active":""}`,onClick:Za("horizontal"),children:"Flip horizontal"}),s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${Xa?"is-active":""}`,onClick:Za("vertical"),children:"Flip vertical"})]}),s.jsxs("div",{className:"inspector-field inspector-field--actions",children:[s.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Cf,children:"Crop"}),s.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Mf,children:"Reset adjustments"})]}),s.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Brightness"}),s.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((h=l.metadata)==null?void 0:h.brightness)??100,onChange:U=>Z({metadata:{brightness:Number.parseInt(U.target.value,10)}})})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Contrast"}),s.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((w=l.metadata)==null?void 0:w.contrast)??100,onChange:U=>Z({metadata:{contrast:Number.parseInt(U.target.value,10)}})})]}),s.jsxs("label",{className:"inspector-field",children:[s.jsx("span",{className:"inspector-field__label",children:"Saturation"}),s.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((R=l.metadata)==null?void 0:R.saturation)??100,onChange:U=>Z({metadata:{saturation:Number.parseInt(U.target.value,10)}})})]})]})]})},$f=()=>s.jsxs("div",{className:"inspector-panel__group inspector-panel__group--actions",children:[s.jsxs("div",{className:"inspector-section__header",children:[s.jsx("h3",{children:"Layer actions"}),s.jsx("span",{className:"inspector-section__meta",children:"Visibility & locking"})]}),s.jsxs("div",{className:"inspector-field inspector-field--actions",children:[s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${l.side==="front"?"is-active":""}`,onClick:()=>Ga("front"),children:"Front"}),s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${l.side==="back"?"is-active":""}`,onClick:()=>Ga("back"),children:"Back"})]}),s.jsxs("div",{className:"inspector-field inspector-field--actions",children:[s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${l.visible===!1?"is-muted":""}`,onClick:uf,children:l.visible===!1?"Show layer":"Hide layer"}),s.jsx("button",{type:"button",className:`builder-btn inspector-btn ${l.locked?"is-active":""}`,onClick:cf,children:l.locked?"Unlock layer":"Lock layer"}),s.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--danger",onClick:Tf,children:"Delete layer"})]})]});return s.jsxs(s.Fragment,{children:[s.jsxs("section",{ref:c,className:"inspector-panel",style:{width:`${i}px`,right:0,top:0,bottom:0,position:"absolute"},"aria-label":"Layer inspector",children:[s.jsxs("header",{className:"inspector-panel__header",children:[s.jsx("h2",{children:"Inspector"}),s.jsx("span",{className:`inspector-chip ${l?"":"inspector-chip--muted"}`,children:l?l.name:"No layer selected"})]}),s.jsxs("div",{className:"inspector-panel__body inspector-panel__body--unified",children:[zf(),Ff(),!l&&s.jsx("p",{className:"inspector-panel__empty",children:"Select a layer on the canvas to adjust its position, layout, and appearance."}),l&&s.jsxs(s.Fragment,{children:[Af(),Of(),Jd&&Df(),qd&&Uf(),If(),$f()]})]}),s.jsx("div",{className:"inspector-panel__resize-handle",onMouseDown:Zd,"aria-label":"Resize inspector panel"}),s.jsx("input",{type:"file",ref:L,onChange:bf,accept:"image/*",style:{display:"none"}})]}),H&&Oo.createPortal(s.jsxs("div",{ref:He,className:"inspector-shape-modal",role:"dialog","aria-label":"Choose a shape",style:Ct?{position:"absolute",top:`${Ct.top}px`,left:`${Ct.left}px`,width:`${Ct.width}px`,height:`${Ct.height}px`}:{position:"absolute"},children:[s.jsxs("div",{className:"inspector-shape-modal__header",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"Select a shape"}),s.jsx("p",{children:"Search or pick a shape to add or update."})]}),s.jsx("button",{type:"button",className:"inspector-shape-modal__close",onClick:()=>{G(!1),ae(""),_e("all")},"aria-label":"Close shape picker",children:s.jsx("span",{"aria-hidden":"true",children:""})})]}),s.jsx("div",{className:"inspector-field inspector-shape-modal__search",children:s.jsx("input",{type:"search",className:"inspector-field__control",value:ot,onChange:kf,placeholder:"Search shapes","aria-label":"Search shapes",autoFocus:!0})}),s.jsx("div",{className:"inspector-field inspector-shape-modal__filter",children:s.jsx("select",{className:"inspector-field__control",value:at,onChange:Nf,"aria-label":"Filter shapes by category",children:Lm.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})}),s.jsx("div",{className:"inspector-shape-modal__grid",children:Ia.length>0?Ia.map(h=>s.jsxs("button",{type:"button",className:"inspector-shape-modal__item",onClick:()=>df(h),children:[s.jsx("span",{className:`inspector-shape-modal__preview inspector-shape-modal__preview--${h.preview}`,"aria-hidden":"true"}),s.jsxs("span",{className:"inspector-shape-modal__info",children:[s.jsx("span",{className:"inspector-shape-modal__name",children:h.label}),s.jsx("span",{className:"inspector-shape-modal__description",children:h.description})]})]},h.id)):s.jsx("div",{className:"inspector-shape-modal__empty",children:"No shapes match your search."})})]}),document.body)]})}const Om=Wo.forwardRef(function({fonts:t,categories:n,categoryValue:r,onCategoryChange:l,searchTerm:i,onSearchChange:o,onSelect:a,isLoading:u,currentFamily:c,ensureFontLoaded:p,loadMoreFonts:m,loadingMore:y,style:S},k){const x=P.useRef(null),_=P.useRef(null);return P.useEffect(()=>{x.current&&x.current.focus()},[]),P.useEffect(()=>{t.slice(0,32).forEach(f=>{f!=null&&f.family&&p(f.family,f.variants)})},[t,p]),P.useEffect(()=>{const f=_.current;if(!f)return;const d=()=>{const{scrollTop:g,scrollHeight:v,clientHeight:E}=f;g+E>=v-200&&m()};return f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)},[m]),s.jsxs("div",{className:"inspector-font-modal",ref:k,role:"dialog","aria-label":"Choose font",style:S,children:[s.jsxs("div",{className:"inspector-font-modal__header",children:[s.jsx("input",{ref:x,type:"text",className:"inspector-font-modal__search",placeholder:"Search fonts",value:i,onChange:o,"aria-label":"Search fonts"}),s.jsx("select",{className:"inspector-font-modal__filter",value:r,onChange:l,"aria-label":"Filter fonts by category",children:n.map(f=>s.jsx("option",{value:f,children:f==="all"?"All fonts":Do(f)},f))})]}),s.jsxs("div",{className:"inspector-font-modal__list",ref:_,role:"listbox",children:[u&&t.length===0&&s.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[s.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading fonts..."]}),!u&&t.length===0&&s.jsx("div",{className:"inspector-font-modal__status",children:"No fonts match your search."}),t.map(f=>{const d=Gd(f.category),g=d?`${f.family}, ${d}`:f.family,v=c&&f.family.toLowerCase()===c.toLowerCase();return s.jsxs("button",{type:"button",className:`inspector-font-modal__item${v?" is-active":""}`,onClick:()=>a(f.family),style:{fontFamily:g},role:"option","aria-selected":v,children:[s.jsx("span",{className:"inspector-font-modal__item-name",children:f.family}),s.jsx("span",{className:"inspector-font-modal__item-meta",children:Do(f.category)})]},f.family)}),y&&s.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[s.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading more fonts..."]})]})]})});function Ui(e){return!e||typeof e!="string"?"":e.replace(/["']/g,"").split(",")[0].trim()}function Im(e,t){if(!e)return"";const n=e.trim().replace(/\s+/g,"+");let r="";if(Array.isArray(t)){const l=t.filter(i=>/^\d+$/.test(i));l.length>0&&(r=`:wght@${Array.from(new Set(l)).slice(0,4).join(";")}`)}return`https://fonts.googleapis.com/css2?family=${n}${r}&display=swap`}function Gd(e){switch((e||"").toLowerCase()){case"serif":return"serif";case"monospace":return"monospace";case"handwriting":return"cursive";case"display":return"sans-serif";default:return"sans-serif"}}function gu(e){if(!e||typeof e!="string")return"sans-serif";const t=e.toLowerCase();return t.includes("mono")?"monospace":t.includes("serif")?"serif":t.includes("script")||t.includes("cursive")||t.includes("handwriting")?"handwriting":"sans-serif"}function Do(e){return!e||typeof e!="string"?"Mixed":e.split(/[-_\s]+/).filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function gn(e,t,n){return Number.isFinite(e)?Math.min(Math.max(e,t),n):t}function yu(e,t){return e&&typeof e=="object"?{x:lr(e.x),y:lr(e.y),width:Math.max(1,lr(e.width??t.width/2)),height:Math.max(1,lr(e.height??t.height/2.5)),rotation:lr(e.rotation??0)}:{x:Math.round(t.width*.1),y:Math.round(t.height*.1),width:Math.round(t.width*.6),height:Math.round(t.height*.25),rotation:0}}function vu(e,t="#2563eb"){if(typeof e=="string"){const n=e.trim();if(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(n))return n;if(/^#([a-fA-F0-9]{8})$/.test(n))return`#${n.slice(1,7)}`}return t}function lr(e){return Number.isFinite(e)?Math.round(e):0}const Dm=.25,Um=3,$i=.1;function $m(){const{state:e,dispatch:t}=Qt(),n=Math.round(e.zoom*100),r=e.pages.find(p=>p.id===e.activePageId)??e.pages[0],l=p=>{t({type:"UPDATE_ZOOM",value:p})},i=()=>l(e.zoom-$i),o=()=>l(e.zoom+$i),a=()=>l(1),u=p=>{const m=parseInt(p.target.value,10);!isNaN(m)&&m>0&&r&&t({type:"UPDATE_PAGE_PROPS",pageId:r.id,props:{width:m}})},c=p=>{const m=parseInt(p.target.value,10);!isNaN(m)&&m>0&&r&&t({type:"UPDATE_PAGE_PROPS",pageId:r.id,props:{height:m}})};return s.jsxs("div",{className:"canvas-toolbar",role:"toolbar","aria-label":"Canvas controls",children:[s.jsx("div",{className:"canvas-toolbar__group",children:s.jsxs("div",{className:"canvas-toolbar__page-size",children:[s.jsx("label",{className:"canvas-toolbar__label",children:"Page"}),s.jsxs("div",{className:"canvas-toolbar__dimensions",children:[s.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(r==null?void 0:r.width)??400,onChange:u,min:"1",max:"5000","aria-label":"Page width"}),s.jsx("span",{className:"canvas-toolbar__separator",children:""}),s.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(r==null?void 0:r.height)??400,onChange:c,min:"1",max:"5000","aria-label":"Page height"}),s.jsx("span",{className:"canvas-toolbar__unit",children:"px"})]})]})}),s.jsxs("div",{className:"canvas-toolbar__group",children:[s.jsx("button",{type:"button",onClick:i,className:"builder-btn","aria-label":"Zoom out",children:""}),s.jsx("input",{className:"canvas-toolbar__slider",type:"range",min:Dm*100,max:Um*100,step:$i*100,value:n,onChange:p=>l(Number(p.target.value)/100),"aria-label":"Zoom level"}),s.jsx("button",{type:"button",onClick:o,className:"builder-btn","aria-label":"Zoom in",children:"+"})]}),s.jsxs("div",{className:"canvas-toolbar__group",children:[s.jsxs("span",{className:"canvas-toolbar__label",children:[n,"%"]}),s.jsx("button",{type:"button",onClick:a,className:"builder-btn","aria-label":"Reset zoom",children:"Reset"}),s.jsx("button",{type:"button",className:"builder-btn",disabled:!0,"aria-label":"Fit to page",children:"Fit"})]})]})}function xu(e){if(!e)return{top:0,right:0,bottom:0,left:0};const t=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const l=parseFloat(r);return Number.isNaN(l)?0:l}return 0},n=t(e.margin??e.all??0);return{top:t(e.top??n),right:t(e.right??n),bottom:t(e.bottom??n),left:t(e.left??n)}}function wu(e,t,n){const r=n.left,l=t.width-n.right-e.width,i=n.top,o=t.height-n.bottom-e.height;return{...e,x:Math.max(r,Math.min(l,e.x)),y:Math.max(i,Math.min(o,e.y))}}function Kd({page:e}){const{state:t,dispatch:n}=Qt(),r=P.useRef(null),l=P.useRef(null),i=P.useRef(null),[o,a]=P.useState(null),[u,c]=P.useState(null);if(!e)return null;const p=t.zoom??1,m=t.panX??0,y=t.panY??0,S=t.selectedLayerId,k=N=>{n({type:"SELECT_LAYER",layerId:N})},x=N=>{if(N.target.closest(".canvas-layer"))return;const M=N.pointerId;l.current={pointerId:M,start:{x:N.clientX,y:N.clientY},startPan:{x:m,y}};try{N.currentTarget.setPointerCapture(M)}catch{}N.preventDefault()},_=N=>{const M=l.current;if(!M||N.pointerId!==M.pointerId)return;const $=N.clientX-M.start.x,D=N.clientY-M.start.y,j=M.startPan.x+$,O=M.startPan.y+D;n({type:"UPDATE_PAN",panX:j,panY:O})},f=N=>{const M=l.current;if(!(!M||N.pointerId!==M.pointerId)){try{N.currentTarget.releasePointerCapture(M.pointerId)}catch{}l.current=null}},d=(N,M,$)=>{if(M.locked)return;n({type:"BEGIN_LAYER_TRANSFORM"}),a(M.id);const D=N.pointerId;r.current={pointerId:D,layerId:M.id,start:{x:N.clientX,y:N.clientY},startFrame:{...$}};try{N.currentTarget.setPointerCapture(D)}catch{}N.preventDefault()},g=N=>{const M=r.current;if(M&&N.pointerId===M.pointerId){const j=(N.clientX-M.start.x)/p,O=(N.clientY-M.start.y)/p,L={x:M.startFrame.x+j,y:M.startFrame.y+O,width:M.startFrame.width,height:M.startFrame.height,rotation:M.startFrame.rotation??0},H=wu(L,e,F);n({type:"UPDATE_LAYER_FRAME",pageId:e.id,layerId:M.layerId,frame:H,trackHistory:!1});return}const $=i.current;if($&&N.pointerId===$.pointerId){T(N);return}const D=l.current;if(D&&N.pointerId===D.pointerId){const j=N.clientX-D.start.x,O=N.clientY-D.start.y,L=D.startPan.x+j,H=D.startPan.y+O;n({type:"UPDATE_PAN",panX:L,panY:H})}},v=N=>{const M=r.current;if(!(!M||N.pointerId!==M.pointerId)){try{N.currentTarget.releasePointerCapture(M.pointerId)}catch{}r.current=null,a(null)}},E=(N,M,$,D)=>{if(M.locked)return;N.stopPropagation(),n({type:"BEGIN_LAYER_TRANSFORM"}),c(M.id);const j=N.pointerId,O=N.currentTarget;i.current={pointerId:j,layerId:M.id,corner:D,start:{x:N.clientX,y:N.clientY},startFrame:{...$},hasMoved:!1,captureTarget:O};try{O.setPointerCapture(j)}catch(L){console.warn("Failed to capture pointer for resize:",L)}N.preventDefault()},T=N=>{const M=i.current;if(!M||N.pointerId!==M.pointerId)return;const $=(N.clientX-M.start.x)/p,D=(N.clientY-M.start.y)/p,j=3,O=Math.abs($*p)>j||Math.abs(D*p)>j;if(!M.hasMoved&&O&&(M.hasMoved=!0),!M.hasMoved)return;let L={...M.startFrame};switch(M.corner){case"nw":L.width=Math.max(20,M.startFrame.width-$),L.height=Math.max(20,M.startFrame.height-D),L.x=M.startFrame.x+(M.startFrame.width-L.width),L.y=M.startFrame.y+(M.startFrame.height-L.height);break;case"ne":L.width=Math.max(20,M.startFrame.width+$),L.height=Math.max(20,M.startFrame.height-D),L.y=M.startFrame.y+(M.startFrame.height-L.height);break;case"sw":L.width=Math.max(20,M.startFrame.width-$),L.height=Math.max(20,M.startFrame.height+D),L.x=M.startFrame.x+(M.startFrame.width-L.width);break;case"se":L.width=Math.max(20,M.startFrame.width+$),L.height=Math.max(20,M.startFrame.height+D);break}n({type:"UPDATE_LAYER_FRAME",pageId:e.id,layerId:M.layerId,frame:wu(L,e,F),trackHistory:!1})},z=N=>{const M=i.current;if(!(!M||N.pointerId!==M.pointerId)){if(M.captureTarget)try{M.captureTarget.releasePointerCapture(M.pointerId)}catch($){console.warn("Failed to release pointer capture:",$)}M.hasMoved?n({type:"COMMIT_LAYER_TRANSFORM"}):n({type:"CANCEL_LAYER_TRANSFORM"}),i.current=null,c(null)}},F=xu(e.safeZone),X=xu(e.bleed),I=e.shape??null,he=[...Array.isArray(e.nodes)?e.nodes:[]].sort((N,M)=>{const $=N.side||"middle",D=M.side||"middle",j={back:0,middle:1,front:2};return j[$]-j[D]}),Ae=N=>{if(!N)return{};const{variant:M,id:$,borderRadius:D}=N;switch(M){case"circle":return{borderRadius:"50%",overflow:"hidden"};case"polygon":return{clipPath:{triangle:"polygon(50% 0%, 0% 100%, 100% 100%)",diamond:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",hexagon:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",octagon:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",star:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",shield:"polygon(50% 0%, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%)"}[$]||"none",overflow:"hidden"};case"organic":return{clipPath:{heart:'path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z")',"cloud-shape":"ellipse(60% 40% at 50% 50%)",flower:"polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%)",butterfly:"polygon(50% 0%, 70% 20%, 90% 40%, 70% 60%, 50% 80%, 30% 60%, 10% 40%, 30% 20%)",leaf:"polygon(50% 0%, 100% 30%, 90% 70%, 50% 100%, 10% 70%, 0% 30%)",balloon:"ellipse(50% 60% at 50% 50%)",crown:"polygon(50% 0%, 60% 25%, 85% 25%, 75% 50%, 95% 50%, 80% 75%, 100% 75%, 85% 100%, 15% 100%, 0% 75%, 20% 75%, 5% 50%, 25% 50%, 15% 25%, 40% 25%)","puzzle-piece":"polygon(0% 0%, 70% 0%, 70% 30%, 100% 30%, 100% 70%, 70% 70%, 70% 100%, 30% 100%, 30% 70%, 0% 70%)","ribbon-banner":"polygon(0% 0%, 10% 50%, 0% 100%, 100% 100%, 90% 50%, 100% 0%)"}[$]||"none",overflow:"hidden"};case"frame":return{borderRadius:typeof D=="number"?`${D}px`:D||0,overflow:"hidden"};case"tag":return{clipPath:{"tag-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)","ticket-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)"}[$]||"none",overflow:"hidden"};case"layout":return{borderRadius:typeof D=="number"?`${D}px`:D||0,overflow:"hidden"};case"rectangle":default:return{borderRadius:typeof D=="number"?`${D}px`:D||0,overflow:"hidden"}}};return s.jsx("section",{className:"canvas-viewport","aria-label":"Template canvas",children:s.jsx("div",{className:"canvas-viewport__surface",role:"img","aria-label":`Design surface for ${e.name}`,onPointerDown:x,onPointerMove:_,onPointerUp:f,onPointerCancel:f,children:s.jsx("div",{className:"canvas-viewport__stage",style:Bm(p,e,m,y),children:s.jsxs("div",{className:"canvas-viewport__page",style:{width:e.width,height:e.height,background:e.background||"#ffffff",...Ae(I)},onClick:()=>k(null),"data-zoom":p,children:[s.jsx("div",{className:"canvas-viewport__grid","aria-hidden":"true"}),s.jsx("div",{className:"canvas-viewport__bleed",style:_u(X),"aria-hidden":"true"}),s.jsx("div",{className:"canvas-viewport__safe-zone",style:_u(F),"aria-hidden":"true"}),he.length===0&&s.jsxs("div",{className:"canvas-viewport__empty-state",children:[s.jsx("h2",{children:"Canvas ready"}),s.jsx("p",{children:"Start by selecting a tool on the left. You can add live text, image placeholders, or vector shapes."})]}),he.map((N,M)=>{const $=Wm(N,M,e),D=N.id===S,j=N.visible===!1,O=N.locked===!0,L=N.type==="text",H=N.type==="image",G=N.type==="shape",ot=N.id===o,ae=(N==null?void 0:N.metadata)??{},at=typeof ae.objectFit=="string"?ae.objectFit:"cover",_e=Number(ae.imageScale),He=Number.isFinite(_e)?Bi(_e,.25,4):1,mt=Number(ae.imageOffsetX),Ct=Number(ae.imageOffsetY),Vn=Number.isFinite(mt)?Bi(mt,-500,500):0,si=Number.isFinite(Ct)?Bi(Ct,-500,500):0,Xn=!!ae.flipHorizontal,Br=!!ae.flipVertical,pn=Xn?-He:He,Ze=Br?-He:He,st=N.id===u,ye=Hm(N,$,{hidden:j,opacity:N.opacity,isSelected:D});return s.jsxs("div",{className:`canvas-layer${D?" is-selected":""}${j?" is-hidden":""}${O?" is-locked":""}${L?" is-text":""}${H?" is-image":""}${ot?" is-dragging":""}${st?" is-resizing":""}`,style:ye,role:"button",tabIndex:0,onClick:b=>{b.stopPropagation(),k(N.id)},onPointerDown:b=>{b.target.classList.contains("canvas-layer__resize-handle")||b.target.closest(".canvas-layer__resize-handle")||(k(N.id),d(b,N,$))},onPointerMove:g,onPointerUp:b=>{z(b),v(b)},onPointerCancel:b=>{z(b),v(b)},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),k(N.id))},"aria-label":`${N.name} layer`,"aria-pressed":D,"data-layer-id":N.id,children:[L&&s.jsx("div",{className:"canvas-layer__text",style:{color:N.fill||"#0f172a",fontSize:N.fontSize?`${N.fontSize}px`:void 0,fontFamily:N.fontFamily,fontWeight:N.fontWeight??void 0,textAlign:N.textAlign??"center"},children:N.content||"Add your text"}),H&&N.content&&typeof N.content=="string"&&(N.content.startsWith("data:")||N.content.startsWith("blob:"))&&s.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[s.jsx("img",{src:N.content,alt:N.name||"Uploaded image",className:"canvas-layer__image",style:{width:"100%",height:"100%",objectFit:at,borderRadius:N.borderRadius??0,display:"block",transform:`translate(${Vn}px, ${si}px) scale(${pn}, ${Ze})`,transformOrigin:"center"},onError:b=>{var Gt,hn;console.error("Failed to load image:",((Gt=N.content)==null?void 0:Gt.substring(0,100))+"..."),b.target.style.display="none";const ut=(hn=b.target.parentElement)==null?void 0:hn.querySelector(".image-error");ut&&(ut.style.display="flex")},onLoad:b=>{var Gt;console.log("Image loaded successfully:",N.name),b.target.style.display="block";const ut=(Gt=b.target.parentElement)==null?void 0:Gt.querySelector(".image-error");ut&&(ut.style.display="none")}}),s.jsxs("div",{className:"image-error",style:{display:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem",fontSize:"0.8rem",color:"rgba(239, 68, 68, 0.8)",textAlign:"center",padding:"0.5rem",background:"rgba(255, 255, 255, 0.9)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[s.jsx("span",{children:""}),s.jsx("p",{children:"Failed to load image"})]})]}),D&&H&&N.content&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--nw",onPointerDown:b=>{b.stopPropagation(),E(b,N,$,"nw")},onClick:b=>b.stopPropagation(),style:{position:"absolute",top:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"nw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:b=>{b.currentTarget.style.transform="scale(1.2)",b.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:b=>{b.currentTarget.style.transform="scale(1)",b.currentTarget.style.backgroundColor="#3b82f6"},children:s.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),s.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--ne",onPointerDown:b=>{b.stopPropagation(),E(b,N,$,"ne")},onClick:b=>b.stopPropagation(),style:{position:"absolute",top:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"ne-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:b=>{b.currentTarget.style.transform="scale(1.2)",b.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:b=>{b.currentTarget.style.transform="scale(1)",b.currentTarget.style.backgroundColor="#3b82f6"},children:s.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),s.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--sw",onPointerDown:b=>{b.stopPropagation(),E(b,N,$,"sw")},onClick:b=>b.stopPropagation(),style:{position:"absolute",bottom:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"sw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:b=>{b.currentTarget.style.transform="scale(1.2)",b.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:b=>{b.currentTarget.style.transform="scale(1)",b.currentTarget.style.backgroundColor="#3b82f6"},children:s.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),s.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--se",onPointerDown:b=>{b.stopPropagation(),E(b,N,$,"se")},onClick:b=>b.stopPropagation(),style:{position:"absolute",bottom:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"se-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:b=>{b.currentTarget.style.transform="scale(1.2)",b.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:b=>{b.currentTarget.style.transform="scale(1)",b.currentTarget.style.backgroundColor="#3b82f6"},children:s.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})})]}),G&&!L&&!H&&s.jsx("span",{className:"canvas-layer__label",children:N.name})]},N.id)})]})})})})}Kd.propTypes={page:ce.shape({id:ce.string.isRequired,name:ce.string.isRequired,width:ce.number.isRequired,height:ce.number.isRequired,nodes:ce.array}).isRequired};function Bm(e,t,n,r){return{transform:`translate(${n}px, ${r}px) scale(${e})`,transformOrigin:"top left",width:t.width,height:t.height}}function Hm(e,t,{hidden:n,opacity:r,isSelected:l}){const i=n?.35:Math.max(.1,r??1),o={left:t.x,top:t.y,width:t.width,height:t.height,opacity:i,borderColor:e.stroke??"rgba(15, 23, 42, 0.18)",borderRadius:e.borderRadius??0,transform:t.rotation?`rotate(${t.rotation}deg)`:void 0,transformOrigin:"center"};return e.type==="text"?(o.background="transparent",o.borderStyle="dashed",o.borderWidth=1):e.type==="image"?e.content?(o.background="transparent",o.borderStyle="solid",o.borderWidth=2,o.borderColor=l?"#3b82f6":"transparent"):(o.background="transparent",o.borderStyle="dashed",o.borderWidth=2,o.borderColor=l?"#3b82f6":"rgba(148, 163, 184, 0.3)"):(o.background=e.fill?Ym(e.fill,e.opacity):"rgba(37, 99, 235, 0.12)",o.borderStyle="solid",o.borderWidth=1),o}function _u({top:e,right:t,bottom:n,left:r}){return{top:e,right:t,bottom:n,left:r}}function Wm(e,t,n){const{width:r,height:l}=n,i=e.frame;if(i)return{x:i.x,y:i.y,width:i.width,height:i.height,rotation:i.rotation??0};const o=48,a=r*.6,u=Math.min(160,l*.18),c=t*32;return{x:o+c%120,y:o+c,width:a,height:u,rotation:0}}function Ym(e,t=1){return typeof e!="string"?e||"rgba(37, 99, 235, 0.12)":t>=.999?e:Vm(e,t)||e}function Vm(e,t){if(!e)return null;if(e.startsWith("#")){const n=e.slice(1),r=parseInt(n,16);if(Number.isNaN(r))return null;const l=n.length===8,i=r>>(l?24:16)&255,o=r>>(l?16:8)&255,a=r>>(l?8:0)&255;return`rgba(${i}, ${o}, ${a}, ${t})`}if(e.startsWith("rgb")){const n=e.match(/rgba?\(([^)]+)\)/);if(!n)return null;const r=n[1].split(",").map(a=>Number.parseFloat(a.trim())).filter((a,u)=>u<3&&Number.isFinite(a));if(r.length!==3)return null;const[l,i,o]=r;return`rgba(${l}, ${i}, ${o}, ${t})`}return null}function Bi(e,t,n){return!Number.isFinite(e)||e<t?t:e>n?n:e}function Xm(e,t){switch(e){case"saving":return"Autosaving...";case"dirty":return"Unsaved changes";case"error":return"Autosave failed";case"saved":{if(!t)return"All changes saved";const n=new Date(t);return Number.isNaN(n.getTime())?"All changes saved":`Saved at ${n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}case"idle":default:if(t){const n=new Date(t);if(!Number.isNaN(n.getTime()))return`Last saved at ${n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return"Ready"}}function Aa({autosaveStatus:e,lastSavedAt:t}){var m,y;const{state:n,dispatch:r,routes:l}=Qt(),i=((m=n.template)==null?void 0:m.name)??"Untitled template",o=()=>r({type:"UNDO"}),a=()=>r({type:"REDO"}),u=Xm(e,t),c=e==="saving",p=e==="error";return s.jsxs("header",{className:"builder-topbar",role:"banner",children:[s.jsxs("div",{className:"builder-topbar__left",children:[s.jsx("a",{href:l.index,className:"builder-topbar__back","aria-label":"Back to templates",children:" Templates"}),s.jsxs("div",{className:"builder-topbar__title",children:[s.jsx("span",{className:"builder-topbar__template-name",title:i,children:i}),((y=n.template)==null?void 0:y.category)&&s.jsx("span",{className:"builder-topbar__meta",children:n.template.category})]})]}),s.jsxs("div",{className:"builder-topbar__center",role:"toolbar","aria-label":"Canvas actions",children:[s.jsx("button",{type:"button",onClick:o,className:"builder-btn","aria-label":"Undo",children:"Undo"}),s.jsx("button",{type:"button",onClick:a,className:"builder-btn","aria-label":"Redo",children:"Redo"}),s.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle rulers",disabled:!0,children:"Rulers"}),s.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle guides",disabled:!0,children:"Guides"})]}),s.jsxs("div",{className:"builder-topbar__right",children:[s.jsx("span",{className:`builder-topbar__status${c?" builder-topbar__status--saving":""}${p?" builder-topbar__status--error":""}`,role:"status","aria-live":"polite",children:u}),s.jsx("button",{type:"button",className:"builder-btn","aria-label":"Preview",disabled:!0,children:"Preview"}),s.jsx("button",{type:"button",className:"builder-btn builder-btn--primary","aria-label":"Save template",disabled:!0,children:"Save template"})]})]})}Aa.propTypes={autosaveStatus:ce.string,lastSavedAt:ce.string};Aa.defaultProps={autosaveStatus:"idle",lastSavedAt:null};function Qm(){const{state:e}=Qt(),t=e.pages.find(a=>a.id===e.activePageId)??e.pages[0],n=Array.isArray(t==null?void 0:t.nodes)?t.nodes:[];n.find(a=>a.id===e.selectedLayerId);const r=Math.round((e.zoom??1)*100),l=e.history.undoStack.length,i=e.history.redoStack.length,o=n.length;return s.jsxs("footer",{className:"builder-statusbar",role:"contentinfo","aria-live":"polite",children:[s.jsxs("div",{className:"builder-statusbar__segment",children:["Page: ",t.name," (",t.width,"  ",t.height,"px)"]}),s.jsxs("div",{className:"builder-statusbar__segment",children:["Layers: ",o]}),s.jsxs("div",{className:"builder-statusbar__segment",children:["Zoom: ",r,"%"]}),s.jsxs("div",{className:"builder-statusbar__segment",children:["History: ",l," undo  ",i," redo"]})]})}const Su=.1,Gm=.25,Km=3;function ku(e){return Math.min(Math.max(e,Gm),Km)}function Zm(){const{state:e,dispatch:t}=Qt();return P.useEffect(()=>{const n=r=>{if(r.defaultPrevented)return;const l=r.target;if(l instanceof HTMLElement){const c=l.tagName;if(l.isContentEditable||c==="INPUT"||c==="TEXTAREA"||c==="SELECT")return}const i=e.pages.find(c=>c.id===e.activePageId)??e.pages[0],o=e.selectedLayerId,a=i==null?void 0:i.nodes.find(c=>c.id===o);if(r.ctrlKey||r.metaKey){let c=!1,p=e.zoom??1;switch(r.key){case"=":case"+":p=ku(p+Su),c=!0;break;case"-":case"_":p=ku(p-Su),c=!0;break;case"0":p=1,c=!0;break}c&&(r.preventDefault(),t({type:"UPDATE_ZOOM",value:p}));return}if(!(!i||!a||a.locked))switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{const c=r.shiftKey?10:1;let p=0,m=0;r.key==="ArrowLeft"&&(p=-c),r.key==="ArrowRight"&&(p=c),r.key==="ArrowUp"&&(m=-c),r.key==="ArrowDown"&&(m=c),t({type:"BEGIN_LAYER_TRANSFORM"}),t({type:"NUDGE_LAYER",pageId:i.id,layerId:o,dx:p,dy:m,trackHistory:!1}),r.preventDefault();break}case"Delete":case"Backspace":{window.confirm(`Delete "${a.name}"? You can undo this action if needed.`)&&(t({type:"REMOVE_LAYER",pageId:i.id,layerId:o}),r.preventDefault());break}}};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t,e]),null}function Jm(e){return{pages:Array.isArray(e.pages)?e.pages.map(n=>({id:n.id,name:n.name,width:n.width,height:n.height,background:n.background,safeZone:n.safeZone??null,bleed:n.bleed??null,metadata:n.metadata??{},nodes:Array.isArray(n.nodes)?n.nodes.map(r=>({id:r.id,name:r.name,type:r.type,visible:r.visible!==!1,locked:!!r.locked,opacity:typeof r.opacity=="number"?r.opacity:1,frame:r.frame?{...r.frame}:null,fill:r.fill??null,stroke:r.stroke??null,content:r.content??"",fontSize:r.fontSize??null,fontFamily:r.fontFamily??null,fontWeight:r.fontWeight??null,textAlign:r.textAlign??null,borderRadius:r.borderRadius??0,variant:r.variant??null,metadata:r.metadata??{}})):[]})):[],activePageId:e.activePageId??null,selectedLayerId:e.selectedLayerId??null,canvas:{zoom:e.zoom??1,panX:e.panX??0,panY:e.panY??0}}}function qm(){var x,_;const{state:e,routes:t,csrfToken:n}=Qt(),r=e.pages.find(f=>f.id===e.activePageId)??e.pages[0],[l,i]=P.useState(!1),[o,a]=P.useState("idle"),[u,c]=P.useState(((x=e.template)==null?void 0:x.updated_at)??null),p=P.useRef(null),m=P.useRef(null),y=P.useRef(null),S=P.useRef(!0),k=()=>{i(!l)};return P.useEffect(()=>()=>{p.current&&(clearTimeout(p.current),p.current=null),y.current&&y.current.abort()},[]),P.useEffect(()=>{if(!(t!=null&&t.autosave)||!n)return;const f=Jm(e),d=JSON.stringify(f);if(S.current){S.current=!1,m.current=d;return}if(d!==m.current)return m.current=d,p.current&&clearTimeout(p.current),a("dirty"),p.current=setTimeout(()=>{var v;if(!(t!=null&&t.autosave)||!n)return;y.current&&y.current.abort();const g=new AbortController;y.current=g,a("saving"),fetch(t.autosave,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":n},credentials:"same-origin",body:JSON.stringify({design:f,canvas:f.canvas,template_name:((v=e.template)==null?void 0:v.name)??null}),signal:g.signal}).then(async E=>{if(!E.ok){const T=await E.text();throw new Error(T||"Autosave request failed")}return E.json()}).then(E=>{a("saved"),E!=null&&E.saved_at&&c(E.saved_at),y.current===g&&(y.current=null)}).catch(E=>{g.signal.aborted||(y.current===g&&(y.current=null),console.error("[InkWise Builder] Autosave failed:",E),a("error"),m.current=null)})},1500),()=>{p.current&&(clearTimeout(p.current),p.current=null)}},[e.pages,(_=e.template)==null?void 0:_.name,e.zoom,e.panX,e.panY,e.activePageId,t==null?void 0:t.autosave,n]),s.jsxs("div",{className:"builder-shell",role:"application","aria-label":"InkWise template builder",children:[s.jsx(Zm,{}),s.jsx(Aa,{autosaveStatus:o,lastSavedAt:u}),s.jsxs("div",{className:"builder-workspace",style:{gridTemplateColumns:l?"60px minmax(0, 1fr) 340px":"600px minmax(0, 1fr) 340px"},children:[s.jsx(Mm,{isSidebarHidden:l,onToggleSidebar:k}),s.jsxs("main",{className:"builder-canvas-column","aria-live":"polite",children:[s.jsx("div",{className:"builder-canvas-header",children:s.jsx($m,{})}),s.jsx(Kd,{page:r}),s.jsx(Qm,{})]}),s.jsx("aside",{className:"builder-right-column","aria-label":"Inspector panels",children:s.jsx(Am,{})})]})]})}function Oa({bootstrap:e}){const t=(e==null?void 0:e.template)??{},n=(e==null?void 0:e.routes)??{},r=(e==null?void 0:e.flags)??{},l=(e==null?void 0:e.user)??null,i=(e==null?void 0:e.csrfToken)??"";return s.jsx(Fa,{template:t,routes:n,flags:r,user:l,csrfToken:i,children:s.jsx(qm,{})})}Oa.propTypes={bootstrap:ce.shape({template:ce.object,routes:ce.object,flags:ce.object,user:ce.object,csrfToken:ce.string})};Oa.defaultProps={bootstrap:{}};function eg(){const e=document.getElementById("inkwise-builder-bootstrap");if(!e)return console.warn("[InkWise Builder] Bootstrap JSON not found. Falling back to legacy window payload."),window.inkwiseTemplateBootstrap||{};try{return JSON.parse(e.textContent||"{}")}catch(t){return console.error("[InkWise Builder] Failed to parse bootstrap JSON.",t),{}}}const tg=eg(),Hi=document.getElementById("template-builder-app");Hi?(Hi.classList.add("inkwise-builder--hydrated"),Od(Hi).render(s.jsx(Wo.StrictMode,{children:s.jsx(Oa,{bootstrap:tg})}))):console.error("[InkWise Builder] Root element not found.");
