function Uc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Ta={exports:{}},gi={},La={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc;function bf(){if(gc)return me;gc=1;var l=Symbol.for("react.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),z=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.iterator;function I(y){return y===null||typeof y!="object"?null:(y=j&&y[j]||y["@@iterator"],typeof y=="function"?y:null)}var le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,W={};function E(y,P,ue){this.props=y,this.context=P,this.refs=W,this.updater=ue||le}E.prototype.isReactComponent={},E.prototype.setState=function(y,P){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,P,"setState")},E.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function Q(){}Q.prototype=E.prototype;function de(y,P,ue){this.props=y,this.context=P,this.refs=W,this.updater=ue||le}var we=de.prototype=new Q;we.constructor=de,ae(we,E.prototype),we.isPureReactComponent=!0;var J=Array.isArray,se=Object.prototype.hasOwnProperty,Se={current:null},Ce={key:!0,ref:!0,__self:!0,__source:!0};function Ne(y,P,ue){var re,pe={},fe=null,ge=null;if(P!=null)for(re in P.ref!==void 0&&(ge=P.ref),P.key!==void 0&&(fe=""+P.key),P)se.call(P,re)&&!Ce.hasOwnProperty(re)&&(pe[re]=P[re]);var he=arguments.length-2;if(he===1)pe.children=ue;else if(1<he){for(var ve=Array(he),We=0;We<he;We++)ve[We]=arguments[We+2];pe.children=ve}if(y&&y.defaultProps)for(re in he=y.defaultProps,he)pe[re]===void 0&&(pe[re]=he[re]);return{$$typeof:l,type:y,key:fe,ref:ge,props:pe,_owner:Se.current}}function qe(y,P){return{$$typeof:l,type:y.type,key:P,ref:y.ref,props:y.props,_owner:y._owner}}function be(y){return typeof y=="object"&&y!==null&&y.$$typeof===l}function Ve(y){var P={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(ue){return P[ue]})}var Te=/\/+/g;function Oe(y,P){return typeof y=="object"&&y!==null&&y.key!=null?Ve(""+y.key):P.toString(36)}function M(y,P,ue,re,pe){var fe=typeof y;(fe==="undefined"||fe==="boolean")&&(y=null);var ge=!1;if(y===null)ge=!0;else switch(fe){case"string":case"number":ge=!0;break;case"object":switch(y.$$typeof){case l:case a:ge=!0}}if(ge)return ge=y,pe=pe(ge),y=re===""?"."+Oe(ge,0):re,J(pe)?(ue="",y!=null&&(ue=y.replace(Te,"$&/")+"/"),M(pe,P,ue,"",function(We){return We})):pe!=null&&(be(pe)&&(pe=qe(pe,ue+(!pe.key||ge&&ge.key===pe.key?"":(""+pe.key).replace(Te,"$&/")+"/")+y)),P.push(pe)),1;if(ge=0,re=re===""?".":re+":",J(y))for(var he=0;he<y.length;he++){fe=y[he];var ve=re+Oe(fe,he);ge+=M(fe,P,ue,ve,pe)}else if(ve=I(y),typeof ve=="function")for(y=ve.call(y),he=0;!(fe=y.next()).done;)fe=fe.value,ve=re+Oe(fe,he++),ge+=M(fe,P,ue,ve,pe);else if(fe==="object")throw P=String(y),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ge}function F(y,P,ue){if(y==null)return y;var re=[],pe=0;return M(y,re,"","",function(fe){return P.call(ue,fe,pe++)}),re}function q(y){if(y._status===-1){var P=y._result;P=P(),P.then(function(ue){(y._status===0||y._status===-1)&&(y._status=1,y._result=ue)},function(ue){(y._status===0||y._status===-1)&&(y._status=2,y._result=ue)}),y._status===-1&&(y._status=0,y._result=P)}if(y._status===1)return y._result.default;throw y._result}var V={current:null},A={transition:null},Y={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:A,ReactCurrentOwner:Se};function L(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:F,forEach:function(y,P,ue){F(y,function(){P.apply(this,arguments)},ue)},count:function(y){var P=0;return F(y,function(){P++}),P},toArray:function(y){return F(y,function(P){return P})||[]},only:function(y){if(!be(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},me.Component=E,me.Fragment=c,me.Profiler=f,me.PureComponent=de,me.StrictMode=g,me.Suspense=R,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,me.act=L,me.cloneElement=function(y,P,ue){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var re=ae({},y.props),pe=y.key,fe=y.ref,ge=y._owner;if(P!=null){if(P.ref!==void 0&&(fe=P.ref,ge=Se.current),P.key!==void 0&&(pe=""+P.key),y.type&&y.type.defaultProps)var he=y.type.defaultProps;for(ve in P)se.call(P,ve)&&!Ce.hasOwnProperty(ve)&&(re[ve]=P[ve]===void 0&&he!==void 0?he[ve]:P[ve])}var ve=arguments.length-2;if(ve===1)re.children=ue;else if(1<ve){he=Array(ve);for(var We=0;We<ve;We++)he[We]=arguments[We+2];re.children=he}return{$$typeof:l,type:y.type,key:pe,ref:fe,props:re,_owner:ge}},me.createContext=function(y){return y={$$typeof:z,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},y.Provider={$$typeof:C,_context:y},y.Consumer=y},me.createElement=Ne,me.createFactory=function(y){var P=Ne.bind(null,y);return P.type=y,P},me.createRef=function(){return{current:null}},me.forwardRef=function(y){return{$$typeof:S,render:y}},me.isValidElement=be,me.lazy=function(y){return{$$typeof:k,_payload:{_status:-1,_result:y},_init:q}},me.memo=function(y,P){return{$$typeof:_,type:y,compare:P===void 0?null:P}},me.startTransition=function(y){var P=A.transition;A.transition={};try{y()}finally{A.transition=P}},me.unstable_act=L,me.useCallback=function(y,P){return V.current.useCallback(y,P)},me.useContext=function(y){return V.current.useContext(y)},me.useDebugValue=function(){},me.useDeferredValue=function(y){return V.current.useDeferredValue(y)},me.useEffect=function(y,P){return V.current.useEffect(y,P)},me.useId=function(){return V.current.useId()},me.useImperativeHandle=function(y,P,ue){return V.current.useImperativeHandle(y,P,ue)},me.useInsertionEffect=function(y,P){return V.current.useInsertionEffect(y,P)},me.useLayoutEffect=function(y,P){return V.current.useLayoutEffect(y,P)},me.useMemo=function(y,P){return V.current.useMemo(y,P)},me.useReducer=function(y,P,ue){return V.current.useReducer(y,P,ue)},me.useRef=function(y){return V.current.useRef(y)},me.useState=function(y){return V.current.useState(y)},me.useSyncExternalStore=function(y,P,ue){return V.current.useSyncExternalStore(y,P,ue)},me.useTransition=function(){return V.current.useTransition()},me.version="18.3.1",me}var yc;function Qa(){return yc||(yc=1,La.exports=bf()),La.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc;function Tf(){if(vc)return gi;vc=1;var l=Qa(),a=Symbol.for("react.element"),c=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function z(S,R,_){var k,j={},I=null,le=null;_!==void 0&&(I=""+_),R.key!==void 0&&(I=""+R.key),R.ref!==void 0&&(le=R.ref);for(k in R)g.call(R,k)&&!C.hasOwnProperty(k)&&(j[k]=R[k]);if(S&&S.defaultProps)for(k in R=S.defaultProps,R)j[k]===void 0&&(j[k]=R[k]);return{$$typeof:a,type:S,key:I,ref:le,props:j,_owner:f.current}}return gi.Fragment=c,gi.jsx=z,gi.jsxs=z,gi}var xc;function Lf(){return xc||(xc=1,Ta.exports=Tf()),Ta.exports}var u=Lf(),U=Qa();const Ga=Uc(U);var Ul={},za={exports:{}},pt={},Fa={exports:{}},Aa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc;function zf(){return wc||(wc=1,(function(l){function a(A,Y){var L=A.length;A.push(Y);e:for(;0<L;){var y=L-1>>>1,P=A[y];if(0<f(P,Y))A[y]=Y,A[L]=P,L=y;else break e}}function c(A){return A.length===0?null:A[0]}function g(A){if(A.length===0)return null;var Y=A[0],L=A.pop();if(L!==Y){A[0]=L;e:for(var y=0,P=A.length,ue=P>>>1;y<ue;){var re=2*(y+1)-1,pe=A[re],fe=re+1,ge=A[fe];if(0>f(pe,L))fe<P&&0>f(ge,pe)?(A[y]=ge,A[fe]=L,y=fe):(A[y]=pe,A[re]=L,y=re);else if(fe<P&&0>f(ge,L))A[y]=ge,A[fe]=L,y=fe;else break e}}return Y}function f(A,Y){var L=A.sortIndex-Y.sortIndex;return L!==0?L:A.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var C=performance;l.unstable_now=function(){return C.now()}}else{var z=Date,S=z.now();l.unstable_now=function(){return z.now()-S}}var R=[],_=[],k=1,j=null,I=3,le=!1,ae=!1,W=!1,E=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function we(A){for(var Y=c(_);Y!==null;){if(Y.callback===null)g(_);else if(Y.startTime<=A)g(_),Y.sortIndex=Y.expirationTime,a(R,Y);else break;Y=c(_)}}function J(A){if(W=!1,we(A),!ae)if(c(R)!==null)ae=!0,q(se);else{var Y=c(_);Y!==null&&V(J,Y.startTime-A)}}function se(A,Y){ae=!1,W&&(W=!1,Q(Ne),Ne=-1),le=!0;var L=I;try{for(we(Y),j=c(R);j!==null&&(!(j.expirationTime>Y)||A&&!Ve());){var y=j.callback;if(typeof y=="function"){j.callback=null,I=j.priorityLevel;var P=y(j.expirationTime<=Y);Y=l.unstable_now(),typeof P=="function"?j.callback=P:j===c(R)&&g(R),we(Y)}else g(R);j=c(R)}if(j!==null)var ue=!0;else{var re=c(_);re!==null&&V(J,re.startTime-Y),ue=!1}return ue}finally{j=null,I=L,le=!1}}var Se=!1,Ce=null,Ne=-1,qe=5,be=-1;function Ve(){return!(l.unstable_now()-be<qe)}function Te(){if(Ce!==null){var A=l.unstable_now();be=A;var Y=!0;try{Y=Ce(!0,A)}finally{Y?Oe():(Se=!1,Ce=null)}}else Se=!1}var Oe;if(typeof de=="function")Oe=function(){de(Te)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=Te,Oe=function(){F.postMessage(null)}}else Oe=function(){E(Te,0)};function q(A){Ce=A,Se||(Se=!0,Oe())}function V(A,Y){Ne=E(function(){A(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_continueExecution=function(){ae||le||(ae=!0,q(se))},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return I},l.unstable_getFirstCallbackNode=function(){return c(R)},l.unstable_next=function(A){switch(I){case 1:case 2:case 3:var Y=3;break;default:Y=I}var L=I;I=Y;try{return A()}finally{I=L}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(A,Y){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=I;I=A;try{return Y()}finally{I=L}},l.unstable_scheduleCallback=function(A,Y,L){var y=l.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?y+L:y):L=y,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,A={id:k++,callback:Y,priorityLevel:A,startTime:L,expirationTime:P,sortIndex:-1},L>y?(A.sortIndex=L,a(_,A),c(R)===null&&A===c(_)&&(W?(Q(Ne),Ne=-1):W=!0,V(J,L-y))):(A.sortIndex=P,a(R,A),ae||le||(ae=!0,q(se))),A},l.unstable_shouldYield=Ve,l.unstable_wrapCallback=function(A){var Y=I;return function(){var L=I;I=Y;try{return A.apply(this,arguments)}finally{I=L}}}})(Aa)),Aa}var _c;function Ff(){return _c||(_c=1,Fa.exports=zf()),Fa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc;function Af(){if(Sc)return pt;Sc=1;var l=Qa(),a=Ff();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=new Set,f={};function C(e,t){z(e,t),z(e+"Capture",t)}function z(e,t){for(f[e]=t,e=0;e<t.length;e++)g.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},j={};function I(e){return R.call(j,e)?!0:R.call(k,e)?!1:_.test(e)?j[e]=!0:(k[e]=!0,!1)}function le(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ae(e,t,n,r){if(t===null||typeof t>"u"||le(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function W(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new W(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new W(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new W(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new W(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new W(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new W(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new W(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new W(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new W(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function de(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q,de);E[t]=new W(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q,de);E[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q,de);E[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new W(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new W(e,1,!1,e.toLowerCase(),null,!0,!0)});function we(e,t,n,r){var i=E.hasOwnProperty(t)?E[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ae(t,n,i,r)&&(n=null),r||i===null?I(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var J=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),Se=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),A=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,y;function P(e){if(y===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);y=t&&t[1]||""}return`
`+y+e}var ue=!1;function re(e,t){if(!e||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var i=w.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,d=o.length-1;1<=s&&0<=d&&i[s]!==o[d];)d--;for(;1<=s&&0<=d;s--,d--)if(i[s]!==o[d]){if(s!==1||d!==1)do if(s--,d--,0>d||i[s]!==o[d]){var p=`
`+i[s].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=s&&0<=d);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function pe(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ce:return"Fragment";case Se:return"Portal";case qe:return"Profiler";case Ne:return"StrictMode";case Oe:return"Suspense";case M:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ve:return(e.displayName||"Context")+".Consumer";case be:return(e._context.displayName||"Context")+".Provider";case Te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function We(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jt(e){e._valueTracker||(e._valueTracker=We(e))}function en(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ve(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ot(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ot(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=he(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ht(e,t){t=t.checked,t!=null&&we(e,"checked",t,!1)}function Ie(e,t){ht(e,t);var n=he(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?at(e,t.type,n):t.hasOwnProperty("defaultValue")&&at(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function at(e,t,n){(t!=="number"||Wt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mt=Array.isArray;function gt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+he(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(mt(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:he(n)}}function wi(e,t){var n=he(t.value),r=he(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zn,_i=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(e){Si.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nn[t]=nn[e]})});function Tr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nn.hasOwnProperty(e)&&nn[e]?(""+t).trim():t+"px"}function Lr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ki=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(e,t){if(t){if(ki[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function Jn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var er=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fr=null,rn=null,ln=null;function Ni(e){if(e=ti(e)){if(typeof Fr!="function")throw Error(c(280));var t=e.stateNode;t&&(t=tl(t),Fr(e.stateNode,e.type,t))}}function Ei(e){rn?ln?ln.push(e):ln=[e]:rn=e}function Ci(){if(rn){var e=rn,t=ln;if(ln=rn=null,Ni(e),t)for(e=0;e<t.length;e++)Ni(t[e])}}function Ar(e,t){return e(t)}function Mi(){}var ke=!1;function ji(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ar(e,t,n)}finally{ke=!1,(rn!==null||ln!==null)&&(Mi(),Ci())}}function Pn(e,t){var n=e.stateNode;if(n===null)return null;var r=tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var tr=!1;if(S)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{tr=!1}function bn(e,t,n,r,i,o,s,d,p){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(T){this.onError(T)}}var on=!1,nr=null,rr=!1,Or=null,Yl={onError:function(e){on=!0,nr=e}};function Vl(e,t,n,r,i,o,s,d,p){on=!1,nr=null,bn.apply(Yl,arguments)}function Xl(e,t,n,r,i,o,s,d,p){if(Vl.apply(this,arguments),on){if(on){var w=nr;on=!1,nr=null}else throw Error(c(198));rr||(rr=!0,Or=w)}}function $t(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ri(e){if($t(e)!==e)throw Error(c(188))}function Ql(e){var t=e.alternate;if(!t){if(t=$t(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ri(i),e;if(o===r)return Ri(i),t;o=o.sibling}throw Error(c(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,d=i.child;d;){if(d===n){s=!0,n=i,r=o;break}if(d===r){s=!0,r=i,n=o;break}d=d.sibling}if(!s){for(d=o.child;d;){if(d===n){s=!0,n=o,r=i;break}if(d===r){s=!0,r=o,n=i;break}d=d.sibling}if(!s)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function bi(e){return e=Ql(e),e!==null?Ti(e):null}function Ti(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ti(e);if(t!==null)return t;e=e.sibling}return null}var Li=a.unstable_scheduleCallback,zi=a.unstable_cancelCallback,Gl=a.unstable_shouldYield,Kl=a.unstable_requestPaint,Le=a.unstable_now,Fi=a.unstable_getCurrentPriorityLevel,Ir=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,ir=a.unstable_NormalPriority,Zl=a.unstable_LowPriority,Oi=a.unstable_IdlePriority,lr=null,St=null;function ql(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(lr,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:to,Jl=Math.log,eo=Math.LN2;function to(e){return e>>>=0,e===0?32:31-(Jl(e)/eo|0)|0}var or=64,Tn=4194304;function an(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ln(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var d=s&~i;d!==0?r=an(d):(o&=s,o!==0&&(r=an(o)))}else s=n&~i,s!==0?r=an(s):o!==0&&(r=an(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),i=1<<n,r|=e[n],t&=~i;return r}function Ii(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yt(o),d=1<<s,p=i[s];p===-1?((d&n)===0||(d&r)!==0)&&(i[s]=Ii(d,t)):p<=t&&(e.expiredLanes|=d),o&=~d}}function ar(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h(){var e=or;return or<<=1,(or&4194240)===0&&(or=64),e}function N(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function B(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function ie(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ee=0;function ye(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pe,kt,rt,It,sn,no=!1,Ui=[],un=null,cn=null,dn=null,Dr=new Map,Ur=new Map,fn=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Br(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ti(t),t!==null&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jc(e,t,n,r,i){switch(t){case"focusin":return un=Br(un,e,t,n,r,i),!0;case"dragenter":return cn=Br(cn,e,t,n,r,i),!0;case"mouseover":return dn=Br(dn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dr.set(o,Br(Dr.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ur.set(o,Br(Ur.get(o)||null,e,t,n,r,i)),!0}return!1}function es(e){var t=zn(e.target);if(t!==null){var n=$t(t);if(n!==null){if(t=n.tag,t===13){if(t=Pi(n),t!==null){e.blockedOn=t,sn(e.priority,function(){rt(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);er=r,n.target.dispatchEvent(r),er=null}else return t=ti(n),t!==null&&kt(t),e.blockedOn=n,!1;t.shift()}return!0}function ts(e,t,n){Bi(e)&&n.delete(t)}function ed(){no=!1,un!==null&&Bi(un)&&(un=null),cn!==null&&Bi(cn)&&(cn=null),dn!==null&&Bi(dn)&&(dn=null),Dr.forEach(ts),Ur.forEach(ts)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ed)))}function Wr(e){function t(i){return Hr(i,e)}if(0<Ui.length){Hr(Ui[0],e);for(var n=1;n<Ui.length;n++){var r=Ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Hr(un,e),cn!==null&&Hr(cn,e),dn!==null&&Hr(dn,e),Dr.forEach(t),Ur.forEach(t),n=0;n<fn.length;n++)r=fn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)es(n),n.blockedOn===null&&fn.shift()}var sr=J.ReactCurrentBatchConfig,Hi=!0;function td(e,t,n,r){var i=ee,o=sr.transition;sr.transition=null;try{ee=1,ro(e,t,n,r)}finally{ee=i,sr.transition=o}}function nd(e,t,n,r){var i=ee,o=sr.transition;sr.transition=null;try{ee=4,ro(e,t,n,r)}finally{ee=i,sr.transition=o}}function ro(e,t,n,r){if(Hi){var i=io(e,t,n,r);if(i===null)So(e,t,r,Wi,n),Ja(e,r);else if(Jc(i,e,t,n,r))r.stopPropagation();else if(Ja(e,r),t&4&&-1<qc.indexOf(e)){for(;i!==null;){var o=ti(i);if(o!==null&&Pe(o),o=io(e,t,n,r),o===null&&So(e,t,r,Wi,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else So(e,t,r,null,n)}}var Wi=null;function io(e,t,n,r){if(Wi=null,e=zr(r),e=zn(e),e!==null)if(t=$t(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wi=e,null}function ns(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fi()){case Ir:return 1;case Ai:return 4;case ir:case Zl:return 16;case Oi:return 536870912;default:return 16}default:return 16}}var pn=null,lo=null,$i=null;function rs(){if($i)return $i;var e,t=lo,n=t.length,r,i="value"in pn?pn.value:pn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $i=i.slice(e,1<r?1-r:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function is(){return!1}function vt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vi:is,this.isPropagationStopped=is,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=vt(ur),$r=L({},ur,{view:0,detail:0}),rd=vt($r),ao,so,Yr,Xi=L({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(ao=e.screenX-Yr.screenX,so=e.screenY-Yr.screenY):so=ao=0,Yr=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:so}}),ls=vt(Xi),id=L({},Xi,{dataTransfer:0}),ld=vt(id),od=L({},$r,{relatedTarget:0}),uo=vt(od),ad=L({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),sd=vt(ad),ud=L({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cd=vt(ud),dd=L({},ur,{data:0}),os=vt(dd),fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function md(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hd[e])?!!t[e]:!1}function co(){return md}var gd=L({},$r,{key:function(e){if(e.key){var t=fd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yd=vt(gd),vd=L({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=vt(vd),xd=L({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),wd=vt(xd),_d=L({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sd=vt(_d),kd=L({},Xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nd=vt(kd),Ed=[9,13,27,32],fo=S&&"CompositionEvent"in window,Vr=null;S&&"documentMode"in document&&(Vr=document.documentMode);var Cd=S&&"TextEvent"in window&&!Vr,ss=S&&(!fo||Vr&&8<Vr&&11>=Vr),us=" ",cs=!1;function ds(e,t){switch(e){case"keyup":return Ed.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function Md(e,t){switch(e){case"compositionend":return fs(t);case"keypress":return t.which!==32?null:(cs=!0,us);case"textInput":return e=t.data,e===us&&cs?null:e;default:return null}}function jd(e,t){if(cr)return e==="compositionend"||!fo&&ds(e,t)?(e=rs(),$i=lo=pn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ss&&t.locale!=="ko"?null:t.data;default:return null}}var Pd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pd[e.type]:t==="textarea"}function hs(e,t,n,r){Ei(r),t=qi(t,"onChange"),0<t.length&&(n=new oo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xr=null,Qr=null;function Rd(e){Ts(e,0)}function Qi(e){var t=mr(e);if(en(t))return e}function bd(e,t){if(e==="change")return t}var ms=!1;if(S){var po;if(S){var ho="oninput"in document;if(!ho){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),ho=typeof gs.oninput=="function"}po=ho}else po=!1;ms=po&&(!document.documentMode||9<document.documentMode)}function ys(){Xr&&(Xr.detachEvent("onpropertychange",vs),Qr=Xr=null)}function vs(e){if(e.propertyName==="value"&&Qi(Qr)){var t=[];hs(t,Qr,e,zr(e)),ji(Rd,t)}}function Td(e,t,n){e==="focusin"?(ys(),Xr=t,Qr=n,Xr.attachEvent("onpropertychange",vs)):e==="focusout"&&ys()}function Ld(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(Qr)}function zd(e,t){if(e==="click")return Qi(t)}function Fd(e,t){if(e==="input"||e==="change")return Qi(t)}function Ad(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Ad;function Gr(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!R.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function xs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ws(e,t){var n=xs(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xs(n)}}function _s(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_s(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ss(){for(var e=window,t=Wt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wt(e.document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Od(e){var t=Ss(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_s(n.ownerDocument.documentElement,n)){if(r!==null&&mo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ws(n,o);var s=ws(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Id=S&&"documentMode"in document&&11>=document.documentMode,dr=null,go=null,Kr=null,yo=!1;function ks(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yo||dr==null||dr!==Wt(r)||(r=dr,"selectionStart"in r&&mo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&Gr(Kr,r)||(Kr=r,r=qi(go,"onSelect"),0<r.length&&(t=new oo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function Gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},vo={},Ns={};S&&(Ns=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ki(e){if(vo[e])return vo[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ns)return vo[e]=t[n];return e}var Es=Ki("animationend"),Cs=Ki("animationiteration"),Ms=Ki("animationstart"),js=Ki("transitionend"),Ps=new Map,Rs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Ps.set(e,t),C(t,[e])}for(var xo=0;xo<Rs.length;xo++){var wo=Rs[xo],Dd=wo.toLowerCase(),Ud=wo[0].toUpperCase()+wo.slice(1);hn(Dd,"on"+Ud)}hn(Es,"onAnimationEnd"),hn(Cs,"onAnimationIteration"),hn(Ms,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(js,"onTransitionEnd"),z("onMouseEnter",["mouseout","mouseover"]),z("onMouseLeave",["mouseout","mouseover"]),z("onPointerEnter",["pointerout","pointerover"]),z("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function bs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xl(r,t,void 0,e),e.currentTarget=null}function Ts(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var d=r[s],p=d.instance,w=d.currentTarget;if(d=d.listener,p!==o&&i.isPropagationStopped())break e;bs(i,d,w),o=p}else for(s=0;s<r.length;s++){if(d=r[s],p=d.instance,w=d.currentTarget,d=d.listener,p!==o&&i.isPropagationStopped())break e;bs(i,d,w),o=p}}}if(rr)throw e=Or,rr=!1,Or=null,e}function Me(e,t){var n=t[jo];n===void 0&&(n=t[jo]=new Set);var r=e+"__bubble";n.has(r)||(Ls(t,e,2,!1),n.add(r))}function _o(e,t,n){var r=0;t&&(r|=4),Ls(n,e,r,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Zi]){e[Zi]=!0,g.forEach(function(n){n!=="selectionchange"&&(Bd.has(n)||_o(n,!1,e),_o(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,_o("selectionchange",!1,t))}}function Ls(e,t,n,r){switch(ns(t)){case 1:var i=td;break;case 4:i=nd;break;default:i=ro}n=i.bind(null,t,n,e),i=void 0,!tr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function So(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var p=s.tag;if((p===3||p===4)&&(p=s.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;s=s.return}for(;d!==null;){if(s=zn(d),s===null)return;if(p=s.tag,p===5||p===6){r=o=s;continue e}d=d.parentNode}}r=r.return}ji(function(){var w=o,T=zr(n),O=[];e:{var b=Ps.get(e);if(b!==void 0){var $=oo,G=e;switch(e){case"keypress":if(Yi(n)===0)break e;case"keydown":case"keyup":$=yd;break;case"focusin":G="focus",$=uo;break;case"focusout":G="blur",$=uo;break;case"beforeblur":case"afterblur":$=uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=wd;break;case Es:case Cs:case Ms:$=sd;break;case js:$=Sd;break;case"scroll":$=rd;break;case"wheel":$=Nd;break;case"copy":case"cut":case"paste":$=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=as}var K=(t&4)!==0,De=!K&&e==="scroll",v=K?b!==null?b+"Capture":null:b;K=[];for(var m=w,x;m!==null;){x=m;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,v!==null&&(D=Pn(m,v),D!=null&&K.push(Jr(m,D,x)))),De)break;m=m.return}0<K.length&&(b=new $(b,G,null,n,T),O.push({event:b,listeners:K}))}}if((t&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",b&&n!==er&&(G=n.relatedTarget||n.fromElement)&&(zn(G)||G[Yt]))break e;if(($||b)&&(b=T.window===T?T:(b=T.ownerDocument)?b.defaultView||b.parentWindow:window,$?(G=n.relatedTarget||n.toElement,$=w,G=G?zn(G):null,G!==null&&(De=$t(G),G!==De||G.tag!==5&&G.tag!==6)&&(G=null)):($=null,G=w),$!==G)){if(K=ls,D="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(K=as,D="onPointerLeave",v="onPointerEnter",m="pointer"),De=$==null?b:mr($),x=G==null?b:mr(G),b=new K(D,m+"leave",$,n,T),b.target=De,b.relatedTarget=x,D=null,zn(T)===w&&(K=new K(v,m+"enter",G,n,T),K.target=x,K.relatedTarget=De,D=K),De=D,$&&G)t:{for(K=$,v=G,m=0,x=K;x;x=pr(x))m++;for(x=0,D=v;D;D=pr(D))x++;for(;0<m-x;)K=pr(K),m--;for(;0<x-m;)v=pr(v),x--;for(;m--;){if(K===v||v!==null&&K===v.alternate)break t;K=pr(K),v=pr(v)}K=null}else K=null;$!==null&&zs(O,b,$,K,!1),G!==null&&De!==null&&zs(O,De,G,K,!0)}}e:{if(b=w?mr(w):window,$=b.nodeName&&b.nodeName.toLowerCase(),$==="select"||$==="input"&&b.type==="file")var Z=bd;else if(ps(b))if(ms)Z=Fd;else{Z=Ld;var te=Td}else($=b.nodeName)&&$.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(Z=zd);if(Z&&(Z=Z(e,w))){hs(O,Z,n,T);break e}te&&te(e,b,w),e==="focusout"&&(te=b._wrapperState)&&te.controlled&&b.type==="number"&&at(b,"number",b.value)}switch(te=w?mr(w):window,e){case"focusin":(ps(te)||te.contentEditable==="true")&&(dr=te,go=w,Kr=null);break;case"focusout":Kr=go=dr=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,ks(O,n,T);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":ks(O,n,T)}var ne;if(fo)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else cr?ds(e,n)&&(oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(oe="onCompositionStart");oe&&(ss&&n.locale!=="ko"&&(cr||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&cr&&(ne=rs()):(pn=T,lo="value"in pn?pn.value:pn.textContent,cr=!0)),te=qi(w,oe),0<te.length&&(oe=new os(oe,e,null,n,T),O.push({event:oe,listeners:te}),ne?oe.data=ne:(ne=fs(n),ne!==null&&(oe.data=ne)))),(ne=Cd?Md(e,n):jd(e,n))&&(w=qi(w,"onBeforeInput"),0<w.length&&(T=new os("onBeforeInput","beforeinput",null,n,T),O.push({event:T,listeners:w}),T.data=ne))}Ts(O,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pn(e,n),o!=null&&r.unshift(Jr(e,o,i)),o=Pn(e,t),o!=null&&r.push(Jr(e,o,i))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zs(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var d=n,p=d.alternate,w=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&w!==null&&(d=w,i?(p=Pn(n,o),p!=null&&s.unshift(Jr(n,p,d))):i||(p=Pn(n,o),p!=null&&s.push(Jr(n,p,d)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Hd=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Fs(e){return(typeof e=="string"?e:""+e).replace(Hd,`
`).replace(Wd,"")}function Ji(e,t,n){if(t=Fs(t),Fs(e)!==t&&n)throw Error(c(425))}function el(){}var ko=null,No=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,$d=typeof clearTimeout=="function"?clearTimeout:void 0,As=typeof Promise=="function"?Promise:void 0,Yd=typeof queueMicrotask=="function"?queueMicrotask:typeof As<"u"?function(e){return As.resolve(null).then(e).catch(Vd)}:Co;function Vd(e){setTimeout(function(){throw e})}function Mo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wr(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Os(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+hr,ei="__reactProps$"+hr,Yt="__reactContainer$"+hr,jo="__reactEvents$"+hr,Xd="__reactListeners$"+hr,Qd="__reactHandles$"+hr;function zn(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Os(e);e!==null;){if(n=e[Dt])return n;e=Os(e)}return t}e=n,n=e.parentNode}return null}function ti(e){return e=e[Dt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function tl(e){return e[ei]||null}var Po=[],gr=-1;function gn(e){return{current:e}}function je(e){0>gr||(e.current=Po[gr],Po[gr]=null,gr--)}function Ee(e,t){gr++,Po[gr]=e.current,e.current=t}var yn={},Je=gn(yn),st=gn(!1),Fn=yn;function yr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ut(e){return e=e.childContextTypes,e!=null}function nl(){je(st),je(Je)}function Is(e,t,n){if(Je.current!==yn)throw Error(c(168));Ee(Je,t),Ee(st,n)}function Ds(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(c(108,ge(e)||"Unknown",i));return L({},n,r)}function rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Fn=Je.current,Ee(Je,e),Ee(st,st.current),!0}function Us(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=Ds(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,je(st),je(Je),Ee(Je,e)):je(st),Ee(st,n)}var Vt=null,il=!1,Ro=!1;function Bs(e){Vt===null?Vt=[e]:Vt.push(e)}function Gd(e){il=!0,Bs(e)}function vn(){if(!Ro&&Vt!==null){Ro=!0;var e=0,t=ee;try{var n=Vt;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,il=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Li(Ir,vn),i}finally{ee=t,Ro=!1}}return null}var vr=[],xr=0,ll=null,ol=0,Nt=[],Et=0,An=null,Xt=1,Qt="";function On(e,t){vr[xr++]=ol,vr[xr++]=ll,ll=e,ol=t}function Hs(e,t,n){Nt[Et++]=Xt,Nt[Et++]=Qt,Nt[Et++]=An,An=e;var r=Xt;e=Qt;var i=32-yt(r)-1;r&=~(1<<i),n+=1;var o=32-yt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xt=1<<32-yt(t)+i|n<<i|r,Qt=o+e}else Xt=1<<o|n<<i|r,Qt=e}function bo(e){e.return!==null&&(On(e,1),Hs(e,1,0))}function To(e){for(;e===ll;)ll=vr[--xr],vr[xr]=null,ol=vr[--xr],vr[xr]=null;for(;e===An;)An=Nt[--Et],Nt[Et]=null,Qt=Nt[--Et],Nt[Et]=null,Xt=Nt[--Et],Nt[Et]=null}var xt=null,wt=null,Re=!1,bt=null;function Ws(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $s(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,wt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Xt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,wt=null,!0):!1;default:return!1}}function Lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zo(e){if(Re){var t=wt;if(t){var n=t;if(!$s(e,t)){if(Lo(e))throw Error(c(418));t=mn(n.nextSibling);var r=xt;t&&$s(e,t)?Ws(r,n):(e.flags=e.flags&-4097|2,Re=!1,xt=e)}}else{if(Lo(e))throw Error(c(418));e.flags=e.flags&-4097|2,Re=!1,xt=e}}}function Ys(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function al(e){if(e!==xt)return!1;if(!Re)return Ys(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=wt)){if(Lo(e))throw Vs(),Error(c(418));for(;t;)Ws(e,t),t=mn(t.nextSibling)}if(Ys(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=xt?mn(e.stateNode.nextSibling):null;return!0}function Vs(){for(var e=wt;e;)e=mn(e.nextSibling)}function wr(){wt=xt=null,Re=!1}function Fo(e){bt===null?bt=[e]:bt.push(e)}var Kd=J.ReactCurrentBatchConfig;function ni(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var d=i.refs;s===null?delete d[o]:d[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){var t=e._init;return t(e._payload)}function Qs(e){function t(v,m){if(e){var x=v.deletions;x===null?(v.deletions=[m],v.flags|=16):x.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Cn(v,m),v.index=0,v.sibling=null,v}function o(v,m,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<m?(v.flags|=2,m):x):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function d(v,m,x,D){return m===null||m.tag!==6?(m=Ca(x,v.mode,D),m.return=v,m):(m=i(m,x),m.return=v,m)}function p(v,m,x,D){var Z=x.type;return Z===Ce?T(v,m,x.props.children,D,x.key):m!==null&&(m.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===q&&Xs(Z)===m.type)?(D=i(m,x.props),D.ref=ni(v,m,x),D.return=v,D):(D=Tl(x.type,x.key,x.props,null,v.mode,D),D.ref=ni(v,m,x),D.return=v,D)}function w(v,m,x,D){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Ma(x,v.mode,D),m.return=v,m):(m=i(m,x.children||[]),m.return=v,m)}function T(v,m,x,D,Z){return m===null||m.tag!==7?(m=Yn(x,v.mode,D,Z),m.return=v,m):(m=i(m,x),m.return=v,m)}function O(v,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ca(""+m,v.mode,x),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case se:return x=Tl(m.type,m.key,m.props,null,v.mode,x),x.ref=ni(v,null,m),x.return=v,x;case Se:return m=Ma(m,v.mode,x),m.return=v,m;case q:var D=m._init;return O(v,D(m._payload),x)}if(mt(m)||Y(m))return m=Yn(m,v.mode,x,null),m.return=v,m;sl(v,m)}return null}function b(v,m,x,D){var Z=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return Z!==null?null:d(v,m,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case se:return x.key===Z?p(v,m,x,D):null;case Se:return x.key===Z?w(v,m,x,D):null;case q:return Z=x._init,b(v,m,Z(x._payload),D)}if(mt(x)||Y(x))return Z!==null?null:T(v,m,x,D,null);sl(v,x)}return null}function $(v,m,x,D,Z){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(x)||null,d(m,v,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case se:return v=v.get(D.key===null?x:D.key)||null,p(m,v,D,Z);case Se:return v=v.get(D.key===null?x:D.key)||null,w(m,v,D,Z);case q:var te=D._init;return $(v,m,x,te(D._payload),Z)}if(mt(D)||Y(D))return v=v.get(x)||null,T(m,v,D,Z,null);sl(m,D)}return null}function G(v,m,x,D){for(var Z=null,te=null,ne=m,oe=m=0,Ge=null;ne!==null&&oe<x.length;oe++){ne.index>oe?(Ge=ne,ne=null):Ge=ne.sibling;var _e=b(v,ne,x[oe],D);if(_e===null){ne===null&&(ne=Ge);break}e&&ne&&_e.alternate===null&&t(v,ne),m=o(_e,m,oe),te===null?Z=_e:te.sibling=_e,te=_e,ne=Ge}if(oe===x.length)return n(v,ne),Re&&On(v,oe),Z;if(ne===null){for(;oe<x.length;oe++)ne=O(v,x[oe],D),ne!==null&&(m=o(ne,m,oe),te===null?Z=ne:te.sibling=ne,te=ne);return Re&&On(v,oe),Z}for(ne=r(v,ne);oe<x.length;oe++)Ge=$(ne,v,oe,x[oe],D),Ge!==null&&(e&&Ge.alternate!==null&&ne.delete(Ge.key===null?oe:Ge.key),m=o(Ge,m,oe),te===null?Z=Ge:te.sibling=Ge,te=Ge);return e&&ne.forEach(function(Mn){return t(v,Mn)}),Re&&On(v,oe),Z}function K(v,m,x,D){var Z=Y(x);if(typeof Z!="function")throw Error(c(150));if(x=Z.call(x),x==null)throw Error(c(151));for(var te=Z=null,ne=m,oe=m=0,Ge=null,_e=x.next();ne!==null&&!_e.done;oe++,_e=x.next()){ne.index>oe?(Ge=ne,ne=null):Ge=ne.sibling;var Mn=b(v,ne,_e.value,D);if(Mn===null){ne===null&&(ne=Ge);break}e&&ne&&Mn.alternate===null&&t(v,ne),m=o(Mn,m,oe),te===null?Z=Mn:te.sibling=Mn,te=Mn,ne=Ge}if(_e.done)return n(v,ne),Re&&On(v,oe),Z;if(ne===null){for(;!_e.done;oe++,_e=x.next())_e=O(v,_e.value,D),_e!==null&&(m=o(_e,m,oe),te===null?Z=_e:te.sibling=_e,te=_e);return Re&&On(v,oe),Z}for(ne=r(v,ne);!_e.done;oe++,_e=x.next())_e=$(ne,v,oe,_e.value,D),_e!==null&&(e&&_e.alternate!==null&&ne.delete(_e.key===null?oe:_e.key),m=o(_e,m,oe),te===null?Z=_e:te.sibling=_e,te=_e);return e&&ne.forEach(function(Rf){return t(v,Rf)}),Re&&On(v,oe),Z}function De(v,m,x,D){if(typeof x=="object"&&x!==null&&x.type===Ce&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case se:e:{for(var Z=x.key,te=m;te!==null;){if(te.key===Z){if(Z=x.type,Z===Ce){if(te.tag===7){n(v,te.sibling),m=i(te,x.props.children),m.return=v,v=m;break e}}else if(te.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===q&&Xs(Z)===te.type){n(v,te.sibling),m=i(te,x.props),m.ref=ni(v,te,x),m.return=v,v=m;break e}n(v,te);break}else t(v,te);te=te.sibling}x.type===Ce?(m=Yn(x.props.children,v.mode,D,x.key),m.return=v,v=m):(D=Tl(x.type,x.key,x.props,null,v.mode,D),D.ref=ni(v,m,x),D.return=v,v=D)}return s(v);case Se:e:{for(te=x.key;m!==null;){if(m.key===te)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(v,m.sibling),m=i(m,x.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Ma(x,v.mode,D),m.return=v,v=m}return s(v);case q:return te=x._init,De(v,m,te(x._payload),D)}if(mt(x))return G(v,m,x,D);if(Y(x))return K(v,m,x,D);sl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,x),m.return=v,v=m):(n(v,m),m=Ca(x,v.mode,D),m.return=v,v=m),s(v)):n(v,m)}return De}var _r=Qs(!0),Gs=Qs(!1),ul=gn(null),cl=null,Sr=null,Ao=null;function Oo(){Ao=Sr=cl=null}function Io(e){var t=ul.current;je(ul),e._currentValue=t}function Do(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){cl=e,Ao=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ct=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(cl===null)throw Error(c(308));Sr=e,cl.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var In=null;function Uo(e){In===null?In=[e]:In.push(e)}function Ks(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Uo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gt(e,n)}return i=r.interleaved,i===null?(t.next=t,Uo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gt(e,n)}function dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ce(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fl(e,t,n,r){var i=e.updateQueue;xn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var p=d,w=p.next;p.next=null,s===null?o=w:s.next=w,s=p;var T=e.alternate;T!==null&&(T=T.updateQueue,d=T.lastBaseUpdate,d!==s&&(d===null?T.firstBaseUpdate=w:d.next=w,T.lastBaseUpdate=p))}if(o!==null){var O=i.baseState;s=0,T=w=p=null,d=o;do{var b=d.lane,$=d.eventTime;if((r&b)===b){T!==null&&(T=T.next={eventTime:$,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var G=e,K=d;switch(b=t,$=n,K.tag){case 1:if(G=K.payload,typeof G=="function"){O=G.call($,O,b);break e}O=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,b=typeof G=="function"?G.call($,O,b):G,b==null)break e;O=L({},O,b);break e;case 2:xn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[d]:b.push(d))}else $={eventTime:$,lane:b,tag:d.tag,payload:d.payload,callback:d.callback,next:null},T===null?(w=T=$,p=O):T=T.next=$,s|=b;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;b=d,d=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(T===null&&(p=O),i.baseState=p,i.firstBaseUpdate=w,i.lastBaseUpdate=T,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Bn|=s,e.lanes=s,e.memoizedState=O}}function Js(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(c(191,i));i.call(r)}}}var ri={},Ut=gn(ri),ii=gn(ri),li=gn(ri);function Dn(e){if(e===ri)throw Error(c(174));return e}function Ho(e,t){switch(Ee(li,t),Ee(ii,e),Ee(Ut,ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ue(t,e)}je(Ut),Ee(Ut,t)}function Nr(){je(Ut),je(ii),je(li)}function eu(e){Dn(li.current);var t=Dn(Ut.current),n=Ue(t,e.type);t!==n&&(Ee(ii,e),Ee(Ut,n))}function Wo(e){ii.current===e&&(je(Ut),je(ii))}var ze=gn(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var hl=J.ReactCurrentDispatcher,Vo=J.ReactCurrentBatchConfig,Un=0,Fe=null,$e=null,Xe=null,ml=!1,oi=!1,ai=0,Zd=0;function et(){throw Error(c(321))}function Xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,i,o){if(Un=o,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hl.current=e===null||e.memoizedState===null?tf:nf,e=n(r,i),oi){o=0;do{if(oi=!1,ai=0,25<=o)throw Error(c(301));o+=1,Xe=$e=null,t.updateQueue=null,hl.current=rf,e=n(r,i)}while(oi)}if(hl.current=vl,t=$e!==null&&$e.next!==null,Un=0,Xe=$e=Fe=null,ml=!1,t)throw Error(c(300));return e}function Go(){var e=ai!==0;return ai=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Mt(){if($e===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Xe===null?Fe.memoizedState:Xe.next;if(t!==null)Xe=t,$e=e;else{if(e===null)throw Error(c(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function si(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Mt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var r=$e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=s=null,p=null,w=o;do{var T=w.lane;if((Un&T)===T)p!==null&&(p=p.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var O={lane:T,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};p===null?(d=p=O,s=r):p=p.next=O,Fe.lanes|=T,Bn|=T}w=w.next}while(w!==null&&w!==o);p===null?s=r:p.next=d,Rt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Fe.lanes|=o,Bn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zo(e){var t=Mt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Rt(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function tu(){}function nu(e,t){var n=Fe,r=Mt(),i=t(),o=!Rt(r.memoizedState,i);if(o&&(r.memoizedState=i,ct=!0),r=r.queue,qo(lu.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ui(9,iu.bind(null,n,r,i,t),void 0,null),Qe===null)throw Error(c(349));(Un&30)!==0||ru(n,t,i)}return i}function ru(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iu(e,t,n,r){t.value=n,t.getSnapshot=r,ou(t)&&au(e)}function lu(e,t,n){return n(function(){ou(t)&&au(e)})}function ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function au(e){var t=Gt(e,1);t!==null&&Ft(t,e,1,-1)}function su(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},t.queue=e,e=e.dispatch=ef.bind(null,Fe,e),[t.memoizedState,e]}function ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uu(){return Mt().memoizedState}function gl(e,t,n,r){var i=Bt();Fe.flags|=e,i.memoizedState=ui(1|t,n,void 0,r===void 0?null:r)}function yl(e,t,n,r){var i=Mt();r=r===void 0?null:r;var o=void 0;if($e!==null){var s=$e.memoizedState;if(o=s.destroy,r!==null&&Xo(r,s.deps)){i.memoizedState=ui(t,n,o,r);return}}Fe.flags|=e,i.memoizedState=ui(1|t,n,o,r)}function cu(e,t){return gl(8390656,8,e,t)}function qo(e,t){return yl(2048,8,e,t)}function du(e,t){return yl(4,2,e,t)}function fu(e,t){return yl(4,4,e,t)}function pu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hu(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,pu.bind(null,t,e),n)}function Jo(){}function mu(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gu(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yu(e,t,n){return(Un&21)===0?(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n):(Rt(n,t)||(n=h(),Fe.lanes|=n,Bn|=n,e.baseState=!0),t)}function qd(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Vo.transition;Vo.transition={};try{e(!1),t()}finally{ee=n,Vo.transition=r}}function vu(){return Mt().memoizedState}function Jd(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xu(e))wu(t,n);else if(n=Ks(e,t,n,r),n!==null){var i=lt();Ft(n,e,r,i),_u(n,t,r)}}function ef(e,t,n){var r=Nn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xu(e))wu(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,d=o(s,n);if(i.hasEagerState=!0,i.eagerState=d,Rt(d,s)){var p=t.interleaved;p===null?(i.next=i,Uo(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=Ks(e,t,i,r),n!==null&&(i=lt(),Ft(n,e,r,i),_u(n,t,r))}}function xu(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function wu(e,t){oi=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _u(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ce(e,n)}}var vl={readContext:Ct,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},tf={readContext:Ct,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:cu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gl(4194308,4,pu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jd.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:su,useDebugValue:Jo,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=su(!1),t=e[0];return e=qd.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,i=Bt();if(Re){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Qe===null)throw Error(c(349));(Un&30)!==0||ru(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,cu(lu.bind(null,r,o,e),[e]),r.flags|=2048,ui(9,iu.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bt(),t=Qe.identifierPrefix;if(Re){var n=Qt,r=Xt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ai++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nf={readContext:Ct,useCallback:mu,useContext:Ct,useEffect:qo,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:gu,useReducer:Ko,useRef:uu,useState:function(){return Ko(si)},useDebugValue:Jo,useDeferredValue:function(e){var t=Mt();return yu(t,$e.memoizedState,e)},useTransition:function(){var e=Ko(si)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:vu,unstable_isNewReconciler:!1},rf={readContext:Ct,useCallback:mu,useContext:Ct,useEffect:qo,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:gu,useReducer:Zo,useRef:uu,useState:function(){return Zo(si)},useDebugValue:Jo,useDeferredValue:function(e){var t=Mt();return $e===null?t.memoizedState=e:yu(t,$e.memoizedState,e)},useTransition:function(){var e=Zo(si)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:vu,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ea(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:L({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xl={isMounted:function(e){return(e=e._reactInternals)?$t(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),i=Nn(e),o=Kt(r,i);o.payload=t,n!=null&&(o.callback=n),t=wn(e,o,i),t!==null&&(Ft(t,e,i,r),dl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),i=Nn(e),o=Kt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=wn(e,o,i),t!==null&&(Ft(t,e,i,r),dl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=Nn(e),i=Kt(n,r);i.tag=2,t!=null&&(i.callback=t),t=wn(e,i,r),t!==null&&(Ft(t,e,r,n),dl(t,e,r))}};function Su(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,r)||!Gr(i,o):!0}function ku(e,t,n){var r=!1,i=yn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(i=ut(t)?Fn:Je.current,r=t.contextTypes,o=(r=r!=null)?yr(e,i):yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ct(o):(o=ut(t)?Fn:Je.current,i.context=yr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ea(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xl.enqueueReplaceState(i,i.state,null),fl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,t){try{var n="",r=t;do n+=pe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ra(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lf=typeof WeakMap=="function"?WeakMap:Map;function Eu(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cl||(Cl=!0,va=r),ra(e,t)},n}function Cu(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ra(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ra(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lf;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xf.bind(null,e,t,n),t.then(e,e))}function ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pu(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var of=J.ReactCurrentOwner,ct=!1;function it(e,t,n,r){t.child=e===null?Gs(t,null,n,r):_r(t,e.child,n,r)}function Ru(e,t,n,r,i){n=n.render;var o=t.ref;return kr(t,i),r=Qo(e,t,n,r,o,i),n=Go(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(Re&&n&&bo(t),t.flags|=1,it(e,t,r,i),t.child)}function bu(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ea(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Tu(e,t,o,r,i)):(e=Tl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(s,r)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=Cn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Tu(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Gr(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return ia(e,t,n,r,i)}function Lu(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Mr,_t),_t|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Mr,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Mr,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(Mr,_t),_t|=r;return it(e,t,i,n),t.child}function zu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,r,i){var o=ut(n)?Fn:Je.current;return o=yr(t,o),kr(t,i),n=Qo(e,t,n,r,o,i),r=Go(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(Re&&r&&bo(t),t.flags|=1,it(e,t,n,i),t.child)}function Fu(e,t,n,r,i){if(ut(n)){var o=!0;rl(t)}else o=!1;if(kr(t,i),t.stateNode===null)_l(e,t),ku(t,n,r),ta(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,d=t.memoizedProps;s.props=d;var p=s.context,w=n.contextType;typeof w=="object"&&w!==null?w=Ct(w):(w=ut(n)?Fn:Je.current,w=yr(t,w));var T=n.getDerivedStateFromProps,O=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function";O||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==r||p!==w)&&Nu(t,s,r,w),xn=!1;var b=t.memoizedState;s.state=b,fl(t,r,s,i),p=t.memoizedState,d!==r||b!==p||st.current||xn?(typeof T=="function"&&(ea(t,n,T,r),p=t.memoizedState),(d=xn||Su(t,n,d,r,b,p,w))?(O||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=w,r=d):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Zs(e,t),d=t.memoizedProps,w=t.type===t.elementType?d:Tt(t.type,d),s.props=w,O=t.pendingProps,b=s.context,p=n.contextType,typeof p=="object"&&p!==null?p=Ct(p):(p=ut(n)?Fn:Je.current,p=yr(t,p));var $=n.getDerivedStateFromProps;(T=typeof $=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==O||b!==p)&&Nu(t,s,r,p),xn=!1,b=t.memoizedState,s.state=b,fl(t,r,s,i);var G=t.memoizedState;d!==O||b!==G||st.current||xn?(typeof $=="function"&&(ea(t,n,$,r),G=t.memoizedState),(w=xn||Su(t,n,w,r,b,G,p)||!1)?(T||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,G,p),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,G,p)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=G),s.props=r,s.state=G,s.context=p,r=w):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return la(e,t,n,r,o,i)}function la(e,t,n,r,i,o){zu(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Us(t,n,!1),Zt(e,t,o);r=t.stateNode,of.current=t;var d=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_r(t,e.child,null,o),t.child=_r(t,null,d,o)):it(e,t,d,o),t.memoizedState=r.state,i&&Us(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Is(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(e,t.context,!1),Ho(e,t.containerInfo)}function Ou(e,t,n,r,i){return wr(),Fo(i),t.flags|=256,it(e,t,n,r),t.child}var oa={dehydrated:null,treeContext:null,retryLane:0};function aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Iu(e,t,n){var r=t.pendingProps,i=ze.current,o=!1,s=(t.flags&128)!==0,d;if((d=s)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(ze,i&1),e===null)return zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ll(s,r,0,null),e=Yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=aa(n),t.memoizedState=oa,e):sa(t,s));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return af(e,t,s,r,d,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,d=i.sibling;var p={mode:"hidden",children:r.children};return(s&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Cn(i,p),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Cn(d,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?aa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=oa,r}return o=e.child,e=o.sibling,r=Cn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sa(e,t){return t=Ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wl(e,t,n,r){return r!==null&&Fo(r),_r(t,e.child,null,n),e=sa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=na(Error(c(422))),wl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&_r(t,e.child,null,s),t.child.memoizedState=aa(s),t.memoizedState=oa,o);if((t.mode&1)===0)return wl(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(c(419)),r=na(o,r,void 0),wl(e,t,s,r)}if(d=(s&e.childLanes)!==0,ct||d){if(r=Qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gt(e,i),Ft(r,e,i,-1))}return Na(),r=na(Error(c(421))),wl(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wf.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,wt=mn(i.nextSibling),xt=t,Re=!0,bt=null,e!==null&&(Nt[Et++]=Xt,Nt[Et++]=Qt,Nt[Et++]=An,Xt=e.id,Qt=e.overflow,An=t),t=sa(t,r.children),t.flags|=4096,t)}function Du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Do(e.return,t,n)}function ua(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(it(e,t,r.children,n),r=ze.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Du(e,n,t);else if(e.tag===19)Du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(ze,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&pl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ua(t,!0,n,null,o);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _l(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sf(e,t,n){switch(t.tag){case 3:Au(t),wr();break;case 5:eu(t);break;case 1:ut(t.type)&&rl(t);break;case 4:Ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(ul,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(ze,ze.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Iu(e,t,n):(Ee(ze,ze.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);Ee(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Uu(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Lu(e,t,n)}return Zt(e,t,n)}var Bu,ca,Hu,Wu;Bu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ca=function(){},Hu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Dn(Ut.current);var o=null;switch(n){case"input":i=Ot(e,i),r=Ot(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=Xn(e,i),r=Xn(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=el)}qn(n,r);var s;n=null;for(w in i)if(!r.hasOwnProperty(w)&&i.hasOwnProperty(w)&&i[w]!=null)if(w==="style"){var d=i[w];for(s in d)d.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(f.hasOwnProperty(w)?o||(o=[]):(o=o||[]).push(w,null));for(w in r){var p=r[w];if(d=i!=null?i[w]:void 0,r.hasOwnProperty(w)&&p!==d&&(p!=null||d!=null))if(w==="style")if(d){for(s in d)!d.hasOwnProperty(s)||p&&p.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in p)p.hasOwnProperty(s)&&d[s]!==p[s]&&(n||(n={}),n[s]=p[s])}else n||(o||(o=[]),o.push(w,n)),n=p;else w==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(o=o||[]).push(w,p)):w==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(w,""+p):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(f.hasOwnProperty(w)?(p!=null&&w==="onScroll"&&Me("scroll",e),o||d===p||(o=[])):(o=o||[]).push(w,p))}n&&(o=o||[]).push("style",n);var w=o;(t.updateQueue=w)&&(t.flags|=4)}},Wu=function(e,t,n,r){n!==r&&(t.flags|=4)};function ci(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uf(e,t,n){var r=t.pendingProps;switch(To(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return ut(t.type)&&nl(),tt(t),null;case 3:return r=t.stateNode,Nr(),je(st),je(Je),Yo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(_a(bt),bt=null))),ca(e,t),tt(t),null;case 5:Wo(t);var i=Dn(li.current);if(n=t.type,e!==null&&t.stateNode!=null)Hu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(c(166));return tt(t),null}if(e=Dn(Ut.current),al(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Dt]=t,r[ei]=o,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<Zr.length;i++)Me(Zr[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":ot(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":Qn(r,o),Me("invalid",r)}qn(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];s==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&Ji(r.textContent,d,e),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Ji(r.textContent,d,e),i=["children",""+d]):f.hasOwnProperty(s)&&d!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":Jt(r),H(r,o,!0);break;case"textarea":Jt(r),Gn(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=el)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Dt]=t,e[ei]=r,Bu(e,t,!1,!1),t.stateNode=e;e:{switch(s=Jn(n,r),n){case"dialog":Me("cancel",e),Me("close",e),i=r;break;case"iframe":case"object":case"embed":Me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zr.length;i++)Me(Zr[i],e);i=r;break;case"source":Me("error",e),i=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=r;break;case"details":Me("toggle",e),i=r;break;case"input":ot(e,r),i=Ot(e,r),Me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Me("invalid",e);break;case"textarea":Qn(e,r),i=Xn(e,r),Me("invalid",e);break;default:i=r}qn(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var p=d[o];o==="style"?Lr(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&_i(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&tn(e,p):typeof p=="number"&&tn(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Me("scroll",e):p!=null&&we(e,o,p,s))}switch(n){case"input":Jt(e),H(e,r,!1);break;case"textarea":Jt(e),Gn(e);break;case"option":r.value!=null&&e.setAttribute("value",""+he(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gt(e,!!r.multiple,o,!1):r.defaultValue!=null&&gt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Wu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(c(166));if(n=Dn(li.current),Dn(Ut.current),al(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(o=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:Ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return tt(t),null;case 13:if(je(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Vs(),wr(),t.flags|=98560,o=!1;else if(o=al(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Dt]=t}else wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else bt!==null&&(_a(bt),bt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ze.current&1)!==0?Ye===0&&(Ye=3):Na())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Nr(),ca(e,t),e===null&&qr(t.stateNode.containerInfo),tt(t),null;case 10:return Io(t.type._context),tt(t),null;case 17:return ut(t.type)&&nl(),tt(t),null;case 19:if(je(ze),o=t.memoizedState,o===null)return tt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ci(o,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=pl(e),s!==null){for(t.flags|=128,ci(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>jr&&(t.flags|=128,r=!0,ci(o,!1),t.lanes=4194304)}else{if(!r)if(e=pl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ci(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Re)return tt(t),null}else 2*Le()-o.renderingStartTime>jr&&n!==1073741824&&(t.flags|=128,r=!0,ci(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,n=ze.current,Ee(ze,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return ka(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(_t&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function cf(e,t){switch(To(t),t.tag){case 1:return ut(t.type)&&nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nr(),je(st),je(Je),Yo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Wo(t),null;case 13:if(je(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(ze),null;case 4:return Nr(),null;case 10:return Io(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var Sl=!1,nt=!1,df=typeof WeakSet=="function"?WeakSet:Set,X=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var $u=!1;function ff(e,t){if(ko=Hi,e=Ss(),mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,d=-1,p=-1,w=0,T=0,O=e,b=null;t:for(;;){for(var $;O!==n||i!==0&&O.nodeType!==3||(d=s+i),O!==o||r!==0&&O.nodeType!==3||(p=s+r),O.nodeType===3&&(s+=O.nodeValue.length),($=O.firstChild)!==null;)b=O,O=$;for(;;){if(O===e)break t;if(b===n&&++w===i&&(d=s),b===o&&++T===r&&(p=s),($=O.nextSibling)!==null)break;O=b,b=O.parentNode}O=$}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(No={focusedElem:e,selectionRange:n},Hi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var G=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var K=G.memoizedProps,De=G.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?K:Tt(t.type,K),De);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(D){Ae(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return G=$u,$u=!1,G}function di(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&da(t,n,o)}i=i.next}while(i!==r)}}function kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yu(e){var t=e.alternate;t!==null&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[ei],delete t[jo],delete t[Xd],delete t[Qd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vu(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(r!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}function ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}var Ke=null,Lt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Qu(e,t,n),n=n.sibling}function Qu(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(lr,n)}catch{}switch(n.tag){case 5:nt||Cr(n,t);case 6:var r=Ke,i=Lt;Ke=null,_n(e,t,n),Ke=r,Lt=i,Ke!==null&&(Lt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Lt?(e=Ke,n=n.stateNode,e.nodeType===8?Mo(e.parentNode,n):e.nodeType===1&&Mo(e,n),Wr(e)):Mo(Ke,n.stateNode));break;case 4:r=Ke,i=Lt,Ke=n.stateNode.containerInfo,Lt=!0,_n(e,t,n),Ke=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&da(n,t,s),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!nt&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Ae(n,t,d)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,_n(e,t,n),nt=r):_n(e,t,n);break;default:_n(e,t,n)}}function Gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new df),t.forEach(function(r){var i=_f.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,d=s;e:for(;d!==null;){switch(d.tag){case 5:Ke=d.stateNode,Lt=!1;break e;case 3:Ke=d.stateNode.containerInfo,Lt=!0;break e;case 4:Ke=d.stateNode.containerInfo,Lt=!0;break e}d=d.return}if(Ke===null)throw Error(c(160));Qu(o,s,i),Ke=null,Lt=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(w){Ae(i,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ku(t,e),t=t.sibling}function Ku(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Ht(e),r&4){try{di(3,e,e.return),kl(3,e)}catch(K){Ae(e,e.return,K)}try{di(5,e,e.return)}catch(K){Ae(e,e.return,K)}}break;case 1:zt(t,e),Ht(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(zt(t,e),Ht(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var i=e.stateNode;try{tn(i,"")}catch(K){Ae(e,e.return,K)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,d=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&ht(i,o),Jn(d,s);var w=Jn(d,o);for(s=0;s<p.length;s+=2){var T=p[s],O=p[s+1];T==="style"?Lr(i,O):T==="dangerouslySetInnerHTML"?_i(i,O):T==="children"?tn(i,O):we(i,T,O,w)}switch(d){case"input":Ie(i,o);break;case"textarea":wi(i,o);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var $=o.value;$!=null?gt(i,!!o.multiple,$,!1):b!==!!o.multiple&&(o.defaultValue!=null?gt(i,!!o.multiple,o.defaultValue,!0):gt(i,!!o.multiple,o.multiple?[]:"",!1))}i[ei]=o}catch(K){Ae(e,e.return,K)}}break;case 6:if(zt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(c(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(K){Ae(e,e.return,K)}}break;case 3:if(zt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(K){Ae(e,e.return,K)}break;case 4:zt(t,e),Ht(e);break;case 13:zt(t,e),Ht(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ya=Le())),r&4&&Gu(e);break;case 22:if(T=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(w=nt)||T,zt(t,e),nt=w):zt(t,e),Ht(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!T&&(e.mode&1)!==0)for(X=e,T=e.child;T!==null;){for(O=X=T;X!==null;){switch(b=X,$=b.child,b.tag){case 0:case 11:case 14:case 15:di(4,b,b.return);break;case 1:Cr(b,b.return);var G=b.stateNode;if(typeof G.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(K){Ae(r,n,K)}}break;case 5:Cr(b,b.return);break;case 22:if(b.memoizedState!==null){Ju(O);continue}}$!==null?($.return=b,X=$):Ju(O)}T=T.sibling}e:for(T=null,O=e;;){if(O.tag===5){if(T===null){T=O;try{i=O.stateNode,w?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=O.stateNode,p=O.memoizedProps.style,s=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=Tr("display",s))}catch(K){Ae(e,e.return,K)}}}else if(O.tag===6){if(T===null)try{O.stateNode.nodeValue=w?"":O.memoizedProps}catch(K){Ae(e,e.return,K)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;T===O&&(T=null),O=O.return}T===O&&(T=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:zt(t,e),Ht(e),r&4&&Gu(e);break;case 21:break;default:zt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vu(n)){var r=n;break e}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tn(i,""),r.flags&=-33);var o=Xu(e);ha(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,d=Xu(e);pa(e,d,s);break;default:throw Error(c(161))}}catch(p){Ae(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pf(e,t,n){X=e,Zu(e)}function Zu(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sl;if(!s){var d=i.alternate,p=d!==null&&d.memoizedState!==null||nt;d=Sl;var w=nt;if(Sl=s,(nt=p)&&!w)for(X=i;X!==null;)s=X,p=s.child,s.tag===22&&s.memoizedState!==null?ec(i):p!==null?(p.return=s,X=p):ec(i);for(;o!==null;)X=o,Zu(o),o=o.sibling;X=i,Sl=d,nt=w}qu(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,X=o):qu(e)}}function qu(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Js(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Js(t,s,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var T=w.memoizedState;if(T!==null){var O=T.dehydrated;O!==null&&Wr(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}nt||t.flags&512&&fa(t)}catch(b){Ae(t,t.return,b)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Ju(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function ec(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kl(4,t)}catch(p){Ae(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Ae(t,i,p)}}var o=t.return;try{fa(t)}catch(p){Ae(t,o,p)}break;case 5:var s=t.return;try{fa(t)}catch(p){Ae(t,s,p)}}}catch(p){Ae(t,t.return,p)}if(t===e){X=null;break}var d=t.sibling;if(d!==null){d.return=t.return,X=d;break}X=t.return}}var hf=Math.ceil,Nl=J.ReactCurrentDispatcher,ma=J.ReactCurrentOwner,jt=J.ReactCurrentBatchConfig,xe=0,Qe=null,Be=null,Ze=0,_t=0,Mr=gn(0),Ye=0,fi=null,Bn=0,El=0,ga=0,pi=null,dt=null,ya=0,jr=1/0,qt=null,Cl=!1,va=null,Sn=null,Ml=!1,kn=null,jl=0,hi=0,xa=null,Pl=-1,Rl=0;function lt(){return(xe&6)!==0?Le():Pl!==-1?Pl:Pl=Le()}function Nn(e){return(e.mode&1)===0?1:(xe&2)!==0&&Ze!==0?Ze&-Ze:Kd.transition!==null?(Rl===0&&(Rl=h()),Rl):(e=ee,e!==0||(e=window.event,e=e===void 0?16:ns(e.type)),e)}function Ft(e,t,n,r){if(50<hi)throw hi=0,xa=null,Error(c(185));B(e,n,r),((xe&2)===0||e!==Qe)&&(e===Qe&&((xe&2)===0&&(El|=n),Ye===4&&En(e,Ze)),ft(e,r),n===1&&xe===0&&(t.mode&1)===0&&(jr=Le()+500,il&&vn()))}function ft(e,t){var n=e.callbackNode;Di(e,t);var r=Ln(e,e===Qe?Ze:0);if(r===0)n!==null&&zi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zi(n),t===1)e.tag===0?Gd(nc.bind(null,e)):Bs(nc.bind(null,e)),Yd(function(){(xe&6)===0&&vn()}),n=null;else{switch(ye(r)){case 1:n=Ir;break;case 4:n=Ai;break;case 16:n=ir;break;case 536870912:n=Oi;break;default:n=ir}n=cc(n,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tc(e,t){if(Pl=-1,Rl=0,(xe&6)!==0)throw Error(c(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Ln(e,e===Qe?Ze:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=bl(e,r);else{t=r;var i=xe;xe|=2;var o=ic();(Qe!==e||Ze!==t)&&(qt=null,jr=Le()+500,Wn(e,t));do try{yf();break}catch(d){rc(e,d)}while(!0);Oo(),Nl.current=o,xe=i,Be!==null?t=0:(Qe=null,Ze=0,t=Ye)}if(t!==0){if(t===2&&(i=ar(e),i!==0&&(r=i,t=wa(e,i))),t===1)throw n=fi,Wn(e,0),En(e,r),ft(e,Le()),n;if(t===6)En(e,r);else{if(i=e.current.alternate,(r&30)===0&&!mf(i)&&(t=bl(e,r),t===2&&(o=ar(e),o!==0&&(r=o,t=wa(e,o))),t===1))throw n=fi,Wn(e,0),En(e,r),ft(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:$n(e,dt,qt);break;case 3:if(En(e,r),(r&130023424)===r&&(t=ya+500-Le(),10<t)){if(Ln(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Co($n.bind(null,e,dt,qt),t);break}$n(e,dt,qt);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-yt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hf(r/1960))-r,10<r){e.timeoutHandle=Co($n.bind(null,e,dt,qt),r);break}$n(e,dt,qt);break;case 5:$n(e,dt,qt);break;default:throw Error(c(329))}}}return ft(e,Le()),e.callbackNode===n?tc.bind(null,e):null}function wa(e,t){var n=pi;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=bl(e,t),e!==2&&(t=dt,dt=n,t!==null&&_a(t)),e}function _a(e){dt===null?dt=e:dt.push.apply(dt,e)}function mf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Rt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~ga,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function nc(e){if((xe&6)!==0)throw Error(c(327));Pr();var t=Ln(e,0);if((t&1)===0)return ft(e,Le()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=ar(e);r!==0&&(t=r,n=wa(e,r))}if(n===1)throw n=fi,Wn(e,0),En(e,t),ft(e,Le()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,dt,qt),ft(e,Le()),null}function Sa(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(jr=Le()+500,il&&vn())}}function Hn(e){kn!==null&&kn.tag===0&&(xe&6)===0&&Pr();var t=xe;xe|=1;var n=jt.transition,r=ee;try{if(jt.transition=null,ee=1,e)return e()}finally{ee=r,jt.transition=n,xe=t,(xe&6)===0&&vn()}}function ka(){_t=Mr.current,je(Mr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$d(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(To(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nl();break;case 3:Nr(),je(st),je(Je),Yo();break;case 5:Wo(r);break;case 4:Nr();break;case 13:je(ze);break;case 19:je(ze);break;case 10:Io(r.type._context);break;case 22:case 23:ka()}n=n.return}if(Qe=e,Be=e=Cn(e.current,null),Ze=_t=t,Ye=0,fi=null,ga=El=Bn=0,dt=pi=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}In=null}return e}function rc(e,t){do{var n=Be;try{if(Oo(),hl.current=vl,ml){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ml=!1}if(Un=0,Xe=$e=Fe=null,oi=!1,ai=0,ma.current=null,n===null||n.return===null){Ye=1,fi=t,Be=null;break}e:{var o=e,s=n.return,d=n,p=t;if(t=Ze,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var w=p,T=d,O=T.tag;if((T.mode&1)===0&&(O===0||O===11||O===15)){var b=T.alternate;b?(T.updateQueue=b.updateQueue,T.memoizedState=b.memoizedState,T.lanes=b.lanes):(T.updateQueue=null,T.memoizedState=null)}var $=ju(s);if($!==null){$.flags&=-257,Pu($,s,d,o,t),$.mode&1&&Mu(o,w,t),t=$,p=w;var G=t.updateQueue;if(G===null){var K=new Set;K.add(p),t.updateQueue=K}else G.add(p);break e}else{if((t&1)===0){Mu(o,w,t),Na();break e}p=Error(c(426))}}else if(Re&&d.mode&1){var De=ju(s);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),Pu(De,s,d,o,t),Fo(Er(p,d));break e}}o=p=Er(p,d),Ye!==4&&(Ye=2),pi===null?pi=[o]:pi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Eu(o,p,t);qs(o,v);break e;case 1:d=p;var m=o.type,x=o.stateNode;if((o.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sn===null||!Sn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var D=Cu(o,d,t);qs(o,D);break e}}o=o.return}while(o!==null)}oc(n)}catch(Z){t=Z,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function ic(){var e=Nl.current;return Nl.current=vl,e===null?vl:e}function Na(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Qe===null||(Bn&268435455)===0&&(El&268435455)===0||En(Qe,Ze)}function bl(e,t){var n=xe;xe|=2;var r=ic();(Qe!==e||Ze!==t)&&(qt=null,Wn(e,t));do try{gf();break}catch(i){rc(e,i)}while(!0);if(Oo(),xe=n,Nl.current=r,Be!==null)throw Error(c(261));return Qe=null,Ze=0,Ye}function gf(){for(;Be!==null;)lc(Be)}function yf(){for(;Be!==null&&!Gl();)lc(Be)}function lc(e){var t=uc(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?oc(e):Be=t,ma.current=null}function oc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=uf(n,t,_t),n!==null){Be=n;return}}else{if(n=cf(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ye===0&&(Ye=5)}function $n(e,t,n){var r=ee,i=jt.transition;try{jt.transition=null,ee=1,vf(e,t,n,r)}finally{jt.transition=i,ee=r}return null}function vf(e,t,n,r){do Pr();while(kn!==null);if((xe&6)!==0)throw Error(c(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ie(e,o),e===Qe&&(Be=Qe=null,Ze=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ml||(Ml=!0,cc(ir,function(){return Pr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=jt.transition,jt.transition=null;var s=ee;ee=1;var d=xe;xe|=4,ma.current=null,ff(e,n),Ku(n,e),Od(No),Hi=!!ko,No=ko=null,e.current=n,pf(n),Kl(),xe=d,ee=s,jt.transition=o}else e.current=n;if(Ml&&(Ml=!1,kn=e,jl=i),o=e.pendingLanes,o===0&&(Sn=null),ql(n.stateNode),ft(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cl)throw Cl=!1,e=va,va=null,e;return(jl&1)!==0&&e.tag!==0&&Pr(),o=e.pendingLanes,(o&1)!==0?e===xa?hi++:(hi=0,xa=e):hi=0,vn(),null}function Pr(){if(kn!==null){var e=ye(jl),t=jt.transition,n=ee;try{if(jt.transition=null,ee=16>e?16:e,kn===null)var r=!1;else{if(e=kn,kn=null,jl=0,(xe&6)!==0)throw Error(c(331));var i=xe;for(xe|=4,X=e.current;X!==null;){var o=X,s=o.child;if((X.flags&16)!==0){var d=o.deletions;if(d!==null){for(var p=0;p<d.length;p++){var w=d[p];for(X=w;X!==null;){var T=X;switch(T.tag){case 0:case 11:case 15:di(8,T,o)}var O=T.child;if(O!==null)O.return=T,X=O;else for(;X!==null;){T=X;var b=T.sibling,$=T.return;if(Yu(T),T===w){X=null;break}if(b!==null){b.return=$,X=b;break}X=$}}}var G=o.alternate;if(G!==null){var K=G.child;if(K!==null){G.child=null;do{var De=K.sibling;K.sibling=null,K=De}while(K!==null)}}X=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,X=s;else e:for(;X!==null;){if(o=X,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:di(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,X=v;break e}X=o.return}}var m=e.current;for(X=m;X!==null;){s=X;var x=s.child;if((s.subtreeFlags&2064)!==0&&x!==null)x.return=s,X=x;else e:for(s=m;X!==null;){if(d=X,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:kl(9,d)}}catch(Z){Ae(d,d.return,Z)}if(d===s){X=null;break e}var D=d.sibling;if(D!==null){D.return=d.return,X=D;break e}X=d.return}}if(xe=i,vn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(lr,e)}catch{}r=!0}return r}finally{ee=n,jt.transition=t}}return!1}function ac(e,t,n){t=Er(n,t),t=Eu(e,t,1),e=wn(e,t,1),t=lt(),e!==null&&(B(e,1,t),ft(e,t))}function Ae(e,t,n){if(e.tag===3)ac(e,e,n);else for(;t!==null;){if(t.tag===3){ac(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Er(n,e),e=Cu(t,e,1),t=wn(t,e,1),e=lt(),t!==null&&(B(t,1,e),ft(t,e));break}}t=t.return}}function xf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(Ze&n)===n&&(Ye===4||Ye===3&&(Ze&130023424)===Ze&&500>Le()-ya?Wn(e,0):ga|=n),ft(e,t)}function sc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Tn,Tn<<=1,(Tn&130023424)===0&&(Tn=4194304)));var n=lt();e=Gt(e,t),e!==null&&(B(e,t,n),ft(e,n))}function wf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sc(e,n)}function _f(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}r!==null&&r.delete(t),sc(e,n)}var uc;uc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ct=!1,sf(e,t,n);ct=(e.flags&131072)!==0}else ct=!1,Re&&(t.flags&1048576)!==0&&Hs(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_l(e,t),e=t.pendingProps;var i=yr(t,Je.current);kr(t,n),i=Qo(null,t,r,e,i,n);var o=Go();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,rl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bo(t),i.updater=xl,t.stateNode=i,i._reactInternals=t,ta(t,r,e,n),t=la(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&bo(t),it(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_l(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kf(r),e=Tt(r,e),i){case 0:t=ia(null,t,r,e,n);break e;case 1:t=Fu(null,t,r,e,n);break e;case 11:t=Ru(null,t,r,e,n);break e;case 14:t=bu(null,t,r,Tt(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),ia(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Fu(e,t,r,i,n);case 3:e:{if(Au(t),e===null)throw Error(c(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Zs(e,t),fl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Er(Error(c(423)),t),t=Ou(e,t,r,n,i);break e}else if(r!==i){i=Er(Error(c(424)),t),t=Ou(e,t,r,n,i);break e}else for(wt=mn(t.stateNode.containerInfo.firstChild),xt=t,Re=!0,bt=null,n=Gs(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===i){t=Zt(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return eu(t),e===null&&zo(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Eo(r,i)?s=null:o!==null&&Eo(r,o)&&(t.flags|=32),zu(e,t),it(e,t,s,n),t.child;case 6:return e===null&&zo(t),null;case 13:return Iu(e,t,n);case 4:return Ho(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_r(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Ru(e,t,r,i,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ee(ul,r._currentValue),r._currentValue=s,o!==null)if(Rt(o.value,s)){if(o.children===i.children&&!st.current){t=Zt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){s=o.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=Kt(-1,n&-n),p.tag=2;var w=o.updateQueue;if(w!==null){w=w.shared;var T=w.pending;T===null?p.next=p:(p.next=T.next,T.next=p),w.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Do(o.return,n,t),d.lanes|=n;break}p=p.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(c(341));s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),Do(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}it(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,kr(t,n),i=Ct(i),r=r(i),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,i=Tt(r,t.pendingProps),i=Tt(r.type,i),bu(e,t,r,i,n);case 15:return Tu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),_l(e,t),t.tag=1,ut(r)?(e=!0,rl(t)):e=!1,kr(t,n),ku(t,r,i),ta(t,r,i,n),la(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return Lu(e,t,n)}throw Error(c(156,t.tag))};function cc(e,t){return Li(e,t)}function Sf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,r){return new Sf(e,t,n,r)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kf(e){if(typeof e=="function")return Ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===F)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ea(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ce:return Yn(n.children,i,o,t);case Ne:s=8,i|=8;break;case qe:return e=Pt(12,n,t,i|2),e.elementType=qe,e.lanes=o,e;case Oe:return e=Pt(13,n,t,i),e.elementType=Oe,e.lanes=o,e;case M:return e=Pt(19,n,t,i),e.elementType=M,e.lanes=o,e;case V:return Ll(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:s=10;break e;case Ve:s=9;break e;case Te:s=11;break e;case F:s=14;break e;case q:s=16,r=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=Pt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yn(e,t,n,r){return e=Pt(7,e,r,t),e.lanes=n,e}function Ll(e,t,n,r){return e=Pt(22,e,r,t),e.elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Ma(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nf(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N(0),this.expirationTimes=N(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ja(e,t,n,r,i,o,s,d,p){return e=new Nf(e,t,n,d,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function Ef(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dc(e){if(!e)return yn;e=e._reactInternals;e:{if($t(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(ut(n))return Ds(e,n,t)}return t}function fc(e,t,n,r,i,o,s,d,p){return e=ja(n,r,!0,e,i,o,s,d,p),e.context=dc(null),n=e.current,r=lt(),i=Nn(n),o=Kt(r,i),o.callback=t??null,wn(n,o,i),e.current.lanes=i,B(e,i,r),ft(e,r),e}function zl(e,t,n,r){var i=t.current,o=lt(),s=Nn(i);return n=dc(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(i,t,s),e!==null&&(Ft(e,i,s,o),dl(e,i,s)),s}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pa(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function Cf(){return null}var hc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ra(e){this._internalRoot=e}Al.prototype.render=Ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));zl(e,t,null,null)},Al.prototype.unmount=Ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){zl(null,e,null,null)}),t[Yt]=null}};function Al(e){this._internalRoot=e}Al.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fn.length&&t!==0&&t<fn[n].priority;n++);fn.splice(n,0,e),n===0&&es(e)}};function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mc(){}function Mf(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var w=Fl(s);o.call(w)}}var s=fc(t,r,e,0,null,!1,!1,"",mc);return e._reactRootContainer=s,e[Yt]=s.current,qr(e.nodeType===8?e.parentNode:e),Hn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var w=Fl(p);d.call(w)}}var p=ja(e,0,!1,null,null,!1,!1,"",mc);return e._reactRootContainer=p,e[Yt]=p.current,qr(e.nodeType===8?e.parentNode:e),Hn(function(){zl(t,p,n,r)}),p}function Il(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var d=i;i=function(){var p=Fl(s);d.call(p)}}zl(t,s,e,i)}else s=Mf(n,t,e,i,r);return Fl(s)}Pe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=an(t.pendingLanes);n!==0&&(ce(t,n|1),ft(t,Le()),(xe&6)===0&&(jr=Le()+500,vn()))}break;case 13:Hn(function(){var r=Gt(e,1);if(r!==null){var i=lt();Ft(r,e,1,i)}}),Pa(e,1)}},kt=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=lt();Ft(t,e,134217728,n)}Pa(e,134217728)}},rt=function(e){if(e.tag===13){var t=Nn(e),n=Gt(e,t);if(n!==null){var r=lt();Ft(n,e,t,r)}Pa(e,t)}},It=function(){return ee},sn=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}},Fr=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tl(r);if(!i)throw Error(c(90));en(r),Ie(r,i)}}}break;case"textarea":wi(e,n);break;case"select":t=n.value,t!=null&&gt(e,!!n.multiple,t,!1)}},Ar=Sa,Mi=Hn;var jf={usingClientEntryPoint:!1,Events:[ti,mr,tl,Ei,Ci,Sa]},mi={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pf={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bi(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Cf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{lr=Dl.inject(Pf),St=Dl}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf,pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(t))throw Error(c(200));return Ef(e,t,null,n)},pt.createRoot=function(e,t){if(!ba(e))throw Error(c(299));var n=!1,r="",i=hc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ja(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,qr(e.nodeType===8?e.parentNode:e),new Ra(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=bi(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Hn(e)},pt.hydrate=function(e,t,n){if(!Ol(t))throw Error(c(200));return Il(null,e,t,!0,n)},pt.hydrateRoot=function(e,t,n){if(!ba(e))throw Error(c(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=hc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=fc(t,null,e,1,n??null,i,!1,o,s),e[Yt]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Al(t)},pt.render=function(e,t,n){if(!Ol(t))throw Error(c(200));return Il(null,e,t,!1,n)},pt.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(c(40));return e._reactRootContainer?(Hn(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},pt.unstable_batchedUpdates=Sa,pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ol(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return Il(e,t,n,!1,r)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var kc;function Bc(){if(kc)return za.exports;kc=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),za.exports=Af(),za.exports}var Nc;function Of(){if(Nc)return Ul;Nc=1;var l=Bc();return Ul.createRoot=l.createRoot,Ul.hydrateRoot=l.hydrateRoot,Ul}var If=Of(),Oa={exports:{}},Ia,Ec;function Df(){if(Ec)return Ia;Ec=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ia=l,Ia}var Da,Cc;function Uf(){if(Cc)return Da;Cc=1;var l=Df();function a(){}function c(){}return c.resetWarningCache=a,Da=function(){function g(z,S,R,_,k,j){if(j!==l){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}g.isRequired=g;function f(){return g}var C={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:f,element:g,elementType:g,instanceOf:f,node:g,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:c,resetWarningCache:a};return C.PropTypes=C,C},Da}var Mc;function Bf(){return Mc||(Mc=1,Oa.exports=Uf()()),Oa.exports}var Hf=Bf();const He=Uc(Hf),Wf="modulepreload",$f=function(l){return"/build/"+l},jc={},xi=function(a,c,g){let f=Promise.resolve();if(c&&c.length>0){let z=function(_){return Promise.all(_.map(k=>Promise.resolve(k).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),R=(S==null?void 0:S.nonce)||(S==null?void 0:S.getAttribute("nonce"));f=z(c.map(_=>{if(_=$f(_),_ in jc)return;jc[_]=!0;const k=_.endsWith(".css"),j=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${j}`))return;const I=document.createElement("link");if(I.rel=k?"stylesheet":Wf,k||(I.as="script"),I.crossOrigin="",I.href=_,R&&I.setAttribute("nonce",R),document.head.appendChild(I),k)return new Promise((le,ae)=>{I.addEventListener("load",le),I.addEventListener("error",()=>ae(new Error(`Unable to preload CSS for ${_}`)))})}))}function C(z){const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=z,window.dispatchEvent(S),!S.defaultPrevented)throw z}return f.then(z=>{for(const S of z||[])S.status==="rejected"&&C(S.reason);return a().catch(C)})};let Ua=0,br=0;const Pc=["#2563eb","#dc2626","#059669","#f59e0b","#7c3aed"];function Yf(l,a,c){var z;const g=(l==null?void 0:l.id)??`layer-${br===0?a:br}`;br+=1;const f=(l==null?void 0:l.type)??(l==null?void 0:l.kind)??"shape",C=Hc((l==null?void 0:l.frame)||((z=l==null?void 0:l.metadata)==null?void 0:z.frame)||null,c,f,a);return{id:g,name:(l==null?void 0:l.name)??`Layer ${a+1}`,type:f,visible:(l==null?void 0:l.visible)!==void 0?!!l.visible:!0,locked:(l==null?void 0:l.locked)!==void 0?!!l.locked:!1,opacity:typeof(l==null?void 0:l.opacity)=="number"?l.opacity:1,frame:C,fill:(l==null?void 0:l.fill)??(l==null?void 0:l.color)??Wc(f),stroke:(l==null?void 0:l.stroke)??(l==null?void 0:l.border)??null,content:(l==null?void 0:l.content)??(l==null?void 0:l.text)??"",fontSize:typeof(l==null?void 0:l.fontSize)=="number"?l.fontSize:42,fontFamily:(l==null?void 0:l.fontFamily)??"Inter, sans-serif",fontWeight:(l==null?void 0:l.fontWeight)??"400",textAlign:(l==null?void 0:l.textAlign)??"center",borderRadius:typeof(l==null?void 0:l.borderRadius)=="number"?l.borderRadius:$c(f),metadata:(l==null?void 0:l.metadata)??{}}}function Hc(l,a,c,g=0){if(!l){if(!a)return null;const C=48,z=Math.round(a.width*.6),S=Math.min(200,Math.round(a.height*.22)),R=g*32;return{x:C+R%120,y:C+R,width:c==="text"?Math.max(320,z):z,height:c==="text"?Math.max(120,Math.round(a.height*.12)):S,rotation:0}}const f=C=>typeof C=="number"?C:parseFloat(C);return{x:f(l.x)||0,y:f(l.y)||0,width:Math.max(1,f(l.width)||1),height:Math.max(1,f(l.height)||1),rotation:f(l.rotation)||0}}function Va(l,a=0){const c=(l==null?void 0:l.id)??`page-${Ua===0?a:Ua}`;Ua+=1;const g=Array.isArray(l==null?void 0:l.nodes)?l.nodes.map((f,C)=>Yf(f,C,l)):[];return{id:c,name:(l==null?void 0:l.name)??`Page ${a+1}`,width:(l==null?void 0:l.width)??400,height:(l==null?void 0:l.height)??400,background:(l==null?void 0:l.background)??"#ffffff",safeZone:(l==null?void 0:l.safeZone)??null,bleed:(l==null?void 0:l.bleed)??null,nodes:g,metadata:(l==null?void 0:l.metadata)??{}}}function Vn(l="shape",a=null,c={}){var S;const g=c.id??`layer-${br}`;br+=1;const C=(c.frame?{...c.frame}:null)||(a?Hc(null,a,l,((S=a.nodes)==null?void 0:S.length)??0):null),z=c.fill??Wc(l);return{id:g,name:c.name??Vf(l),type:l,visible:c.visible!==void 0?c.visible:!0,locked:c.locked??!1,opacity:typeof c.opacity=="number"?c.opacity:1,frame:C,fill:z,stroke:c.stroke??null,content:c.content??(l==="text"?"Double-click to edit text":""),fontSize:c.fontSize??(l==="text"?48:null),fontFamily:c.fontFamily??"Inter, sans-serif",fontWeight:c.fontWeight??(l==="text"?"400":void 0),textAlign:c.textAlign??"center",borderRadius:c.borderRadius??$c(l,c.variant),variant:c.variant??(l==="shape"?"rectangle":null),metadata:{...c.metadata??{}}}}function Vf(l){return l==="text"?"Text box":l==="image"?"Image placeholder":"Shape"}function Wc(l){switch(l){case"text":return"#0f172a";case"image":return"rgba(148, 163, 184, 0.2)";default:return Pc[br%Pc.length]}}function $c(l,a){return l==="shape"&&(a==="circle"||a==="ellipse")?9999:l==="shape"?16:0}const Yc=U.createContext(null);function Xf(l){var c;const a=(c=l==null?void 0:l.design)==null?void 0:c.pages;return Array.isArray(a)&&a.length>0?a.map((g,f)=>Va(g,f)):[Va(null,0)]}const Qf=({template:l})=>{var z,S;const a=Xf(l),c=((z=a[0])==null?void 0:z.id)??"page-0",g=(S=l==null?void 0:l.design)==null?void 0:S.activePageId,C=a.some(R=>R.id===g)?g:c;return{template:l,pages:a,activePageId:C,selectedLayerId:$l(a,C),zoom:1,panX:0,panY:0,layersPanelOpen:!0,inspectorOpen:!0,recentlyUploadedImages:[],history:{undoStack:[],redoStack:[]}}};function Gf(l,a){var c,g,f,C,z,S;switch(a.type){case"SELECT_PAGE":return{...l,activePageId:a.pageId,selectedLayerId:$l(l.pages,a.pageId)};case"ADD_PAGE":{const R=Va(a.page,l.pages.length),_=[...l.pages,R];return At(l,_,{activePageId:R.id,selectedLayerId:((c=R.nodes[0])==null?void 0:c.id)??null})}case"DELETE_PAGE":{if(l.pages.length<=1)return l;const R=l.pages.findIndex(I=>I.id===a.pageId);if(R===-1)return l;const _=l.pages.filter(I=>I.id!==a.pageId);let k=l.activePageId;if(a.pageId===l.activePageId){const I=R>0?R-1:0;k=((g=_[I])==null?void 0:g.id)??((f=_[0])==null?void 0:f.id)??null}const j=$l(_,k);return At(l,_,{activePageId:k,selectedLayerId:j})}case"UPDATE_PAGE_NAME":{const R=l.pages.map(_=>_.id===a.pageId?{..._,name:a.name}:_);return At(l,R)}case"UPDATE_PAGE_PROPS":{const R=l.pages.map(_=>_.id===a.pageId?{..._,...a.props}:_);return At(l,R)}case"SELECT_LAYER":return{...l,selectedLayerId:a.layerId};case"UPDATE_LAYER_PROPS":{const R=l.pages.map(_=>{if(_.id!==a.pageId)return _;const k=_.nodes.map(j=>j.id===a.layerId?{...j,...a.props}:j);return{..._,nodes:k}});return At(l,R,{selectedLayerId:Bl(l,R,a.layerId)})}case"ADD_LAYER":{const R=l.pages.map(_=>{if(_.id!==a.pageId)return _;const k=[..._.nodes,a.layer];return{..._,nodes:k}});return At(l,R,{selectedLayerId:a.layer.id})}case"REMOVE_LAYER":{const R=l.pages.map(k=>{if(k.id!==a.pageId)return k;const j=k.nodes.filter(I=>I.id!==a.layerId);return{...k,nodes:j}}),_=Bl(l,R,null);return At(l,R,{selectedLayerId:_})}case"DUPLICATE_LAYER":{const R=l.pages.map(k=>{if(k.id!==a.pageId)return k;const j=k.nodes.find(le=>le.id===a.layerId);if(!j)return k;const I={...Vn(j.type,k,{...j,id:void 0,name:`${j.name} copy`,frame:j.frame?{...j.frame,x:j.frame.x+24,y:j.frame.y+24}:j.frame})};return{...k,nodes:[...k.nodes,I]}}),_=(C=R.find(k=>k.id===a.pageId))==null?void 0:C.nodes.slice(-1)[0];return At(l,R,{selectedLayerId:(_==null?void 0:_.id)??l.selectedLayerId})}case"REORDER_LAYER":{const R=l.pages.map(_=>{if(_.id!==a.pageId)return _;const k=_.nodes.findIndex(le=>le.id===a.layerId);if(k===-1)return _;const j=[..._.nodes],[I]=j.splice(k,1);if(a.direction==="FORWARD")j.splice(Math.min(j.length,k+1),0,I);else if(a.direction==="BACKWARD")j.splice(Math.max(0,k-1),0,I);else if(a.direction==="FRONT")j.push(I);else if(a.direction==="BACK")j.unshift(I);else if(typeof a.position=="number"){const le=Math.max(0,Math.min(j.length,a.position));j.splice(le,0,I)}else j.push(I);return{..._,nodes:j}});return At(l,R)}case"BEGIN_LAYER_TRANSFORM":return{...l,history:Vc(l)};case"UPDATE_LAYER_FRAME":{const R=l.pages.map(_=>{if(_.id!==a.pageId)return _;const k=_.nodes.map(j=>{if(j.id!==a.layerId||j.locked)return j;const I=Kf(j.frame,a.frame,_);return{...j,frame:I}});return{..._,nodes:k}});return At(l,R,{selectedLayerId:a.layerId},a.trackHistory!==!1)}case"NUDGE_LAYER":{const R=l.pages.find(le=>le.id===a.pageId);if(!R)return l;const _=R.nodes.find(le=>le.id===a.layerId);if(!_||_.locked)return l;const k=a.dx??0,j=a.dy??0,I=l.pages.map(le=>{if(le.id!==a.pageId)return le;const ae=le.nodes.map(W=>{if(W.id!==a.layerId)return W;const E=W.frame??Xc(le);return{...W,frame:{...E,x:Math.round(E.x+k),y:Math.round(E.y+j)}}});return{...le,nodes:ae}});return At(l,I,{selectedLayerId:a.layerId},a.trackHistory!==!1)}case"UPDATE_ZOOM":{const R=Math.min(Math.max(a.value,.25),3);return{...l,zoom:Number(R.toFixed(2))}}case"UPDATE_PAN":return{...l,panX:a.panX,panY:a.panY};case"SET_LAYERS_PANEL_OPEN":return{...l,layersPanelOpen:a.open};case"ADD_RECENTLY_UPLOADED_IMAGE":{const k=[{id:`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dataUrl:a.dataUrl,fileName:a.fileName,uploadedAt:new Date().toISOString()},...l.recentlyUploadedImages.filter(j=>j.dataUrl!==a.dataUrl)].slice(0,10);return{...l,recentlyUploadedImages:k}}case"DELETE_RECENTLY_UPLOADED_IMAGE":{const R=a.id,_=(l.recentlyUploadedImages||[]).filter(k=>k.id!==R);return{...l,recentlyUploadedImages:_}}case"SET_RECENTLY_UPLOADED_IMAGES":return{...l,recentlyUploadedImages:Array.isArray(a.images)?a.images:[]};case"PUSH_HISTORY":return{...l,history:{undoStack:[...l.history.undoStack,a.snapshot],redoStack:[]}};case"UNDO":{if(l.history.undoStack.length===0)return l;const R=[...l.history.undoStack],_=R.pop(),k=vi(_.pages),j=k.some(le=>le.id===l.activePageId)?l.activePageId:((z=k[0])==null?void 0:z.id)??null,I=Bl(l,k,l.selectedLayerId,j);return{...l,pages:k,activePageId:j,selectedLayerId:I,history:{undoStack:R,redoStack:[{pages:vi(l.pages)},...l.history.redoStack]}}}case"REDO":{if(l.history.redoStack.length===0)return l;const[R,..._]=l.history.redoStack,k=vi(R.pages),j=k.some(le=>le.id===l.activePageId)?l.activePageId:((S=k[0])==null?void 0:S.id)??null,I=Bl(l,k,l.selectedLayerId,j);return{...l,pages:k,activePageId:j,selectedLayerId:I,history:{undoStack:[...l.history.undoStack,{pages:vi(l.pages)}],redoStack:_}}}default:return l}}function Ka({template:l,routes:a,flags:c,user:g,csrfToken:f,children:C}){const[z,S]=U.useReducer(Gf,{template:l},Qf);Ga.useEffect(()=>{let _=!0;async function k(){try{const I=await(await xi(()=>import("./recentImagesDB-CO6kquVm.js"),[])).getAllImages();if(!_)return;const le=I.slice().sort((ae,W)=>new Date(W.uploadedAt)-new Date(ae.uploadedAt)).slice(0,10).map(ae=>({id:ae.id,dataUrl:ae.blob?URL.createObjectURL(ae.blob):"",fileName:ae.fileName,uploadedAt:ae.uploadedAt}));S({type:"SET_RECENTLY_UPLOADED_IMAGES",images:le})}catch{}}return k(),()=>{_=!1}},[]);const R=U.useMemo(()=>({state:z,dispatch:S,routes:a,flags:c,user:g,csrfToken:f}),[z,a,c,g,f]);return u.jsx(Yc.Provider,{value:R,children:C})}Ka.propTypes={template:He.object,routes:He.object,flags:He.object,user:He.object,csrfToken:He.string,children:He.node.isRequired};Ka.defaultProps={template:{},routes:{},flags:{},user:null,csrfToken:""};function jn(){const l=U.useContext(Yc);if(!l)throw new Error("useBuilderStore must be used within BuilderStoreProvider");return l}function $l(l,a){const c=l.find(f=>f.id===a)??l[0];return!c||!Array.isArray(c.nodes)||c.nodes.length===0?null:(c.nodes.find(f=>f.visible!==!1)??c.nodes[0]).id}function At(l,a,c={},g=!0){const f=g?Vc(l):l.history;return{...l,...c,pages:a,history:f}}function Vc(l){return{undoStack:[...l.history.undoStack,{pages:vi(l.pages)}],redoStack:[]}}function vi(l){return l.map(a=>({...a,metadata:{...a.metadata??{}},nodes:(Array.isArray(a.nodes)?a.nodes:[]).map(c=>({...c,frame:c.frame?{...c.frame}:null,metadata:{...c.metadata??{}}}))}))}function Bl(l,a,c,g){const f=g??l.activePageId,C=a.find(z=>z.id===f)??a[0];return C?c&&C.nodes.some(S=>S.id===c)?c:$l(a,f):null}function Kf(l,a,c){const g=l??Xc(c);return a?{x:Math.round(a.x??g.x),y:Math.round(a.y??g.y),width:Math.max(1,Math.round(a.width??g.width)),height:Math.max(1,Math.round(a.height??g.height)),rotation:Math.round(a.rotation??g.rotation??0)}:g}function Xc(l){return{x:Math.round(l.width*.1),y:Math.round(l.height*.1),width:Math.round(l.width*.6),height:Math.round(l.height*.25),rotation:0}}function Zf(l){if(!l)return{top:0,right:0,bottom:0,left:0};const a=g=>{if(typeof g=="number")return g;if(typeof g=="string"){const f=parseFloat(g);return Number.isNaN(f)?0:f}return 0},c=a(l.margin??l.all??0);return{top:a(l.top??c),right:a(l.right??c),bottom:a(l.bottom??c),left:a(l.left??c)}}function Hl(l,a,c){const g=c.left,f=a.width-c.right-l.width,C=c.top,z=a.height-c.bottom-l.height;return{...l,x:Math.max(g,Math.min(f,l.x)),y:Math.max(C,Math.min(z,l.y))}}const Rc=[{id:"text",label:"Text",description:"Add headings, body copy, and typography styles.",icon:"fa-solid fa-t"},{id:"images",label:"Upload",description:"Upload customer photos or choose from brand assets.",icon:"fa-solid fa-cloud-arrow-up"},{id:"shapes",label:"Shapes",description:"Insert vector shapes, lines, and frames.",icon:"fa-solid fa-shapes"},{id:"photos",label:"Photos",description:"Add photos and images.",icon:"fa-solid fa-image"},{id:"icons",label:"Icons",description:"Insert icons and symbols.",icon:"fa-solid fa-icons"},{id:"draw",label:"Draw",description:"Draw shapes and lines.",icon:"fa-solid fa-pencil"},{id:"videos",label:"Videos",description:"Add videos.",icon:"fa-solid fa-file-video"},{id:"background",label:"Background",description:"Set background.",icon:"fa-solid fa-palette"},{id:"layers",label:"Layers",description:"Manage layers.",icon:"fa-solid fa-layer-group"},{id:"quotes",label:"Quotes",description:"Add quotes.",icon:"fa-solid fa-quote-left"}];function qf({isSidebarHidden:l,onToggleSidebar:a}){const[c,g]=U.useState("text"),{state:f,dispatch:C}=jn(),z=U.useRef(null),S=U.useMemo(()=>f.pages.find(W=>W.id===f.activePageId)??f.pages[0],[f.pages,f.activePageId]),R=U.useMemo(()=>Zf(S==null?void 0:S.safeZone),[S==null?void 0:S.safeZone]),_=W=>{if(!S)return;const E=Vn("text",S,{name:W.name,content:W.content,fontSize:W.fontSize,textAlign:W.align??"center"});E.frame&&(E.frame=Hl(E.frame,S,R)),C({type:"ADD_LAYER",pageId:S.id,layer:E})},k=W=>{var Q,de;if(!S)return;const E=Vn("shape",S,{name:W==="circle"?"Circle":"Rectangle",variant:W,borderRadius:W==="circle"?9999:16});W==="circle"&&(E.frame={...E.frame,width:Math.min(S.width*.3,((Q=E.frame)==null?void 0:Q.width)??280),height:Math.min(S.width*.3,((de=E.frame)==null?void 0:de.height)??280)}),E.frame&&(E.frame=Hl(E.frame,S,R)),C({type:"ADD_LAYER",pageId:S.id,layer:E})},j=()=>{var W;S&&((W=z.current)==null||W.click())},I=async W=>{const E=W.target.files[0];if(!E||!S){console.log("No file selected or no active page");return}if(console.log("File selected:",E.name,"Size:",E.size,"Type:",E.type),!E.type.startsWith("image/")){alert("Please select an image file.");return}const Q=10*1024*1024;if(E.size>Q){alert("Image file is too large. Please select an image smaller than 10MB.");return}const de=new FileReader;de.onload=async we=>{try{const J=we.target.result;if(console.log("Image loaded, data URL length:",(J==null?void 0:J.length)??0),!J||!J.startsWith("data:image/")){console.error("Invalid data URL:",J),alert("Failed to read the image file. Please try again.");return}const se=new Image;se.onload=async()=>{try{const Se=se.naturalWidth||se.width,Ce=se.naturalHeight||se.height,Ne=Math.round(S.width*.85),qe=Math.round(S.height*.85),be=Math.min(1,Ne/Se,qe/Ce),Ve=Math.max(1,Math.round(Se*be)),Te=Math.max(1,Math.round(Ce*be)),Oe=Math.round((S.width-Ve)/2),M=Math.round((S.height-Te)/2),F=Vn("image",S,{name:E.name||"Uploaded image",content:J,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});F.frame={x:Oe,y:M,width:Ve,height:Te,rotation:0},F.frame&&(F.frame=Hl(F.frame,S,R));try{C({type:"ADD_LAYER",pageId:S.id,layer:F}),console.log("Layer dispatched to store")}catch(q){console.error("Error dispatching layer:",q),alert("Failed to add image to canvas. Please try again.")}try{const q=await xi(()=>import("./recentImagesDB-CO6kquVm.js"),[]),V=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await q.saveImage(V,E.name,E),q.pruneOld(10).catch(()=>{});const A=URL.createObjectURL(E);C({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:A,fileName:E.name,id:V})}catch(q){console.error("Failed to persist or dispatch recent image from sidebar:",q)}}catch(Se){console.error("Error creating layer from uploaded image:",Se),alert("An error occurred while processing the image. Please try again.")}},se.onerror=()=>{console.error("Failed to load image for sizing"),alert("Uploaded image could not be loaded. Try a different file.")},se.src=J}catch(J){console.error("Error processing uploaded image:",J),alert("An error occurred while processing the image. Please try again.")}},de.onerror=()=>{console.error("Error reading file"),alert("Failed to read the image file. Please try again.")},console.log("Starting to read file as data URL"),de.readAsDataURL(E),W.target.value=""},le=W=>{if(S)try{const E=new Image;E.onload=()=>{const Q=E.naturalWidth||E.width,de=E.naturalHeight||E.height,we=Math.round(S.width*.85),J=Math.round(S.height*.85),se=Math.min(1,we/Q,J/de),Se=Math.max(1,Math.round(Q*se)),Ce=Math.max(1,Math.round(de*se)),Ne=Math.round((S.width-Se)/2),qe=Math.round((S.height-Ce)/2),be=Vn("image",S,{name:W.fileName||"Uploaded image",content:W.dataUrl,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});be.frame={x:Ne,y:qe,width:Se,height:Ce,rotation:0},be.frame&&(be.frame=Hl(be.frame,S,R)),C({type:"ADD_LAYER",pageId:S.id,layer:be})},E.onerror=()=>{const Q=Vn("image",S,{name:W.fileName||"Uploaded image",content:W.dataUrl,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}});C({type:"ADD_LAYER",pageId:S.id,layer:Q})},E.src=W.dataUrl}catch(E){console.error("Failed to add recent image to canvas:",E),alert("Could not add image to canvas. Check console for details.")}},ae=()=>{var W;if(!S)return u.jsx("div",{className:"builder-sidebar__empty-state",children:"Create a page to start designing."});switch(c){case"text":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Text"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Select a preset to add editable text blocks to your design."}),u.jsxs("div",{className:"builder-sidebar__tool-actions",children:[u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_({name:"Heading",content:"Add a headline",fontSize:48}),children:"Add heading"}),u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_({name:"Subheading",content:"Add supporting copy",fontSize:32}),children:"Add subheading"}),u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_({name:"Body text",content:"Start typing your message here.",fontSize:24,align:"left"}),children:"Add paragraph"})]})]});case"shapes":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Shapes"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Use basic shapes to build graphic elements and structure."}),u.jsxs("div",{className:"builder-sidebar__tool-actions",children:[u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>k("rectangle"),children:"Rectangle"}),u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>k("circle"),children:"Circle"})]})]});case"images":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Upload"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Upload and add images to enhance your design."}),u.jsx("div",{className:"builder-sidebar__tool-actions",children:u.jsx("button",{type:"button",className:"tool-action-btn",onClick:j,children:"Upload image"})}),u.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[u.jsx("h3",{children:"Recently Upload"}),u.jsx("div",{className:"builder-sidebar__recent-items",children:f.recentlyUploadedImages&&f.recentlyUploadedImages.length>0?u.jsx("div",{className:"inspector-recent-images",children:f.recentlyUploadedImages.map(E=>u.jsxs("div",{className:"inspector-recent-image__tile",children:[u.jsx("button",{type:"button",className:"inspector-recent-image",onClick:()=>le(E),title:E.fileName,"aria-label":`Use recently uploaded image: ${E.fileName}`,children:u.jsx("img",{src:E.dataUrl,alt:E.fileName,className:"inspector-recent-image__thumb",onError:Q=>{Q.target.style.display="none"}})}),u.jsx("button",{type:"button",className:"inspector-recent-image__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${E.fileName}`,onClick:async Q=>{Q.stopPropagation();try{const de=await xi(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(E.dataUrl&&E.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(E.dataUrl)}catch{}await de.deleteImage(E.id),C({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:E.id})}catch(de){console.error("Failed to delete recent image",de),alert("Failed to delete recent image. See console for details.")}},children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{width:14,height:14},children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),u.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),u.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),u.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]},E.id))}):u.jsx("div",{className:"builder-sidebar__empty-state",children:"Recently uploaded images will appear here."})})]}),u.jsx("div",{className:"builder-sidebar__hint",children:"Image uploads will connect to the asset library in a future release."})]});case"photos":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Photos"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Upload and add photos to enhance your design."}),u.jsx("div",{className:"builder-sidebar__tool-actions",children:u.jsx("button",{type:"button",className:"tool-action-btn",onClick:j,children:"Upload photo"})}),u.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[u.jsx("h3",{children:"Recently Upload"}),u.jsx("div",{className:"builder-sidebar__recent-items",children:f.recentlyUploadedImages&&f.recentlyUploadedImages.length>0?u.jsx("div",{className:"inspector-recent-images",children:f.recentlyUploadedImages.map(E=>u.jsxs("div",{className:"inspector-recent-image__tile",children:[u.jsx("button",{type:"button",className:"inspector-recent-image",onClick:()=>le(E),title:E.fileName,"aria-label":`Use recently uploaded photo: ${E.fileName}`,children:u.jsx("img",{src:E.dataUrl,alt:E.fileName,className:"inspector-recent-image__thumb",onError:Q=>{Q.target.style.display="none"}})}),u.jsx("button",{type:"button",className:"inspector-recent-image__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${E.fileName}`,onClick:async Q=>{Q.stopPropagation();try{const de=await xi(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(E.dataUrl&&E.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(E.dataUrl)}catch{}await de.deleteImage(E.id),C({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:E.id})}catch(de){console.error("Failed to delete recent image",de),alert("Failed to delete recent image. See console for details.")}},children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{width:14,height:14},children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),u.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),u.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),u.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]},E.id))}):u.jsx("div",{className:"builder-sidebar__empty-state",children:"Recently uploaded photos will appear here."})})]}),u.jsx("div",{className:"builder-sidebar__hint",children:"Photo uploads will connect to the asset library in a future release."})]});case"background":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Background"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Quickly apply background colors to the current page."}),u.jsx("div",{className:"builder-sidebar__swatches",role:"list",children:["#ffffff","#fef3c7","#dbeafe","#fef2f2","#ecfccb"].map(E=>u.jsx("button",{type:"button",className:"tool-swatch",style:{backgroundColor:E},"aria-label":`Set page background to ${E}`,onClick:()=>C({type:"UPDATE_PAGE_PROPS",pageId:S.id,props:{background:E}})},E))})]});case"quotes":return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:"Quotes"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Select a quote preset to add inspirational text blocks."}),u.jsxs("div",{className:"builder-sidebar__tool-actions",children:[u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_({name:"Quote",content:'"The best way to predict the future is to create it."',fontSize:32}),children:"Add quote"}),u.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>_({name:"Inspiration",content:`"Believe you can and you're halfway there."`,fontSize:28}),children:"Add inspiration"})]})]});default:return u.jsxs("div",{className:"builder-sidebar__content",children:[u.jsxs("div",{className:"builder-sidebar__header",children:[u.jsx("h2",{children:((W=Rc.find(E=>E.id===c))==null?void 0:W.label)??"Tools"}),u.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:a,"aria-label":"Hide sidebar",title:"Hide sidebar",children:u.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),u.jsx("p",{children:"Additional creative resources will appear here soon."}),u.jsx("div",{className:"builder-sidebar__empty-state",children:"Tool-specific controls will render here as the builder matures."})]})}};return u.jsxs(u.Fragment,{children:[u.jsxs("nav",{className:`builder-sidebar ${l?"is-collapsed":""}`,"aria-label":"Primary design tools",children:[u.jsxs("div",{className:"builder-sidebar__tabs",role:"tablist","aria-orientation":"vertical",children:[Rc.map(W=>u.jsxs("button",{type:"button",role:"tab","aria-selected":c===W.id,className:`builder-sidebar__tab ${c===W.id?"is-active":""}`,onClick:()=>g(W.id),children:[u.jsx("i",{className:W.icon,"aria-hidden":"true"}),u.jsx("span",{children:W.label})]},W.id)),l&&u.jsx("button",{type:"button",className:"builder-sidebar__expand-toggle",onClick:a,"aria-label":"Expand sidebar",title:"Expand sidebar",children:u.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),!l&&u.jsx("div",{className:"builder-sidebar__panel",role:"tabpanel","aria-live":"polite",children:ae()})]}),u.jsx("input",{type:"file",ref:z,onChange:I,accept:"image/*",style:{display:"none"}})]})}var bc=Bc();function Jf(l){if(!l)return{top:0,right:0,bottom:0,left:0};const a=g=>{if(typeof g=="number")return g;if(typeof g=="string"){const f=parseFloat(g);return Number.isNaN(f)?0:f}return 0},c=a(l.margin??l.all??0);return{top:a(l.top??c),right:a(l.right??c),bottom:a(l.bottom??c),left:a(l.left??c)}}function Qc(l,a,c){const g=c.left,f=a.width-c.right-l.width,C=c.top,z=a.height-c.bottom-l.height;return{...l,x:Math.max(g,Math.min(f,l.x)),y:Math.max(C,Math.min(z,l.y))}}function ep(l,a,c,g){const f=Math.max(0,c.width-g.left-g.right),C=Math.max(0,c.height-g.top-g.bottom),z=Math.min(l,f),S=Math.min(a,C),R=g.left+Math.round((f-z)/2),_=g.top+Math.round((C-S)/2);return{x:R,y:_,width:Math.max(24,z),height:Math.max(24,S),rotation:0}}function tp(l,a,c,g,f){const C=l.x+l.width/2,z=l.y+l.height/2,S={x:Math.round(C-a/2),y:Math.round(z-c/2),width:a,height:c,rotation:l.rotation??0};return Qc(S,g,f)}const np=[{id:"rectangle",group:"basic",label:"Rectangle",description:"Standard invitation rectangle",preview:"rectangle",variant:"rectangle",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(110,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"square",group:"basic",label:"Square",description:"Even sides for balanced layouts",preview:"square",variant:"rectangle",borderRadius:8,getSize:({page:l,safeInsets:a})=>{const c=Math.min(l.width-a.left-a.right,l.height-a.top-a.bottom),g=Math.max(120,Math.round(c*.55));return{width:g,height:g}}},{id:"circle",group:"basic",label:"Circle",description:"Perfect circular badge or avatar",preview:"circle",variant:"circle",borderRadius:9999,getSize:({page:l,safeInsets:a})=>{const c=Math.min(l.width-a.left-a.right,l.height-a.top-a.bottom),g=Math.max(120,Math.round(c*.5));return{width:g,height:g}}},{id:"oval",group:"basic",label:"Oval",description:"Elongated oval for decorative layouts",preview:"oval",variant:"rectangle",borderRadius:9999,getSize:({page:l,safeInsets:a})=>{const c=l.width-a.left-a.right,g=Math.max(200,Math.round(c*.7)),f=Math.max(110,Math.round(g*.44));return{width:g,height:f}}},{id:"rounded-rectangle",group:"basic",label:"Rounded Rectangle",description:"Rectangle with soft rounded corners",preview:"rounded-rectangle",variant:"rectangle",borderRadius:16,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(100,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"half-circle",group:"basic",label:"Half Circle",description:"Semi-circle for modern accents",preview:"half-circle",variant:"rectangle",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.5)),height:Math.max(90,Math.round((l.height-a.top-a.bottom)*.18))})},{id:"triangle",group:"basic",label:"Triangle",description:"Simple triangle for pointers or accents",preview:"triangle",variant:"polygon",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.4)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"diamond",group:"basic",label:"Diamond (rhombus)",description:"Rhombus shape for badges",preview:"diamond",variant:"polygon",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(120,Math.round((l.width-a.left-a.right)*.38)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.38))})},{id:"scalloped-rectangle",group:"decorative",label:"Scalloped Edge Rectangle",description:"Decorative scalloped border",preview:"scalloped-rectangle",variant:"rectangle",borderRadius:12,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"wavy-edge-rectangle",group:"decorative",label:"Wavy Edge Rectangle",description:"Soft wavy edges for a playful look",preview:"wavy-edge-rectangle",variant:"rectangle",borderRadius:10,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"curved-edge-square",group:"decorative",label:"Curved Edge Square",description:"Square with curved edges",preview:"curved-edge-square",variant:"rectangle",borderRadius:18,getSize:({page:l,safeInsets:a})=>{const c=Math.min(l.width-a.left-a.right,l.height-a.top-a.bottom),g=Math.max(120,Math.round(c*.45));return{width:g,height:g}}},{id:"cloud-shape",group:"decorative",label:"Cloud Shape",description:"Soft cloud-like outline",preview:"cloud-shape",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(200,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(130,Math.round((l.height-a.top-a.bottom)*.44))})},{id:"hexagon",group:"decorative",label:"Hexagon",description:"Geometric hexagon",preview:"hexagon",variant:"polygon",borderRadius:8,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.42))})},{id:"octagon",group:"decorative",label:"Octagon",description:"Eight-sided geometric shape",preview:"octagon",variant:"polygon",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(140,Math.round((l.height-a.top-a.bottom)*.45))})},{id:"heart",group:"decorative",label:"Heart",description:"Romantic heart shape",preview:"heart",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>{const c=Math.min(l.width-a.left-a.right,l.height-a.top-a.bottom),g=Math.max(140,Math.round(c*.45));return{width:g,height:g}}},{id:"star",group:"decorative",label:"Star",description:"Five-pointed star",preview:"star",variant:"polygon",borderRadius:4,getSize:({page:l,safeInsets:a})=>({width:Math.max(130,Math.round((l.width-a.left-a.right)*.38)),height:Math.max(130,Math.round((l.height-a.top-a.bottom)*.38))})},{id:"flower",group:"decorative",label:"Flower / Petal Shape",description:"Petal-style decorative shape",preview:"flower",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(150,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(150,Math.round((l.height-a.top-a.bottom)*.45))})},{id:"bracket-frame",group:"decorative",label:"Bracket Frame",description:"Classic bracket-style frame",preview:"bracket-frame",variant:"frame",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(130,Math.round((l.height-a.top-a.bottom)*.4))})},{id:"ornate-frame",group:"decorative",label:"Ornate Frame",description:"Vintage ornate border",preview:"ornate-frame",variant:"frame",borderRadius:8,getSize:({page:l,safeInsets:a})=>({width:Math.max(200,Math.round((l.width-a.left-a.right)*.65)),height:Math.max(150,Math.round((l.height-a.top-a.bottom)*.45))})},{id:"shield",group:"decorative",label:"Shield Shape",description:"Heraldic shield-style shape",preview:"shield",variant:"polygon",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(150,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(170,Math.round((l.height-a.top-a.bottom)*.5))})},{id:"tag-shape",group:"decorative",label:"Tag Shape",description:"Gift-tag with a notch",preview:"tag-shape",variant:"tag",borderRadius:8,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(90,Math.round((l.height-a.top-a.bottom)*.28))})},{id:"arch-top-rectangle",group:"decorative",label:"Arch Top Rectangle",description:"Rectangle with an arched top",preview:"arch-top-rectangle",variant:"rectangle",borderRadius:18,getSize:({page:l,safeInsets:a})=>({width:Math.max(160,Math.round((l.width-a.left-a.right)*.55)),height:Math.max(110,Math.round((l.height-a.top-a.bottom)*.34))})},{id:"half-arch",group:"decorative",label:"Half Arch",description:"Modern half-arch accent",preview:"half-arch",variant:"rectangle",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.55)),height:Math.max(90,Math.round((l.height-a.top-a.bottom)*.18))})},{id:"gate-fold",group:"folded",label:"Gate Fold",description:"Double door fold layout",preview:"gate-fold",variant:"layout",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(240,Math.round((l.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((l.height-a.top-a.bottom)*.65))})},{id:"tri-fold",group:"folded",label:"Tri-Fold",description:"Three-panel fold",preview:"tri-fold",variant:"layout",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(240,Math.round((l.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((l.height-a.top-a.bottom)*.65))})},{id:"z-fold",group:"folded",label:"Z-Fold",description:"Z-style folding panels",preview:"z-fold",variant:"layout",borderRadius:0,getSize:({page:l,safeInsets:a})=>({width:Math.max(240,Math.round((l.width-a.left-a.right)*.75)),height:Math.max(200,Math.round((l.height-a.top-a.bottom)*.65))})},{id:"pocket-fold",group:"folded",label:"Pocket Fold",description:"Pocket fold for inserts",preview:"pocket-fold",variant:"layout",borderRadius:4,getSize:({page:l,safeInsets:a})=>({width:Math.max(220,Math.round((l.width-a.left-a.right)*.7)),height:Math.max(180,Math.round((l.height-a.top-a.bottom)*.6))})},{id:"tent-fold",group:"folded",label:"Tent Fold",description:"Greeting-card / tent-style",preview:"tent-fold",variant:"layout",borderRadius:4,getSize:({page:l,safeInsets:a})=>({width:Math.max(220,Math.round((l.width-a.left-a.right)*.7)),height:Math.max(180,Math.round((l.height-a.top-a.bottom)*.6))})},{id:"layered-rectangle",group:"folded",label:"Layered Rectangle",description:"Stacked rectangle borders for layered look",preview:"layered-rectangle",variant:"rectangle",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.6)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"butterfly",group:"creative",label:"Butterfly",description:"Delicate butterfly silhouette",preview:"butterfly",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.5)),height:Math.max(130,Math.round((l.height-a.top-a.bottom)*.38))})},{id:"leaf",group:"creative",label:"Leaf",description:"Natural leaf motif",preview:"leaf",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(160,Math.round((l.width-a.left-a.right)*.45)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"balloon",group:"creative",label:"Balloon",description:"Party balloon outline",preview:"balloon",variant:"organic",borderRadius:9999,getSize:({page:l,safeInsets:a})=>({width:Math.max(120,Math.round((l.width-a.left-a.right)*.35)),height:Math.max(150,Math.round((l.height-a.top-a.bottom)*.45))})},{id:"crown",group:"creative",label:"Crown",description:"Royal crown silhouette",preview:"crown",variant:"organic",borderRadius:4,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.4)),height:Math.max(90,Math.round((l.height-a.top-a.bottom)*.28))})},{id:"ticket-shape",group:"creative",label:"Ticket Shape",description:"Event ticket outline",preview:"ticket-shape",variant:"tag",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(160,Math.round((l.width-a.left-a.right)*.5)),height:Math.max(90,Math.round((l.height-a.top-a.bottom)*.28))})},{id:"puzzle-piece",group:"creative",label:"Puzzle Piece",description:"Fun puzzle piece shape",preview:"puzzle-piece",variant:"organic",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(140,Math.round((l.width-a.left-a.right)*.4)),height:Math.max(140,Math.round((l.height-a.top-a.bottom)*.4))})},{id:"envelope-outline",group:"creative",label:"Envelope Outline",description:"Envelope silhouette",preview:"envelope-outline",variant:"rectangle",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(180,Math.round((l.width-a.left-a.right)*.55)),height:Math.max(120,Math.round((l.height-a.top-a.bottom)*.36))})},{id:"ribbon-banner",group:"creative",label:"Ribbon Banner",description:"Decorative ribbon banner",preview:"ribbon-banner",variant:"organic",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(200,Math.round((l.width-a.left-a.right)*.65)),height:Math.max(80,Math.round((l.height-a.top-a.bottom)*.2))})},{id:"polaroid-frame",group:"creative",label:"Polaroid Frame",description:"Photo-style Polaroid frame",preview:"polaroid-frame",variant:"frame",borderRadius:6,getSize:({page:l,safeInsets:a})=>({width:Math.max(170,Math.round((l.width-a.left-a.right)*.5)),height:Math.max(210,Math.round((l.height-a.top-a.bottom)*.62))})}],rp=[{id:"align-left",icon:"fa-solid fa-align-left",label:"Align left",apply:l=>({x:0})},{id:"align-center-horizontal",icon:"fa-solid fa-align-center",label:"Center horizontally",apply:(l,a)=>({x:Math.round((a.width-l.width)/2)})},{id:"align-right",icon:"fa-solid fa-align-right",label:"Align right",apply:(l,a)=>({x:Math.round(a.width-l.width)})},{id:"align-top",icon:"fa-solid fa-arrow-up",label:"Align top",apply:()=>({y:0})},{id:"align-center-vertical",icon:"fa-solid fa-arrows-up-down",label:"Center vertically",apply:(l,a)=>({y:Math.round((a.height-l.height)/2)})},{id:"align-bottom",icon:"fa-solid fa-arrow-down",label:"Align bottom",apply:(l,a)=>({y:Math.round(a.height-l.height)})}],ip=[{value:"all",label:"All Shapes"},{value:"basic",label:"Basic Shapes"},{value:"decorative",label:"Decorative / Fancy Shapes"},{value:"folded",label:"Folded or Layered Shapes"},{value:"creative",label:"Creative / Themed Shapes"}],lp=["AIzaSyCSdMyA37wm0nt9gJIZSjTrxEHgXwxBMeM","AIzaSyBRCDdZjTcR4brOsHV_OBsDO11We11BVi0".replace("BRCD","BRCD")];function op(l){return`https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&fields=items(family,category,variants)&key=${l}`}const Gc=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["400","500","700"]},{family:"Lato",category:"sans-serif",variants:["400","700"]},{family:"Playfair Display",category:"serif",variants:["400","600"]},{family:"Oswald",category:"sans-serif",variants:["400","500","600"]},{family:"Merriweather",category:"serif",variants:["400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Source Sans Pro",category:"sans-serif",variants:["300","400","600","700"]},{family:"Raleway",category:"sans-serif",variants:["300","400","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"PT Sans",category:"sans-serif",variants:["400","700"]},{family:"PT Serif",category:"serif",variants:["400","700"]},{family:"Ubuntu",category:"sans-serif",variants:["300","400","500","700"]},{family:"Rubik",category:"sans-serif",variants:["300","400","500","700"]},{family:"Fira Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Work Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Quicksand",category:"sans-serif",variants:["300","400","700"]},{family:"Bebas Neue",category:"display",variants:["400"]},{family:"Bitter",category:"serif",variants:["400","700"]},{family:"Cabin",category:"sans-serif",variants:["400","700"]},{family:"Cormorant Garamond",category:"serif",variants:["400","500","600"]},{family:"Dosis",category:"sans-serif",variants:["300","400","600"]},{family:"EB Garamond",category:"serif",variants:["400","700"]},{family:"Exo 2",category:"sans-serif",variants:["300","400","600","700"]},{family:"Inconsolata",category:"monospace",variants:["400","700"]},{family:"Indie Flower",category:"handwriting",variants:["400"]},{family:"Karla",category:"sans-serif",variants:["400","700"]},{family:"Kanit",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lobster",category:"display",variants:["400"]},{family:"Manrope",category:"sans-serif",variants:["300","400","600","700"]},{family:"Merriweather Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Noto Sans",category:"sans-serif",variants:["400","700"]},{family:"Oxygen",category:"sans-serif",variants:["300","400","700"]},{family:"Play",category:"sans-serif",variants:["400","700"]},{family:"Proza Libre",category:"sans-serif",variants:["400","700"]},{family:"Roboto Slab",category:"serif",variants:["300","400","700"]},{family:"Saira",category:"sans-serif",variants:["300","400","600","700"]},{family:"Titillium Web",category:"sans-serif",variants:["200","400","600","700"]},{family:"Varela Round",category:"sans-serif",variants:["400"]},{family:"Zilla Slab",category:"serif",variants:["400","700"]}],Wl=new Map(Gc.map(l=>[l.family,l])),Ba=["Dancing Script","Pacifico","Caveat","Shadows Into Light","Satisfy","Amatic SC","Kalam","Permanent Marker","Rock Salt","Allura","Alex Brush","Bad Script","Marck Script","Pangolin","Great Vibes","Homemade Apple","Kaushan Script"];function ap(){var Tn,an,Ln,Ii,Di,ar;const{state:l,dispatch:a}=jn(),c=l.pages.find(h=>h.id===l.activePageId)??l.pages[0],g=U.useMemo(()=>Jf(c==null?void 0:c.safeZone),[c==null?void 0:c.safeZone]),f=U.useMemo(()=>c?c.nodes.find(h=>h.id===l.selectedLayerId)??null:null,[c,l.selectedLayerId]),[C,z]=U.useState(()=>{const h=localStorage.getItem("inspector-panel-width");return h?parseInt(h,10):340}),[S,R]=U.useState(!1),_=U.useRef(null),k=U.useRef(new Set),j=U.useRef(!1),[I,le]=U.useState([]),[ae,W]=U.useState([]),[E,Q]=U.useState(!1),[de,we]=U.useState(!1),[J,se]=U.useState(!1),[Se,Ce]=U.useState(""),[Ne,qe]=U.useState("all"),be=U.useRef(null),Ve=U.useRef(null),[Te,Oe]=U.useState(null),[M,F]=U.useState(1),[q,V]=U.useState(0),[A,Y]=U.useState(0),L=U.useRef(null),[y,P]=U.useState(!1),[ue,re]=U.useState(""),[pe,fe]=U.useState("all"),ge=U.useRef(null),he=U.useRef(null),[ve,We]=U.useState(null),[Jt,en]=U.useState(null),[Wt,Ot]=U.useState(""),ot=U.useCallback((h,N)=>{const B=Ha(h);if(!B||k.current.has(B))return;const ie=up(B,N);if(!ie)return;const ce=document.createElement("link");ce.rel="stylesheet",ce.href=ie,document.head.appendChild(ce),k.current.add(B)},[]),ht=U.useMemo(()=>{const h=new Map;return I.forEach(N=>{N!=null&&N.family&&h.set(N.family,N)}),h},[I]),Ie=U.useMemo(()=>Ha((f==null?void 0:f.fontFamily)||""),[f==null?void 0:f.fontFamily]),H=U.useMemo(()=>ht.get(Ie)??Wl.get(Ie)??null,[ht,Ie]),at=U.useMemo(()=>{const h=ae.length>0?ae:Gc,N=(H==null?void 0:H.category)??Tc(f==null?void 0:f.fontFamily),B=(H==null?void 0:H.variants)??[],ce=[...Ie?[{family:Ie,category:N,variants:B}]:[],...h],ee=new Set,ye=[];for(const Pe of ce)if(!(!Pe||!Pe.family)&&!ee.has(Pe.family)&&(ee.add(Pe.family),ye.push(Pe),ye.length>=120))break;return ye},[ae,H,Ie,f==null?void 0:f.fontFamily]),mt=U.useMemo(()=>{const h=new Set;return at.forEach(N=>{N!=null&&N.category&&h.add(N.category)}),["all",...Array.from(h)]},[at]),gt=U.useMemo(()=>{const h=Se.trim().toLowerCase();return at.filter(N=>!(N!=null&&N.family)||Ne!=="all"&&(N.category??"").toLowerCase()!==Ne.toLowerCase()||Ne==="handwriting"&&ae.length>0&&!Ba.includes(N.family)?!1:h?N.family.toLowerCase().includes(h):!0)},[at,Se,Ne,ae.length]),Xn=U.useMemo(()=>{const h=ue.trim().toLowerCase();return np.filter(N=>pe!=="all"&&N.group!==pe?!1:h?N.label.toLowerCase().includes(h)||N.description.toLowerCase().includes(h):!0)},[ue,pe]);U.useEffect(()=>{localStorage.setItem("inspector-panel-width",C.toString())},[C]),U.useEffect(()=>{if(!J)return;const h=B=>{B.key==="Escape"&&se(!1)},N=B=>{const ie=be.current,ce=Ve.current;!ie||!ce||!ie.contains(B.target)&&!ce.contains(B.target)&&se(!1)};return document.addEventListener("keydown",h),document.addEventListener("mousedown",N),()=>{document.removeEventListener("keydown",h),document.removeEventListener("mousedown",N)}},[J]),U.useEffect(()=>{if(!y)return;const h=B=>{B.key==="Escape"&&P(!1)},N=B=>{const ie=ge.current,ce=he.current;ie&&(ie.contains(B.target)||ce&&ce.contains(B.target)||P(!1))};return document.addEventListener("keydown",h),document.addEventListener("mousedown",N),()=>{document.removeEventListener("keydown",h),document.removeEventListener("mousedown",N)}},[y]),U.useEffect(()=>{if(!J)return;function h(){if(!(!Ve.current||!_.current))try{const N=Ve.current.getBoundingClientRect(),B=_.current.getBoundingClientRect(),ie=Math.min(400,Math.max(250,Math.round(N.width*1.5))),ce=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let ee=B.left-ie-12+window.scrollX,ye=N.top+window.scrollY-600;ee<8&&(ee=B.right+12+window.scrollX);const Pe=window.scrollY+window.innerHeight-48;ye>Pe&&(ye=Math.max(window.scrollY+8,Pe-8)),ye<window.scrollY+8&&(ye=window.scrollY+8),Oe({top:ye,left:ee,width:ie,height:ce})}catch{}}return h(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[J]),U.useEffect(()=>{if(!y)return;function h(){if(!(!he.current||!_.current))try{const N=he.current.getBoundingClientRect(),B=_.current.getBoundingClientRect(),ie=Math.min(window.innerWidth-24,Math.max(1e3,Math.round(N.width*3))),ce=500;let ee=B.left-ie-12+window.scrollX,ye=N.top+window.scrollY-6;ee<8&&(ee=B.right+12+window.scrollX);const Pe=window.scrollY+window.innerHeight-48;ye>Pe&&(ye=Math.max(window.scrollY+8,Pe-8)),ye<window.scrollY+8&&(ye=window.scrollY+8),We({top:ye,left:ee,width:ie,height:ce})}catch{}}return h(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[y]),U.useEffect(()=>{if(j.current)return;j.current=!0;const h=new AbortController;we(!0);async function N(){let B=!1;for(const ie of lp){if(h.signal.aborted)break;try{const ce=op(ie),ee=await fetch(ce,{signal:h.signal});if(!ee.ok)continue;const ye=await ee.json(),Pe=Array.isArray(ye==null?void 0:ye.items)?ye.items.slice(0,250):[],kt=Pe.filter(sn=>Ba.includes(sn.family)),rt=Pe.filter(sn=>!Ba.includes(sn.family)),It=[...kt,...rt];le(It),W(It.slice(0,150)),B=!0;break}catch{if(h.signal.aborted)break;continue}}B||console.error("[InkWise Builder] Failed to load Google Fonts with provided API keys."),h.signal.aborted||we(!1)}return N(),()=>{h.abort()}},[]);const Qn=U.useCallback(()=>{E||ae.length>=I.length||(Q(!0),W(h=>{const N=I.slice(h.length,h.length+200);return[...h,...N]}),Q(!1))},[I,ae.length,E]);U.useEffect(()=>{if(!Ie)return;const h=ht.get(Ie)??Wl.get(Ie);h&&ot(Ie,h.variants)},[Ie,ht,ot]),U.useEffect(()=>{const h=new Set;l.pages.forEach(N=>{(N.nodes??[]).forEach(B=>{if((B==null?void 0:B.type)==="text"&&B.fontFamily){const ie=Ha(B.fontFamily);ie&&h.add(ie)}})}),h.forEach(N=>{const B=ht.get(N)??Wl.get(N);B&&ot(N,B.variants)})},[l.pages,ht,ot]),U.useEffect(()=>{J&&gt.slice(0,24).forEach(h=>{h!=null&&h.family&&ot(h.family,h.variants)})},[J,gt,ot]),U.useEffect(()=>{!J||E||ae.length>=I.length||ae.length<200&&Qn()},[J,ae.length,I.length,E,Qn]);const wi=h=>{R(!0),h.preventDefault()},Gn=h=>{if(!S)return;const N=Math.max(280,Math.min(600,window.innerWidth-h.clientX));z(N)},Kn=()=>{R(!1)};if(U.useEffect(()=>(S?(document.addEventListener("mousemove",Gn),document.addEventListener("mouseup",Kn),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",Gn),document.removeEventListener("mouseup",Kn),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",Gn),document.removeEventListener("mouseup",Kn),document.body.style.cursor="",document.body.style.userSelect=""}),[S]),!c)return null;const Ue=f?Lc(f.frame,c):null,Zn=(f==null?void 0:f.type)==="text",_i=(f==null?void 0:f.type)==="image",tn=!!((Tn=f==null?void 0:f.metadata)!=null&&Tn.clipContent),nn=Number((an=f==null?void 0:f.metadata)==null?void 0:an.imageScale),Si=Number.isFinite(nn)?Rr(nn,.25,4):1,Tr=Number((Ln=f==null?void 0:f.metadata)==null?void 0:Ln.imageOffsetX),Lr=Number((Ii=f==null?void 0:f.metadata)==null?void 0:Ii.imageOffsetY),ki=Number.isFinite(Tr)?Rr(Tr,-500,500):0,qn=Number.isFinite(Lr)?Rr(Lr,-500,500):0,Jn=!!((Di=f==null?void 0:f.metadata)!=null&&Di.flipHorizontal),er=!!((ar=f==null?void 0:f.metadata)!=null&&ar.flipVertical);U.useEffect(()=>{(f==null?void 0:f.type)==="image"&&(F(Si),V(ki),Y(qn))},[f==null?void 0:f.id,Si,ki,qn]),U.useEffect(()=>{try{l.recentlyUploadedImages&&l.recentlyUploadedImages.length>0&&(console.debug("[Inspector] recentlyUploadedImages count=",l.recentlyUploadedImages.length),l.recentlyUploadedImages.forEach((h,N)=>{console.debug(`[Inspector] recent[${N}]`,h.fileName,(h.dataUrl||"").slice(0,80))}))}catch{}},[l.recentlyUploadedImages]);const zr=h=>{a({type:"UPDATE_PAGE_PROPS",pageId:c.id,props:{background:h.target.value}})},Fr=()=>{if(y)P(!1),re(""),fe("all");else if(P(!0),re(""),fe("all"),he.current&&_.current)try{const h=he.current.getBoundingClientRect(),N=_.current.getBoundingClientRect(),B=Math.min(6e3,Math.max(3500,h.width*4)),ie=500,ce=window.scrollY+8,ee=window.scrollY+window.innerHeight-8,ye=Math.max(120,ee-ce),Pe=Math.min(ie,ye);let kt=N.left-B-12+window.scrollX;kt<8&&(kt=N.right+12+window.scrollX);let rt=h.top+window.scrollY-6;const It=Math.max(ce,ee-Pe);rt>It&&(rt=It),rt<ce&&(rt=ce),We({top:rt,left:kt,width:B,height:Pe})}catch{We(null)}},rn=()=>{a({type:"ADD_PAGE",page:null})},ln=h=>{a({type:"SELECT_PAGE",pageId:h})},Ni=(h,N)=>{N.stopPropagation(),a({type:"DELETE_PAGE",pageId:h})},Ei=(h,N)=>{en(h),Ot(N)},Ci=h=>{Ot(h.target.value)},Ar=h=>{if(!h)return;const N=Wt.trim();N&&a({type:"UPDATE_PAGE_PROPS",pageId:h,props:{name:N}}),en(null),Ot("")},Mi=(h,N)=>{h.key==="Enter"?(h.preventDefault(),Ar(N)):h.key==="Escape"&&(en(null),Ot(""))},ke=h=>{if(!f)return;const N={...h};h.metadata&&(N.metadata={...f.metadata??{},...h.metadata}),a({type:"UPDATE_LAYER_PROPS",pageId:c.id,layerId:f.id,props:N})},ji=()=>{ke({visible:f.visible===!1})},Pn=()=>{ke({locked:!f.locked})},tr=h=>{ke({side:h})},Rn=h=>{if(!c)return;const N=h.getSize?h.getSize({page:c,safeInsets:g}):{width:200,height:160};if((f==null?void 0:f.type)==="shape"){const B=Lc(f.frame,c),ie=tp(B,N.width,N.height,c,g);ke({name:h.label,variant:h.variant??f.variant,borderRadius:h.borderRadius??f.borderRadius,metadata:{...f.metadata??{},...h.metadata??{}},frame:ie})}else if(f){const B=Vn("shape",c,{name:h.label,variant:h.variant??"rectangle",borderRadius:h.borderRadius??16,metadata:h.metadata??{}});if(B.frame){const ie=ep(N.width,N.height,c,g);B.frame=Qc(ie,c,g)}a({type:"ADD_LAYER",pageId:c.id,layer:B}),a({type:"SELECT_LAYER",layerId:B.id})}else{const B={id:h.id,variant:h.variant??"rectangle",borderRadius:h.borderRadius??0};a({type:"UPDATE_PAGE_PROPS",pageId:c.id,props:{shape:B}})}P(!1),re(""),fe("all")},bn=h=>N=>{const B=Number.parseFloat(N.target.value);if(!Number.isFinite(B)||!Ue)return;const ie={...Ue,[h]:h==="width"||h==="height"?Math.max(1,B):B};ke({frame:ie})},on=h=>{if(!Number.isFinite(h))return;const N=Rr(h,0,100);ke({opacity:N/100})},nr=h=>{on(Number.parseInt(h.target.value,10))},rr=h=>{on(Number.parseInt(h.target.value,10))},Or=h=>{ke({fill:h.target.value})},Yl=h=>{const N=Number.parseInt(h.target.value,10);Number.isFinite(N)&&ke({borderRadius:Math.max(0,N)})},Vl=h=>{ke({content:h.target.value})},Xl=h=>{const N=Number.parseInt(h.target.value,10);Number.isFinite(N)&&ke({fontSize:Math.max(8,N)})},$t=h=>{const N=h.target.value,B=(String(N)||"").trim();B&&ke({fontWeight:B})},Pi=U.useCallback(h=>{if(!h)return;const N=ht.get(h)??Wl.get(h)??null;N&&ot(h,N.variants);const B=(N==null?void 0:N.category)??Tc(f==null?void 0:f.fontFamily),ie=Kc(B),ce=ie?`${h}, ${ie}`:h;ke({fontFamily:ce})},[ht,f==null?void 0:f.fontFamily,ot,ke]),Ri=h=>{Pi(h),se(!1)},Ql=h=>{Ce(h.target.value)},bi=h=>{qe(h.target.value)},Ti=h=>{re(h.target.value)},Li=h=>{fe(h.target.value)},zi=()=>{ke({metadata:{clipContent:!tn}})},Gl=()=>{ke({metadata:{imageScale:M,imageOffsetX:q,imageOffsetY:A}})},Kl=()=>{F(1),V(0),Y(0),ke({metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}})},Le=h=>()=>{if(!Ue)return;const B=((Number.isFinite(Ue.rotation)?Ue.rotation:0)+h)%360,ie=B<0?B+360:B;ke({frame:{...Ue,rotation:Math.round(ie)}})},Fi=h=>()=>{ke(h==="horizontal"?{metadata:{flipHorizontal:!Jn}}:{metadata:{flipVertical:!er}})},Ir=()=>{var h;f&&((h=L.current)==null||h.click())},Ai=h=>{var ce;const N=(ce=h.target.files)==null?void 0:ce[0];if(!N||!f)return;if(!N.type.startsWith("image/")){alert("Please choose an image file."),h.target.value="";return}const B=10*1024*1024;if(N.size>B){alert("Selected image is too large. Please use a file smaller than 10MB."),h.target.value="";return}const ie=new FileReader;ie.onload=async ee=>{var kt;const ye=(kt=ee.target)==null?void 0:kt.result;if(typeof ye!="string"||!ye.startsWith("data:image/")){alert("Unable to load the selected image. Please try again.");return}const Pe=new Image;Pe.onload=async()=>{try{const rt=await xi(()=>import("./recentImagesDB-CO6kquVm.js"),[]),It=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await rt.saveImage(It,N.name,N),rt.pruneOld(10).catch(()=>{});const sn=URL.createObjectURL(N);a({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:sn,fileName:N.name})}catch(rt){console.error("Failed to persist recent image:",rt),a({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:ye,fileName:N.name})}ke({content:ye,name:N.name||f.name,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}})},Pe.onerror=()=>{console.error("Preload failed for data URL"),alert("Uploaded image could not be rendered. Try a different file.")},Pe.src=ye},ie.onerror=()=>{alert("There was a problem reading the file. Please try again.")},ie.readAsDataURL(N),h.target.value=""},ir=()=>{f&&(F(1),V(0),Y(0),ke({content:"",metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0}}),L.current&&(L.current.value=""))},Zl=()=>{!f||!window.confirm(`Delete "${f.name}"? You can undo this action if needed.`)||a({type:"REMOVE_LAYER",pageId:c.id,layerId:f.id})},Oi=h=>()=>{if(!f||!Ue)return;const N=h(Ue,c)??{},B=Math.max(0,c.width-Ue.width),ie=Math.max(0,c.height-Ue.height),ce={...Ue,...N};typeof ce.x=="number"&&(ce.x=Rr(Math.round(ce.x),0,B)),typeof ce.y=="number"&&(ce.y=Rr(Math.round(ce.y),0,ie)),ke({frame:ce})},lr=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Pages"}),u.jsx("button",{type:"button",className:"builder-btn inspector-btn--add",onClick:rn,children:"Add page"})]}),u.jsx("div",{className:"inspector-pages__list",role:"list",children:l.pages.map(h=>{const N=h.id===l.activePageId;return u.jsxs("div",{className:"inspector-pages__item-wrapper",children:[u.jsxs("button",{type:"button",className:`inspector-pages__item ${N?"is-active":""}`,onClick:()=>ln(h.id),"aria-pressed":N,children:[u.jsx("span",{className:"inspector-pages__thumb","aria-hidden":"true",children:u.jsx("span",{className:"inspector-pages__thumb-page"})}),Jt===h.id?u.jsx("input",{type:"text",className:"inspector-pages__label-input",value:Wt,onChange:Ci,onBlur:()=>Ar(h.id),onKeyDown:B=>Mi(B,h.id),autoFocus:!0}):u.jsx("span",{className:"inspector-pages__label",onClick:()=>Ei(h.id,h.name),style:{cursor:"pointer"},children:h.name})]}),l.pages.length>1&&u.jsx("div",{className:"inspector-pages__item-controls",children:u.jsx("button",{type:"button",className:"inspector-pages__control inspector-pages__control--delete",onClick:B=>Ni(h.id,B),"aria-label":`Delete ${h.name}`,title:`Delete ${h.name}`,children:u.jsx("i",{className:"fas fa-trash-alt","aria-hidden":"true"})})})]},h.id)})})]}),St=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Page"}),u.jsxs("span",{className:"inspector-section__meta",children:[c.width,"  ",c.height,"px"]})]}),u.jsxs("div",{className:"inspector-field",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("label",{className:"inspector-field",style:{margin:0},children:[u.jsx("span",{className:"inspector-field__label",children:"Background"}),u.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:zc(c.background,"#ffffff"),onChange:zr,"aria-label":"Page background color"})]}),u.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Fr,ref:he,style:{fontSize:"0.8rem",padding:"0.3rem 0.6rem",height:"auto",alignSelf:"flex-start"},children:"SHAPES"})]})]}),ql=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Position"}),u.jsx("span",{className:"inspector-section__meta",children:"X/Y & rotation"})]}),u.jsx("div",{className:"inspector-alignment",role:"group","aria-label":"Alignment controls",children:rp.map(h=>u.jsx("button",{type:"button",className:"inspector-alignment__action",onClick:Oi(h.apply),"aria-label":h.label,children:u.jsx("i",{className:h.icon,"aria-hidden":"true"})},h.id))}),u.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"X"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:Ue.x,onChange:bn("x"),step:"1"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Y"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:Ue.y,onChange:bn("y"),step:"1"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Rotation"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:Ue.rotation,onChange:bn("rotation"),step:"1"})]})]})]}),yt=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Layout"}),u.jsx("span",{className:"inspector-section__meta",children:"Dimensions & flow"})]}),u.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Width"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:Ue.width,onChange:bn("width"),min:"1",step:"1"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Height"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:Ue.height,onChange:bn("height"),min:"1",step:"1"})]})]}),u.jsxs("label",{className:"inspector-toggle",children:[u.jsx("input",{type:"checkbox",checked:tn,onChange:zi}),u.jsx("span",{children:"Clip content"})]})]}),Jl=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Appearance"}),u.jsx("span",{className:"inspector-section__meta",children:"Color & effects"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Fill"}),u.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:zc(f.fill,"#2563eb"),onChange:Or})]}),u.jsxs("div",{className:"inspector-opacity",children:[u.jsxs("label",{className:"inspector-field inspector-opacity__slider",children:[u.jsx("span",{className:"inspector-field__label",children:"Opacity"}),u.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"100",step:"5",value:Math.round((f.opacity??1)*100),onChange:nr})]}),u.jsxs("label",{className:"inspector-field inspector-opacity__input",children:[u.jsx("span",{className:"inspector-field__label",children:"%"}),u.jsx("input",{type:"number",className:"inspector-field__control",min:"0",max:"100",step:"5",value:Math.round((f.opacity??1)*100),onChange:rr})]})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Corner radius"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:f.borderRadius??0,onChange:Yl,min:"0",step:"1"})]})]}),eo=()=>u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Typography"}),u.jsx("span",{className:"inspector-section__meta",children:de?"Loading fonts...":"Text content & styling"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Content"}),u.jsx("textarea",{className:"inspector-field__control inspector-field__control--textarea",value:f.content??"",onChange:Vl,rows:3})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Font"}),u.jsxs("div",{className:"inspector-font-picker",children:[u.jsxs("button",{type:"button",className:`inspector-field__control inspector-font-picker__trigger${J?" is-open":""}`,onClick:()=>{if(!J&&Ve.current&&_.current)try{const h=Ve.current.getBoundingClientRect(),N=_.current.getBoundingClientRect(),B=Math.min(400,Math.max(250,Math.round(h.width*1.5))),ie=Math.min(640,Math.max(360,Math.round(window.innerHeight*.6)));let ce=N.left-B-12+window.scrollX,ee=h.top+window.scrollY-600;ce<8&&(ce=N.right+12+window.scrollX);const ye=window.scrollY+window.innerHeight-48;ee>ye&&(ee=Math.max(window.scrollY+8,ye-8)),ee<0&&(ee=0),Oe({top:ee,left:ce,width:B,height:ie})}catch{Oe(null)}se(h=>!h)},ref:Ve,"aria-expanded":J,children:[u.jsxs("span",{className:"inspector-font-picker__preview",children:[u.jsx("span",{className:"inspector-font-picker__preview-name",style:{fontFamily:(f==null?void 0:f.fontFamily)||Ie||"Inter, sans-serif"},children:Ie||"Select font"}),u.jsx("span",{className:"inspector-font-picker__preview-meta",children:Ie?Xa(H==null?void 0:H.category):"Choose a font"})]}),u.jsx("span",{className:"inspector-font-picker__chevron","aria-hidden":"true",children:u.jsx("i",{className:`fa-solid ${J?"fa-chevron-up":"fa-chevron-down"}`})})]}),J&&bc.createPortal(u.jsx(sp,{ref:be,fonts:gt,categories:mt,categoryValue:Ne,onCategoryChange:bi,searchTerm:Se,onSearchChange:Ql,onSelect:Ri,isLoading:de,currentFamily:Ie,ensureFontLoaded:ot,loadMoreFonts:Qn,loadingMore:E,style:Te?{position:"absolute",top:`${Te.top}px`,left:`${Te.left}px`,width:`${Te.width}px`,...Te.height?{height:`${Te.height}px`}:{}}:{position:"absolute"}}),document.body)]})]}),u.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Font size"}),u.jsx("input",{type:"number",className:"inspector-field__control",value:f.fontSize??48,onChange:Xl,min:"8",step:"1"})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Font weight"}),u.jsxs("select",{className:"inspector-field__control",value:String(f.fontWeight??"400"),onChange:$t,children:[u.jsx("option",{value:"100",children:"Thin"}),u.jsx("option",{value:"200",children:"Extra Light / Ultra Light"}),u.jsx("option",{value:"300",children:"Light"}),u.jsx("option",{value:"400",children:"Regular / Normal"}),u.jsx("option",{value:"500",children:"Medium"}),u.jsx("option",{value:"600",children:"Semi Bold / Demi Bold"}),u.jsx("option",{value:"700",children:"Bold"}),u.jsx("option",{value:"800",children:"Extra Bold / Ultra Bold"}),u.jsx("option",{value:"900",children:"Black / Heavy"}),u.jsx("option",{value:"normal",children:"normal"}),u.jsx("option",{value:"bold",children:"bold"})]})]})]})]}),to=()=>{var h,N,B;return u.jsxs("div",{className:"inspector-panel__group",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Image"}),u.jsx("span",{className:"inspector-section__meta",children:"Source & display"})]}),u.jsxs("div",{className:"inspector-field inspector-field--actions",children:[u.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Ir,children:"Replace image"}),(f==null?void 0:f.content)&&u.jsx("button",{type:"button",className:"builder-btn inspector-btn is-muted",onClick:ir,children:"Remove image"})]}),u.jsx("div",{className:"inspector-field inspector-field--actions",children:u.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Le(90),children:"Rotate +90"})}),u.jsxs("div",{className:"inspector-field inspector-field--actions",children:[u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${Jn?"is-active":""}`,onClick:Fi("horizontal"),children:"Flip horizontal"}),u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${er?"is-active":""}`,onClick:Fi("vertical"),children:"Flip vertical"})]}),u.jsxs("div",{className:"inspector-field inspector-field--actions",children:[u.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Gl,children:"Crop"}),u.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:Kl,children:"Reset adjustments"})]}),u.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Brightness"}),u.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((h=f.metadata)==null?void 0:h.brightness)??100,onChange:ie=>ke({metadata:{brightness:Number.parseInt(ie.target.value,10)}})})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Contrast"}),u.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((N=f.metadata)==null?void 0:N.contrast)??100,onChange:ie=>ke({metadata:{contrast:Number.parseInt(ie.target.value,10)}})})]}),u.jsxs("label",{className:"inspector-field",children:[u.jsx("span",{className:"inspector-field__label",children:"Saturation"}),u.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:((B=f.metadata)==null?void 0:B.saturation)??100,onChange:ie=>ke({metadata:{saturation:Number.parseInt(ie.target.value,10)}})})]})]})]})},or=()=>u.jsxs("div",{className:"inspector-panel__group inspector-panel__group--actions",children:[u.jsxs("div",{className:"inspector-section__header",children:[u.jsx("h3",{children:"Layer actions"}),u.jsx("span",{className:"inspector-section__meta",children:"Visibility & locking"})]}),u.jsxs("div",{className:"inspector-field inspector-field--actions",children:[u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${f.side==="front"?"is-active":""}`,onClick:()=>tr("front"),children:"Front"}),u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${f.side==="back"?"is-active":""}`,onClick:()=>tr("back"),children:"Back"})]}),u.jsxs("div",{className:"inspector-field inspector-field--actions",children:[u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${f.visible===!1?"is-muted":""}`,onClick:ji,children:f.visible===!1?"Show layer":"Hide layer"}),u.jsx("button",{type:"button",className:`builder-btn inspector-btn ${f.locked?"is-active":""}`,onClick:Pn,children:f.locked?"Unlock layer":"Lock layer"}),u.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--danger",onClick:Zl,children:"Delete layer"})]})]});return u.jsxs(u.Fragment,{children:[u.jsxs("section",{ref:_,className:"inspector-panel",style:{width:`${C}px`,right:0,top:0,bottom:0,position:"absolute"},"aria-label":"Layer inspector",children:[u.jsxs("header",{className:"inspector-panel__header",children:[u.jsx("h2",{children:"Inspector"}),u.jsx("span",{className:`inspector-chip ${f?"":"inspector-chip--muted"}`,children:f?f.name:"No layer selected"})]}),u.jsxs("div",{className:"inspector-panel__body inspector-panel__body--unified",children:[lr(),St(),!f&&u.jsx("p",{className:"inspector-panel__empty",children:"Select a layer on the canvas to adjust its position, layout, and appearance."}),f&&u.jsxs(u.Fragment,{children:[ql(),yt(),Zn&&eo(),_i&&to(),Jl(),or()]})]}),u.jsx("div",{className:"inspector-panel__resize-handle",onMouseDown:wi,"aria-label":"Resize inspector panel"}),u.jsx("input",{type:"file",ref:L,onChange:Ai,accept:"image/*",style:{display:"none"}})]}),y&&bc.createPortal(u.jsxs("div",{ref:ge,className:"inspector-shape-modal",role:"dialog","aria-label":"Choose a shape",style:ve?{position:"absolute",top:`${ve.top}px`,left:`${ve.left}px`,width:`${ve.width}px`,height:`${ve.height}px`}:{position:"absolute"},children:[u.jsxs("div",{className:"inspector-shape-modal__header",children:[u.jsxs("div",{children:[u.jsx("h4",{children:"Select a shape"}),u.jsx("p",{children:"Search or pick a shape to add or update."})]}),u.jsx("button",{type:"button",className:"inspector-shape-modal__close",onClick:()=>{P(!1),re(""),fe("all")},"aria-label":"Close shape picker",children:u.jsx("span",{"aria-hidden":"true",children:""})})]}),u.jsx("div",{className:"inspector-field inspector-shape-modal__search",children:u.jsx("input",{type:"search",className:"inspector-field__control",value:ue,onChange:Ti,placeholder:"Search shapes","aria-label":"Search shapes",autoFocus:!0})}),u.jsx("div",{className:"inspector-field inspector-shape-modal__filter",children:u.jsx("select",{className:"inspector-field__control",value:pe,onChange:Li,"aria-label":"Filter shapes by category",children:ip.map(h=>u.jsx("option",{value:h.value,children:h.label},h.value))})}),u.jsx("div",{className:"inspector-shape-modal__grid",children:Xn.length>0?Xn.map(h=>u.jsxs("button",{type:"button",className:"inspector-shape-modal__item",onClick:()=>Rn(h),children:[u.jsx("span",{className:`inspector-shape-modal__preview inspector-shape-modal__preview--${h.preview}`,"aria-hidden":"true"}),u.jsxs("span",{className:"inspector-shape-modal__info",children:[u.jsx("span",{className:"inspector-shape-modal__name",children:h.label}),u.jsx("span",{className:"inspector-shape-modal__description",children:h.description})]})]},h.id)):u.jsx("div",{className:"inspector-shape-modal__empty",children:"No shapes match your search."})})]}),document.body)]})}const sp=Ga.forwardRef(function({fonts:a,categories:c,categoryValue:g,onCategoryChange:f,searchTerm:C,onSearchChange:z,onSelect:S,isLoading:R,currentFamily:_,ensureFontLoaded:k,loadMoreFonts:j,loadingMore:I,style:le},ae){const W=U.useRef(null),E=U.useRef(null);return U.useEffect(()=>{W.current&&W.current.focus()},[]),U.useEffect(()=>{a.slice(0,32).forEach(Q=>{Q!=null&&Q.family&&k(Q.family,Q.variants)})},[a,k]),U.useEffect(()=>{const Q=E.current;if(!Q)return;const de=()=>{const{scrollTop:we,scrollHeight:J,clientHeight:se}=Q;we+se>=J-200&&j()};return Q.addEventListener("scroll",de),()=>Q.removeEventListener("scroll",de)},[j]),u.jsxs("div",{className:"inspector-font-modal",ref:ae,role:"dialog","aria-label":"Choose font",style:le,children:[u.jsxs("div",{className:"inspector-font-modal__header",children:[u.jsx("input",{ref:W,type:"text",className:"inspector-font-modal__search",placeholder:"Search fonts",value:C,onChange:z,"aria-label":"Search fonts"}),u.jsx("select",{className:"inspector-font-modal__filter",value:g,onChange:f,"aria-label":"Filter fonts by category",children:c.map(Q=>u.jsx("option",{value:Q,children:Q==="all"?"All fonts":Xa(Q)},Q))})]}),u.jsxs("div",{className:"inspector-font-modal__list",ref:E,role:"listbox",children:[R&&a.length===0&&u.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[u.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading fonts..."]}),!R&&a.length===0&&u.jsx("div",{className:"inspector-font-modal__status",children:"No fonts match your search."}),a.map(Q=>{const de=Kc(Q.category),we=de?`${Q.family}, ${de}`:Q.family,J=_&&Q.family.toLowerCase()===_.toLowerCase();return u.jsxs("button",{type:"button",className:`inspector-font-modal__item${J?" is-active":""}`,onClick:()=>S(Q.family),style:{fontFamily:we},role:"option","aria-selected":J,children:[u.jsx("span",{className:"inspector-font-modal__item-name",children:Q.family}),u.jsx("span",{className:"inspector-font-modal__item-meta",children:Xa(Q.category)})]},Q.family)}),I&&u.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[u.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading more fonts..."]})]})]})});function Ha(l){return!l||typeof l!="string"?"":l.replace(/["']/g,"").split(",")[0].trim()}function up(l,a){if(!l)return"";const c=l.trim().replace(/\s+/g,"+");let g="";if(Array.isArray(a)){const f=a.filter(C=>/^\d+$/.test(C));f.length>0&&(g=`:wght@${Array.from(new Set(f)).slice(0,4).join(";")}`)}return`https://fonts.googleapis.com/css2?family=${c}${g}&display=swap`}function Kc(l){switch((l||"").toLowerCase()){case"serif":return"serif";case"monospace":return"monospace";case"handwriting":return"cursive";case"display":return"sans-serif";default:return"sans-serif"}}function Tc(l){if(!l||typeof l!="string")return"sans-serif";const a=l.toLowerCase();return a.includes("mono")?"monospace":a.includes("serif")?"serif":a.includes("script")||a.includes("cursive")||a.includes("handwriting")?"handwriting":"sans-serif"}function Xa(l){return!l||typeof l!="string"?"Mixed":l.split(/[-_\s]+/).filter(Boolean).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function Rr(l,a,c){return Number.isFinite(l)?Math.min(Math.max(l,a),c):a}function Lc(l,a){return l&&typeof l=="object"?{x:yi(l.x),y:yi(l.y),width:Math.max(1,yi(l.width??a.width/2)),height:Math.max(1,yi(l.height??a.height/2.5)),rotation:yi(l.rotation??0)}:{x:Math.round(a.width*.1),y:Math.round(a.height*.1),width:Math.round(a.width*.6),height:Math.round(a.height*.25),rotation:0}}function zc(l,a="#2563eb"){if(typeof l=="string"){const c=l.trim();if(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(c))return c;if(/^#([a-fA-F0-9]{8})$/.test(c))return`#${c.slice(1,7)}`}return a}function yi(l){return Number.isFinite(l)?Math.round(l):0}const cp=.25,dp=3,Wa=.1;function fp(){const{state:l,dispatch:a}=jn(),c=Math.round(l.zoom*100),g=l.pages.find(k=>k.id===l.activePageId)??l.pages[0],f=k=>{a({type:"UPDATE_ZOOM",value:k})},C=()=>f(l.zoom-Wa),z=()=>f(l.zoom+Wa),S=()=>f(1),R=k=>{const j=parseInt(k.target.value,10);!isNaN(j)&&j>0&&g&&a({type:"UPDATE_PAGE_PROPS",pageId:g.id,props:{width:j}})},_=k=>{const j=parseInt(k.target.value,10);!isNaN(j)&&j>0&&g&&a({type:"UPDATE_PAGE_PROPS",pageId:g.id,props:{height:j}})};return u.jsxs("div",{className:"canvas-toolbar",role:"toolbar","aria-label":"Canvas controls",children:[u.jsx("div",{className:"canvas-toolbar__group",children:u.jsxs("div",{className:"canvas-toolbar__page-size",children:[u.jsx("label",{className:"canvas-toolbar__label",children:"Page"}),u.jsxs("div",{className:"canvas-toolbar__dimensions",children:[u.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(g==null?void 0:g.width)??400,onChange:R,min:"1",max:"5000","aria-label":"Page width"}),u.jsx("span",{className:"canvas-toolbar__separator",children:""}),u.jsx("input",{type:"number",className:"canvas-toolbar__input",value:(g==null?void 0:g.height)??400,onChange:_,min:"1",max:"5000","aria-label":"Page height"}),u.jsx("span",{className:"canvas-toolbar__unit",children:"px"})]})]})}),u.jsxs("div",{className:"canvas-toolbar__group",children:[u.jsx("button",{type:"button",onClick:C,className:"builder-btn","aria-label":"Zoom out",children:""}),u.jsx("input",{className:"canvas-toolbar__slider",type:"range",min:cp*100,max:dp*100,step:Wa*100,value:c,onChange:k=>f(Number(k.target.value)/100),"aria-label":"Zoom level"}),u.jsx("button",{type:"button",onClick:z,className:"builder-btn","aria-label":"Zoom in",children:"+"})]}),u.jsxs("div",{className:"canvas-toolbar__group",children:[u.jsxs("span",{className:"canvas-toolbar__label",children:[c,"%"]}),u.jsx("button",{type:"button",onClick:S,className:"builder-btn","aria-label":"Reset zoom",children:"Reset"}),u.jsx("button",{type:"button",className:"builder-btn",disabled:!0,"aria-label":"Fit to page",children:"Fit"})]})]})}function Fc(l){if(!l)return{top:0,right:0,bottom:0,left:0};const a=g=>{if(typeof g=="number")return g;if(typeof g=="string"){const f=parseFloat(g);return Number.isNaN(f)?0:f}return 0},c=a(l.margin??l.all??0);return{top:a(l.top??c),right:a(l.right??c),bottom:a(l.bottom??c),left:a(l.left??c)}}function Ac(l,a,c){const g=c.left,f=a.width-c.right-l.width,C=c.top,z=a.height-c.bottom-l.height;return{...l,x:Math.max(g,Math.min(f,l.x)),y:Math.max(C,Math.min(z,l.y))}}function Zc({page:l}){const{state:a,dispatch:c}=jn(),g=U.useRef(null),f=U.useRef(null),C=U.useRef(null),[z,S]=U.useState(null),[R,_]=U.useState(null);if(!l)return null;const k=a.zoom??1,j=a.panX??0,I=a.panY??0,le=a.selectedLayerId,ae=M=>{c({type:"SELECT_LAYER",layerId:M})},W=M=>{if(M.target.closest(".canvas-layer"))return;const F=M.pointerId;f.current={pointerId:F,start:{x:M.clientX,y:M.clientY},startPan:{x:j,y:I}};try{M.currentTarget.setPointerCapture(F)}catch{}M.preventDefault()},E=M=>{const F=f.current;if(!F||M.pointerId!==F.pointerId)return;const q=M.clientX-F.start.x,V=M.clientY-F.start.y,A=F.startPan.x+q,Y=F.startPan.y+V;c({type:"UPDATE_PAN",panX:A,panY:Y})},Q=M=>{const F=f.current;if(!(!F||M.pointerId!==F.pointerId)){try{M.currentTarget.releasePointerCapture(F.pointerId)}catch{}f.current=null}},de=(M,F,q)=>{if(F.locked)return;c({type:"BEGIN_LAYER_TRANSFORM"}),S(F.id);const V=M.pointerId;g.current={pointerId:V,layerId:F.id,start:{x:M.clientX,y:M.clientY},startFrame:{...q}};try{M.currentTarget.setPointerCapture(V)}catch{}M.preventDefault()},we=M=>{const F=g.current;if(F&&M.pointerId===F.pointerId){const A=(M.clientX-F.start.x)/k,Y=(M.clientY-F.start.y)/k,L={x:F.startFrame.x+A,y:F.startFrame.y+Y,width:F.startFrame.width,height:F.startFrame.height,rotation:F.startFrame.rotation??0},y=Ac(L,l,Ne);c({type:"UPDATE_LAYER_FRAME",pageId:l.id,layerId:F.layerId,frame:y,trackHistory:!1});return}const q=C.current;if(q&&M.pointerId===q.pointerId){Se(M);return}const V=f.current;if(V&&M.pointerId===V.pointerId){const A=M.clientX-V.start.x,Y=M.clientY-V.start.y,L=V.startPan.x+A,y=V.startPan.y+Y;c({type:"UPDATE_PAN",panX:L,panY:y})}},J=M=>{const F=g.current;if(!(!F||M.pointerId!==F.pointerId)){try{M.currentTarget.releasePointerCapture(F.pointerId)}catch{}g.current=null,S(null)}},se=(M,F,q,V)=>{if(F.locked)return;M.stopPropagation(),c({type:"BEGIN_LAYER_TRANSFORM"}),_(F.id);const A=M.pointerId,Y=M.currentTarget;C.current={pointerId:A,layerId:F.id,corner:V,start:{x:M.clientX,y:M.clientY},startFrame:{...q},hasMoved:!1,captureTarget:Y};try{Y.setPointerCapture(A)}catch(L){console.warn("Failed to capture pointer for resize:",L)}M.preventDefault()},Se=M=>{const F=C.current;if(!F||M.pointerId!==F.pointerId)return;const q=(M.clientX-F.start.x)/k,V=(M.clientY-F.start.y)/k,A=3,Y=Math.abs(q*k)>A||Math.abs(V*k)>A;if(!F.hasMoved&&Y&&(F.hasMoved=!0),!F.hasMoved)return;let L={...F.startFrame};switch(F.corner){case"nw":L.width=Math.max(20,F.startFrame.width-q),L.height=Math.max(20,F.startFrame.height-V),L.x=F.startFrame.x+(F.startFrame.width-L.width),L.y=F.startFrame.y+(F.startFrame.height-L.height);break;case"ne":L.width=Math.max(20,F.startFrame.width+q),L.height=Math.max(20,F.startFrame.height-V),L.y=F.startFrame.y+(F.startFrame.height-L.height);break;case"sw":L.width=Math.max(20,F.startFrame.width-q),L.height=Math.max(20,F.startFrame.height+V),L.x=F.startFrame.x+(F.startFrame.width-L.width);break;case"se":L.width=Math.max(20,F.startFrame.width+q),L.height=Math.max(20,F.startFrame.height+V);break}c({type:"UPDATE_LAYER_FRAME",pageId:l.id,layerId:F.layerId,frame:Ac(L,l,Ne),trackHistory:!1})},Ce=M=>{const F=C.current;if(!(!F||M.pointerId!==F.pointerId)){if(F.captureTarget)try{F.captureTarget.releasePointerCapture(F.pointerId)}catch(q){console.warn("Failed to release pointer capture:",q)}F.hasMoved?c({type:"COMMIT_LAYER_TRANSFORM"}):c({type:"CANCEL_LAYER_TRANSFORM"}),C.current=null,_(null)}},Ne=Fc(l.safeZone),qe=Fc(l.bleed),be=l.shape??null,Te=[...Array.isArray(l.nodes)?l.nodes:[]].sort((M,F)=>{const q=M.side||"middle",V=F.side||"middle",A={back:0,middle:1,front:2};return A[q]-A[V]}),Oe=M=>{if(!M)return{};const{variant:F,id:q,borderRadius:V}=M;switch(F){case"circle":return{borderRadius:"50%",overflow:"hidden"};case"polygon":return{clipPath:{triangle:"polygon(50% 0%, 0% 100%, 100% 100%)",diamond:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",hexagon:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",octagon:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",star:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",shield:"polygon(50% 0%, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%)"}[q]||"none",overflow:"hidden"};case"organic":return{clipPath:{heart:'path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z")',"cloud-shape":"ellipse(60% 40% at 50% 50%)",flower:"polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%)",butterfly:"polygon(50% 0%, 70% 20%, 90% 40%, 70% 60%, 50% 80%, 30% 60%, 10% 40%, 30% 20%)",leaf:"polygon(50% 0%, 100% 30%, 90% 70%, 50% 100%, 10% 70%, 0% 30%)",balloon:"ellipse(50% 60% at 50% 50%)",crown:"polygon(50% 0%, 60% 25%, 85% 25%, 75% 50%, 95% 50%, 80% 75%, 100% 75%, 85% 100%, 15% 100%, 0% 75%, 20% 75%, 5% 50%, 25% 50%, 15% 25%, 40% 25%)","puzzle-piece":"polygon(0% 0%, 70% 0%, 70% 30%, 100% 30%, 100% 70%, 70% 70%, 70% 100%, 30% 100%, 30% 70%, 0% 70%)","ribbon-banner":"polygon(0% 0%, 10% 50%, 0% 100%, 100% 100%, 90% 50%, 100% 0%)"}[q]||"none",overflow:"hidden"};case"frame":return{borderRadius:typeof V=="number"?`${V}px`:V||0,overflow:"hidden"};case"tag":return{clipPath:{"tag-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)","ticket-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)"}[q]||"none",overflow:"hidden"};case"layout":return{borderRadius:typeof V=="number"?`${V}px`:V||0,overflow:"hidden"};case"rectangle":default:return{borderRadius:typeof V=="number"?`${V}px`:V||0,overflow:"hidden"}}};return u.jsx("section",{className:"canvas-viewport","aria-label":"Template canvas",children:u.jsx("div",{className:"canvas-viewport__surface",role:"img","aria-label":`Design surface for ${l.name}`,onPointerDown:W,onPointerMove:E,onPointerUp:Q,onPointerCancel:Q,children:u.jsx("div",{className:"canvas-viewport__stage",style:pp(k,l,j,I),children:u.jsxs("div",{className:"canvas-viewport__page",style:{width:l.width,height:l.height,background:l.background||"#ffffff",...Oe(be)},onClick:()=>ae(null),"data-zoom":k,children:[u.jsx("div",{className:"canvas-viewport__grid","aria-hidden":"true"}),u.jsx("div",{className:"canvas-viewport__bleed",style:Oc(qe),"aria-hidden":"true"}),u.jsx("div",{className:"canvas-viewport__safe-zone",style:Oc(Ne),"aria-hidden":"true"}),Te.length===0&&u.jsxs("div",{className:"canvas-viewport__empty-state",children:[u.jsx("h2",{children:"Canvas ready"}),u.jsx("p",{children:"Start by selecting a tool on the left. You can add live text, image placeholders, or vector shapes."})]}),Te.map((M,F)=>{const q=mp(M,F,l),V=M.id===le,A=M.visible===!1,Y=M.locked===!0,L=M.type==="text",y=M.type==="image",P=M.type==="shape",ue=M.id===z,re=(M==null?void 0:M.metadata)??{},pe=typeof re.objectFit=="string"?re.objectFit:"cover",fe=Number(re.imageScale),ge=Number.isFinite(fe)?$a(fe,.25,4):1,he=Number(re.imageOffsetX),ve=Number(re.imageOffsetY),We=Number.isFinite(he)?$a(he,-500,500):0,Jt=Number.isFinite(ve)?$a(ve,-500,500):0,en=!!re.flipHorizontal,Wt=!!re.flipVertical,Ot=en?-ge:ge,ot=Wt?-ge:ge,ht=M.id===R,Ie=hp(M,q,{hidden:A,opacity:M.opacity,isSelected:V});return u.jsxs("div",{className:`canvas-layer${V?" is-selected":""}${A?" is-hidden":""}${Y?" is-locked":""}${L?" is-text":""}${y?" is-image":""}${ue?" is-dragging":""}${ht?" is-resizing":""}`,style:Ie,role:"button",tabIndex:0,onClick:H=>{H.stopPropagation(),ae(M.id)},onPointerDown:H=>{H.target.classList.contains("canvas-layer__resize-handle")||H.target.closest(".canvas-layer__resize-handle")||(ae(M.id),de(H,M,q))},onPointerMove:we,onPointerUp:H=>{Ce(H),J(H)},onPointerCancel:H=>{Ce(H),J(H)},onKeyDown:H=>{(H.key==="Enter"||H.key===" ")&&(H.preventDefault(),ae(M.id))},"aria-label":`${M.name} layer`,"aria-pressed":V,"data-layer-id":M.id,children:[L&&u.jsx("div",{className:"canvas-layer__text",style:{color:M.fill||"#0f172a",fontSize:M.fontSize?`${M.fontSize}px`:void 0,fontFamily:M.fontFamily,fontWeight:M.fontWeight??void 0,textAlign:M.textAlign??"center"},children:M.content||"Add your text"}),y&&M.content&&typeof M.content=="string"&&(M.content.startsWith("data:")||M.content.startsWith("blob:"))&&u.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[u.jsx("img",{src:M.content,alt:M.name||"Uploaded image",className:"canvas-layer__image",style:{width:"100%",height:"100%",objectFit:pe,borderRadius:M.borderRadius??0,display:"block",transform:`translate(${We}px, ${Jt}px) scale(${Ot}, ${ot})`,transformOrigin:"center"},onError:H=>{var mt,gt;console.error("Failed to load image:",((mt=M.content)==null?void 0:mt.substring(0,100))+"..."),H.target.style.display="none";const at=(gt=H.target.parentElement)==null?void 0:gt.querySelector(".image-error");at&&(at.style.display="flex")},onLoad:H=>{var mt;console.log("Image loaded successfully:",M.name),H.target.style.display="block";const at=(mt=H.target.parentElement)==null?void 0:mt.querySelector(".image-error");at&&(at.style.display="none")}}),u.jsxs("div",{className:"image-error",style:{display:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem",fontSize:"0.8rem",color:"rgba(239, 68, 68, 0.8)",textAlign:"center",padding:"0.5rem",background:"rgba(255, 255, 255, 0.9)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[u.jsx("span",{children:""}),u.jsx("p",{children:"Failed to load image"})]})]}),V&&y&&M.content&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--nw",onPointerDown:H=>{H.stopPropagation(),se(H,M,q,"nw")},onClick:H=>H.stopPropagation(),style:{position:"absolute",top:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"nw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.2)",H.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.backgroundColor="#3b82f6"},children:u.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),u.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--ne",onPointerDown:H=>{H.stopPropagation(),se(H,M,q,"ne")},onClick:H=>H.stopPropagation(),style:{position:"absolute",top:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"ne-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.2)",H.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.backgroundColor="#3b82f6"},children:u.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),u.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--sw",onPointerDown:H=>{H.stopPropagation(),se(H,M,q,"sw")},onClick:H=>H.stopPropagation(),style:{position:"absolute",bottom:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"sw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.2)",H.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.backgroundColor="#3b82f6"},children:u.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),u.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--se",onPointerDown:H=>{H.stopPropagation(),se(H,M,q,"se")},onClick:H=>H.stopPropagation(),style:{position:"absolute",bottom:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"se-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.2)",H.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.backgroundColor="#3b82f6"},children:u.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})})]}),P&&!L&&!y&&u.jsx("span",{className:"canvas-layer__label",children:M.name})]},M.id)})]})})})})}Zc.propTypes={page:He.shape({id:He.string.isRequired,name:He.string.isRequired,width:He.number.isRequired,height:He.number.isRequired,nodes:He.array}).isRequired};function pp(l,a,c,g){return{transform:`translate(${c}px, ${g}px) scale(${l})`,transformOrigin:"top left",width:a.width,height:a.height}}function hp(l,a,{hidden:c,opacity:g,isSelected:f}){const C=c?.35:Math.max(.1,g??1),z={left:a.x,top:a.y,width:a.width,height:a.height,opacity:C,borderColor:l.stroke??"rgba(15, 23, 42, 0.18)",borderRadius:l.borderRadius??0,transform:a.rotation?`rotate(${a.rotation}deg)`:void 0,transformOrigin:"center"};return l.type==="text"?(z.background="transparent",z.borderStyle="dashed",z.borderWidth=1):l.type==="image"?l.content?(z.background="transparent",z.borderStyle="solid",z.borderWidth=2,z.borderColor=f?"#3b82f6":"transparent"):(z.background="transparent",z.borderStyle="dashed",z.borderWidth=2,z.borderColor=f?"#3b82f6":"rgba(148, 163, 184, 0.3)"):(z.background=l.fill?gp(l.fill,l.opacity):"rgba(37, 99, 235, 0.12)",z.borderStyle="solid",z.borderWidth=1),z}function Oc({top:l,right:a,bottom:c,left:g}){return{top:l,right:a,bottom:c,left:g}}function mp(l,a,c){const{width:g,height:f}=c,C=l.frame;if(C)return{x:C.x,y:C.y,width:C.width,height:C.height,rotation:C.rotation??0};const z=48,S=g*.6,R=Math.min(160,f*.18),_=a*32;return{x:z+_%120,y:z+_,width:S,height:R,rotation:0}}function gp(l,a=1){return typeof l!="string"?l||"rgba(37, 99, 235, 0.12)":a>=.999?l:yp(l,a)||l}function yp(l,a){if(!l)return null;if(l.startsWith("#")){const c=l.slice(1),g=parseInt(c,16);if(Number.isNaN(g))return null;const f=c.length===8,C=g>>(f?24:16)&255,z=g>>(f?16:8)&255,S=g>>(f?8:0)&255;return`rgba(${C}, ${z}, ${S}, ${a})`}if(l.startsWith("rgb")){const c=l.match(/rgba?\(([^)]+)\)/);if(!c)return null;const g=c[1].split(",").map(S=>Number.parseFloat(S.trim())).filter((S,R)=>R<3&&Number.isFinite(S));if(g.length!==3)return null;const[f,C,z]=g;return`rgba(${f}, ${C}, ${z}, ${a})`}return null}function $a(l,a,c){return!Number.isFinite(l)||l<a?a:l>c?c:l}function vp(l,a){switch(l){case"saving":return"Autosaving...";case"dirty":return"Unsaved changes";case"error":return"Autosave failed";case"saved":{if(!a)return"All changes saved";const c=new Date(a);return Number.isNaN(c.getTime())?"All changes saved":`Saved at ${c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}case"idle":default:if(a){const c=new Date(a);if(!Number.isNaN(c.getTime()))return`Last saved at ${c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return"Ready"}}function Za({autosaveStatus:l,lastSavedAt:a}){var j,I;const{state:c,dispatch:g,routes:f}=jn(),C=((j=c.template)==null?void 0:j.name)??"Untitled template",z=()=>g({type:"UNDO"}),S=()=>g({type:"REDO"}),R=vp(l,a),_=l==="saving",k=l==="error";return u.jsxs("header",{className:"builder-topbar",role:"banner",children:[u.jsxs("div",{className:"builder-topbar__left",children:[u.jsx("a",{href:f.index,className:"builder-topbar__back","aria-label":"Back to templates",children:" Templates"}),u.jsxs("div",{className:"builder-topbar__title",children:[u.jsx("span",{className:"builder-topbar__template-name",title:C,children:C}),((I=c.template)==null?void 0:I.category)&&u.jsx("span",{className:"builder-topbar__meta",children:c.template.category})]})]}),u.jsxs("div",{className:"builder-topbar__center",role:"toolbar","aria-label":"Canvas actions",children:[u.jsx("button",{type:"button",onClick:z,className:"builder-btn","aria-label":"Undo",children:"Undo"}),u.jsx("button",{type:"button",onClick:S,className:"builder-btn","aria-label":"Redo",children:"Redo"}),u.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle rulers",disabled:!0,children:"Rulers"}),u.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle guides",disabled:!0,children:"Guides"})]}),u.jsxs("div",{className:"builder-topbar__right",children:[u.jsx("span",{className:`builder-topbar__status${_?" builder-topbar__status--saving":""}${k?" builder-topbar__status--error":""}`,role:"status","aria-live":"polite",children:R}),u.jsx("button",{type:"button",className:"builder-btn","aria-label":"Preview",disabled:!0,children:"Preview"}),u.jsx("button",{type:"button",className:"builder-btn builder-btn--primary","aria-label":"Save template",disabled:!0,children:"Save template"})]})]})}Za.propTypes={autosaveStatus:He.string,lastSavedAt:He.string};Za.defaultProps={autosaveStatus:"idle",lastSavedAt:null};function xp(){const{state:l}=jn(),a=l.pages.find(S=>S.id===l.activePageId)??l.pages[0],c=Array.isArray(a==null?void 0:a.nodes)?a.nodes:[];c.find(S=>S.id===l.selectedLayerId);const g=Math.round((l.zoom??1)*100),f=l.history.undoStack.length,C=l.history.redoStack.length,z=c.length;return u.jsxs("footer",{className:"builder-statusbar",role:"contentinfo","aria-live":"polite",children:[u.jsxs("div",{className:"builder-statusbar__segment",children:["Page: ",a.name," (",a.width,"  ",a.height,"px)"]}),u.jsxs("div",{className:"builder-statusbar__segment",children:["Layers: ",z]}),u.jsxs("div",{className:"builder-statusbar__segment",children:["Zoom: ",g,"%"]}),u.jsxs("div",{className:"builder-statusbar__segment",children:["History: ",f," undo  ",C," redo"]})]})}const Ic=.1,wp=.25,_p=3;function Dc(l){return Math.min(Math.max(l,wp),_p)}function Sp(){const{state:l,dispatch:a}=jn();return U.useEffect(()=>{const c=g=>{if(g.defaultPrevented)return;const f=g.target;if(f instanceof HTMLElement){const _=f.tagName;if(f.isContentEditable||_==="INPUT"||_==="TEXTAREA"||_==="SELECT")return}const C=l.pages.find(_=>_.id===l.activePageId)??l.pages[0],z=l.selectedLayerId,S=C==null?void 0:C.nodes.find(_=>_.id===z);if(g.ctrlKey||g.metaKey){let _=!1,k=l.zoom??1;switch(g.key){case"=":case"+":k=Dc(k+Ic),_=!0;break;case"-":case"_":k=Dc(k-Ic),_=!0;break;case"0":k=1,_=!0;break}_&&(g.preventDefault(),a({type:"UPDATE_ZOOM",value:k}));return}if(!(!C||!S||S.locked))switch(g.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{const _=g.shiftKey?10:1;let k=0,j=0;g.key==="ArrowLeft"&&(k=-_),g.key==="ArrowRight"&&(k=_),g.key==="ArrowUp"&&(j=-_),g.key==="ArrowDown"&&(j=_),a({type:"BEGIN_LAYER_TRANSFORM"}),a({type:"NUDGE_LAYER",pageId:C.id,layerId:z,dx:k,dy:j,trackHistory:!1}),g.preventDefault();break}case"Delete":case"Backspace":{window.confirm(`Delete "${S.name}"? You can undo this action if needed.`)&&(a({type:"REMOVE_LAYER",pageId:C.id,layerId:z}),g.preventDefault());break}}};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[a,l]),null}function kp(l){return{pages:Array.isArray(l.pages)?l.pages.map(c=>({id:c.id,name:c.name,width:c.width,height:c.height,background:c.background,safeZone:c.safeZone??null,bleed:c.bleed??null,metadata:c.metadata??{},nodes:Array.isArray(c.nodes)?c.nodes.map(g=>({id:g.id,name:g.name,type:g.type,visible:g.visible!==!1,locked:!!g.locked,opacity:typeof g.opacity=="number"?g.opacity:1,frame:g.frame?{...g.frame}:null,fill:g.fill??null,stroke:g.stroke??null,content:g.content??"",fontSize:g.fontSize??null,fontFamily:g.fontFamily??null,fontWeight:g.fontWeight??null,textAlign:g.textAlign??null,borderRadius:g.borderRadius??0,variant:g.variant??null,metadata:g.metadata??{}})):[]})):[],activePageId:l.activePageId??null,selectedLayerId:l.selectedLayerId??null,canvas:{zoom:l.zoom??1,panX:l.panX??0,panY:l.panY??0}}}function Np(){var W,E;const{state:l,routes:a,csrfToken:c}=jn(),g=l.pages.find(Q=>Q.id===l.activePageId)??l.pages[0],[f,C]=U.useState(!1),[z,S]=U.useState("idle"),[R,_]=U.useState(((W=l.template)==null?void 0:W.updated_at)??null),k=U.useRef(null),j=U.useRef(null),I=U.useRef(null),le=U.useRef(!0),ae=()=>{C(!f)};return U.useEffect(()=>()=>{k.current&&(clearTimeout(k.current),k.current=null),I.current&&I.current.abort()},[]),U.useEffect(()=>{if(!(a!=null&&a.autosave)||!c)return;const Q=kp(l),de=JSON.stringify(Q);if(le.current){le.current=!1,j.current=de;return}if(de!==j.current)return j.current=de,k.current&&clearTimeout(k.current),S("dirty"),k.current=setTimeout(()=>{var J;if(!(a!=null&&a.autosave)||!c)return;I.current&&I.current.abort();const we=new AbortController;I.current=we,S("saving"),fetch(a.autosave,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":c},credentials:"same-origin",body:JSON.stringify({design:Q,canvas:Q.canvas,template_name:((J=l.template)==null?void 0:J.name)??null}),signal:we.signal}).then(async se=>{if(!se.ok){const Se=await se.text();throw new Error(Se||"Autosave request failed")}return se.json()}).then(se=>{S("saved"),se!=null&&se.saved_at&&_(se.saved_at),I.current===we&&(I.current=null)}).catch(se=>{we.signal.aborted||(I.current===we&&(I.current=null),console.error("[InkWise Builder] Autosave failed:",se),S("error"),j.current=null)})},1500),()=>{k.current&&(clearTimeout(k.current),k.current=null)}},[l.pages,(E=l.template)==null?void 0:E.name,l.zoom,l.panX,l.panY,l.activePageId,a==null?void 0:a.autosave,c]),u.jsxs("div",{className:"builder-shell",role:"application","aria-label":"InkWise template builder",children:[u.jsx(Sp,{}),u.jsx(Za,{autosaveStatus:z,lastSavedAt:R}),u.jsxs("div",{className:"builder-workspace",style:{gridTemplateColumns:f?"60px minmax(0, 1fr) 340px":"600px minmax(0, 1fr) 340px"},children:[u.jsx(qf,{isSidebarHidden:f,onToggleSidebar:ae}),u.jsxs("main",{className:"builder-canvas-column","aria-live":"polite",children:[u.jsx("div",{className:"builder-canvas-header",children:u.jsx(fp,{})}),u.jsx(Zc,{page:g}),u.jsx(xp,{})]}),u.jsx("aside",{className:"builder-right-column","aria-label":"Inspector panels",children:u.jsx(ap,{})})]})]})}function qa({bootstrap:l}){const a=(l==null?void 0:l.template)??{},c=(l==null?void 0:l.routes)??{},g=(l==null?void 0:l.flags)??{},f=(l==null?void 0:l.user)??null,C=(l==null?void 0:l.csrfToken)??"";return u.jsx(Ka,{template:a,routes:c,flags:g,user:f,csrfToken:C,children:u.jsx(Np,{})})}qa.propTypes={bootstrap:He.shape({template:He.object,routes:He.object,flags:He.object,user:He.object,csrfToken:He.string})};qa.defaultProps={bootstrap:{}};function Ep(){const l=document.getElementById("inkwise-builder-bootstrap");if(!l)return console.warn("[InkWise Builder] Bootstrap JSON not found. Falling back to legacy window payload."),window.inkwiseTemplateBootstrap||{};try{return JSON.parse(l.textContent||"{}")}catch(a){return console.error("[InkWise Builder] Failed to parse bootstrap JSON.",a),{}}}const Cp=Ep(),Ya=document.getElementById("template-builder-app");Ya?(Ya.classList.add("inkwise-builder--hydrated"),If.createRoot(Ya).render(u.jsx(Ga.StrictMode,{children:u.jsx(qa,{bootstrap:Cp})}))):console.error("[InkWise Builder] Root element not found.");
