var lg=Object.defineProperty;var cg=(A,e,t)=>e in A?lg(A,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):A[e]=t;var qo=(A,e,t)=>cg(A,typeof e!="symbol"?e+"":e,t);import{g as dg,r as f,R as ci,j as i,a as ug,c as gg}from"./client-Cv0X-2PX.js";var Ni={exports:{}},Di,Al;function fg(){if(Al)return Di;Al=1;var A="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Di=A,Di}var Ri,el;function hg(){if(el)return Ri;el=1;var A=fg();function e(){}function t(){}return t.resetWarningCache=e,Ri=function(){function r(s,o,l,d,g,B){if(B!==A){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function a(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return n.PropTypes=n,n},Ri}var tl;function Bg(){return tl||(tl=1,Ni.exports=hg()()),Ni.exports}var pg=Bg();const kA=dg(pg);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xs=function(A,e){return xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},xs(A,e)};function Ct(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xs(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Es=function(){return Es=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Es.apply(this,arguments)};function Oe(A,e,t,r){function a(n){return n instanceof t?n:new t(function(s){s(n)})}return new(t||(t=Promise))(function(n,s){function o(g){try{d(r.next(g))}catch(B){s(B)}}function l(g){try{d(r.throw(g))}catch(B){s(B)}}function d(g){g.done?n(g.value):a(g.value).then(o,l)}d((r=r.apply(A,[])).next())})}function He(A,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,a,n,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(d){return function(g){return l([d,g])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(n=d[0]&2?a.return:d[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,d[1])).done)return n;switch(a=0,n&&(d=[d[0]&2,n.value]),d[0]){case 0:case 1:n=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,a=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){t.label=d[1];break}if(d[0]===6&&t.label<n[1]){t.label=n[1],n=d;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(d);break}n[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(A,t)}catch(g){d=[6,g],a=0}finally{r=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function fn(A,e,t){if(arguments.length===2)for(var r=0,a=e.length,n;r<a;r++)(n||!(r in e))&&(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return A.concat(n||e)}var jt=(function(){function A(e,t,r,a){this.left=e,this.top=t,this.width=r,this.height=a}return A.prototype.add=function(e,t,r,a){return new A(this.left+e,this.top+t,this.width+r,this.height+a)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(a){return a.width!==0});return r?new A(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A})(),di=function(A,e){return jt.fromClientRect(A,e.getBoundingClientRect())},mg=function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),a=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new jt(0,0,r,a)},ui=function(A){for(var e=[],t=0,r=A.length;t<r;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<r){var n=A.charCodeAt(t++);(n&64512)===56320?e.push(((a&1023)<<10)+(n&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},le=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var r=[],a=-1,n="";++a<t;){var s=A[a];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(a+1===t||r.length>16384)&&(n+=String.fromCharCode.apply(String,r),r.length=0)}return n},rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hn=0;hn<rl.length;hn++)wg[rl.charCodeAt(hn)]=hn;var al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bn=0;Bn<al.length;Bn++)Qa[al.charCodeAt(Bn)]=Bn;var bg=function(A){var e=A.length*.75,t=A.length,r,a=0,n,s,o,l;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<t;r+=4)n=Qa[A.charCodeAt(r)],s=Qa[A.charCodeAt(r+1)],o=Qa[A.charCodeAt(r+2)],l=Qa[A.charCodeAt(r+3)],g[a++]=n<<2|s>>4,g[a++]=(s&15)<<4|o>>2,g[a++]=(o&3)<<6|l&63;return d},Cg=function(A){for(var e=A.length,t=[],r=0;r<e;r+=2)t.push(A[r+1]<<8|A[r]);return t},yg=function(A){for(var e=A.length,t=[],r=0;r<e;r+=4)t.push(A[r+3]<<24|A[r+2]<<16|A[r+1]<<8|A[r]);return t},Ir=5,ho=11,Ki=2,Fg=ho-Ir,Kc=65536>>Ir,vg=1<<Ir,Pi=vg-1,Qg=1024>>Ir,Ug=Kc+Qg,xg=Ug,Eg=32,Ig=xg+Eg,_g=65536>>ho,Sg=1<<Fg,Hg=Sg-1,nl=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},Lg=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},kg=function(A,e){var t=bg(A),r=Array.isArray(t)?yg(t):new Uint32Array(t),a=Array.isArray(t)?Cg(t):new Uint16Array(t),n=24,s=nl(a,n/2,r[4]/2),o=r[5]===2?nl(a,(n+r[4])/2):Lg(r,Math.ceil((n+r[4])/4));return new Mg(r[0],r[1],r[2],r[3],s,o)},Mg=(function(){function A(e,t,r,a,n,s){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=a,this.index=n,this.data=s}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ir],t=(t<<Ki)+(e&Pi),this.data[t];if(e<=65535)return t=this.index[Kc+(e-55296>>Ir)],t=(t<<Ki)+(e&Pi),this.data[t];if(e<this.highStart)return t=Ig-_g+(e>>ho),t=this.index[t],t+=e>>Ir&Hg,t=this.index[t],t=(t<<Ki)+(e&Pi),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pn=0;pn<il.length;pn++)Tg[il.charCodeAt(pn)]=pn;var Ng="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",sl=50,Dg=1,Pc=2,Oc=3,Rg=4,Kg=5,ol=7,jc=8,ll=9,ar=10,Is=11,cl=12,_s=13,Pg=14,Ua=15,Ss=16,mn=17,ma=18,Og=19,dl=20,Hs=21,wa=22,Oi=23,Rr=24,et=25,xa=26,Ea=27,Kr=28,jg=29,vr=30,Gg=31,wn=32,bn=33,Ls=34,ks=35,Ms=36,ja=37,Ts=38,jn=39,Gn=40,ji=41,Gc=42,Vg=43,Wg=[9001,65288],Vc="!",_A="",Cn="",Ns=kg(Ng),Tt=[vr,Ms],Ds=[Dg,Pc,Oc,Kg],Wc=[ar,jc],ul=[Ea,xa],zg=Ds.concat(Wc),gl=[Ts,jn,Gn,Ls,ks],Yg=[Ua,_s],Xg=function(A,e){e===void 0&&(e="strict");var t=[],r=[],a=[];return A.forEach(function(n,s){var o=Ns.get(n);if(o>sl?(a.push(!0),o-=sl):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(n)!==-1)return r.push(s),t.push(Ss);if(o===Rg||o===Is){if(s===0)return r.push(s),t.push(vr);var l=t[s-1];return zg.indexOf(l)===-1?(r.push(r[s-1]),t.push(l)):(r.push(s),t.push(vr))}if(r.push(s),o===Gg)return t.push(e==="strict"?Hs:ja);if(o===Gc||o===jg)return t.push(vr);if(o===Vg)return n>=131072&&n<=196605||n>=196608&&n<=262141?t.push(ja):t.push(vr);t.push(o)}),[r,t,a]},Gi=function(A,e,t,r){var a=r[t];if(Array.isArray(A)?A.indexOf(a)!==-1:A===a)for(var n=t;n<=r.length;){n++;var s=r[n];if(s===e)return!0;if(s!==ar)break}if(a===ar)for(var n=t;n>0;){n--;var o=r[n];if(Array.isArray(A)?A.indexOf(o)!==-1:A===o)for(var l=t;l<=r.length;){l++;var s=r[l];if(s===e)return!0;if(s!==ar)break}if(o!==ar)break}return!1},fl=function(A,e){for(var t=A;t>=0;){var r=e[t];if(r===ar)t--;else return r}return 0},$g=function(A,e,t,r,a){if(t[r]===0)return _A;var n=r-1;if(Array.isArray(a)&&a[n]===!0)return _A;var s=n-1,o=n+1,l=e[n],d=s>=0?e[s]:0,g=e[o];if(l===Pc&&g===Oc)return _A;if(Ds.indexOf(l)!==-1)return Vc;if(Ds.indexOf(g)!==-1||Wc.indexOf(g)!==-1)return _A;if(fl(n,e)===jc)return Cn;if(Ns.get(A[n])===Is||(l===wn||l===bn)&&Ns.get(A[o])===Is||l===ol||g===ol||l===ll||[ar,_s,Ua].indexOf(l)===-1&&g===ll||[mn,ma,Og,Rr,Kr].indexOf(g)!==-1||fl(n,e)===wa||Gi(Oi,wa,n,e)||Gi([mn,ma],Hs,n,e)||Gi(cl,cl,n,e))return _A;if(l===ar)return Cn;if(l===Oi||g===Oi)return _A;if(g===Ss||l===Ss)return Cn;if([_s,Ua,Hs].indexOf(g)!==-1||l===Pg||d===Ms&&Yg.indexOf(l)!==-1||l===Kr&&g===Ms||g===dl||Tt.indexOf(g)!==-1&&l===et||Tt.indexOf(l)!==-1&&g===et||l===Ea&&[ja,wn,bn].indexOf(g)!==-1||[ja,wn,bn].indexOf(l)!==-1&&g===xa||Tt.indexOf(l)!==-1&&ul.indexOf(g)!==-1||ul.indexOf(l)!==-1&&Tt.indexOf(g)!==-1||[Ea,xa].indexOf(l)!==-1&&(g===et||[wa,Ua].indexOf(g)!==-1&&e[o+1]===et)||[wa,Ua].indexOf(l)!==-1&&g===et||l===et&&[et,Kr,Rr].indexOf(g)!==-1)return _A;if([et,Kr,Rr,mn,ma].indexOf(g)!==-1)for(var B=n;B>=0;){var p=e[B];if(p===et)return _A;if([Kr,Rr].indexOf(p)!==-1)B--;else break}if([Ea,xa].indexOf(g)!==-1)for(var B=[mn,ma].indexOf(l)!==-1?s:n;B>=0;){var p=e[B];if(p===et)return _A;if([Kr,Rr].indexOf(p)!==-1)B--;else break}if(Ts===l&&[Ts,jn,Ls,ks].indexOf(g)!==-1||[jn,Ls].indexOf(l)!==-1&&[jn,Gn].indexOf(g)!==-1||[Gn,ks].indexOf(l)!==-1&&g===Gn||gl.indexOf(l)!==-1&&[dl,xa].indexOf(g)!==-1||gl.indexOf(g)!==-1&&l===Ea||Tt.indexOf(l)!==-1&&Tt.indexOf(g)!==-1||l===Rr&&Tt.indexOf(g)!==-1||Tt.concat(et).indexOf(l)!==-1&&g===wa&&Wg.indexOf(A[o])===-1||Tt.concat(et).indexOf(g)!==-1&&l===ma)return _A;if(l===ji&&g===ji){for(var C=t[n],y=1;C>0&&(C--,e[C]===ji);)y++;if(y%2!==0)return _A}return l===wn&&g===bn?_A:Cn},Zg=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Xg(A,e.lineBreak),r=t[0],a=t[1],n=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(o){return[et,vr,Gc].indexOf(o)!==-1?ja:o}));var s=e.wordBreak==="keep-all"?n.map(function(o,l){return o&&A[l]>=19968&&A[l]<=40959}):void 0;return[r,a,s]},Jg=(function(){function A(e,t,r,a){this.codePoints=e,this.required=t===Vc,this.start=r,this.end=a}return A.prototype.slice=function(){return le.apply(void 0,this.codePoints.slice(this.start,this.end))},A})(),qg=function(A,e){var t=ui(A),r=Zg(t,e),a=r[0],n=r[1],s=r[2],o=t.length,l=0,d=0;return{next:function(){if(d>=o)return{done:!0,value:null};for(var g=_A;d<o&&(g=$g(t,n,a,++d,s))===_A;);if(g!==_A||d===o){var B=new Jg(t,g,l,d);return l=d,{value:B,done:!1}}return{done:!0,value:null}}}},Af=1,ef=2,Ja=4,hl=8,Xn=10,Bl=47,Ma=92,tf=9,rf=32,yn=34,ba=61,af=35,nf=36,sf=37,Fn=39,vn=40,Ca=41,of=95,Ye=45,lf=33,cf=60,df=62,uf=64,gf=91,ff=93,hf=61,Bf=123,Qn=63,pf=125,pl=124,mf=126,wf=128,ml=65533,Vi=42,Qr=43,bf=44,Cf=58,yf=59,Ga=46,Ff=0,vf=8,Qf=11,Uf=14,xf=31,Ef=127,xt=-1,zc=48,Yc=97,Xc=101,If=102,_f=117,Sf=122,$c=65,Zc=69,Jc=70,Hf=85,Lf=90,Le=function(A){return A>=zc&&A<=57},kf=function(A){return A>=55296&&A<=57343},Pr=function(A){return Le(A)||A>=$c&&A<=Jc||A>=Yc&&A<=If},Mf=function(A){return A>=Yc&&A<=Sf},Tf=function(A){return A>=$c&&A<=Lf},Nf=function(A){return Mf(A)||Tf(A)},Df=function(A){return A>=wf},Un=function(A){return A===Xn||A===tf||A===rf},$n=function(A){return Nf(A)||Df(A)||A===of},wl=function(A){return $n(A)||Le(A)||A===Ye},Rf=function(A){return A>=Ff&&A<=vf||A===Qf||A>=Uf&&A<=xf||A===Ef},er=function(A,e){return A!==Ma?!1:e!==Xn},xn=function(A,e,t){return A===Ye?$n(e)||er(e,t):$n(A)?!0:!!(A===Ma&&er(A,e))},Wi=function(A,e,t){return A===Qr||A===Ye?Le(e)?!0:e===Ga&&Le(t):Le(A===Ga?e:A)},Kf=function(A){var e=0,t=1;(A[e]===Qr||A[e]===Ye)&&(A[e]===Ye&&(t=-1),e++);for(var r=[];Le(A[e]);)r.push(A[e++]);var a=r.length?parseInt(le.apply(void 0,r),10):0;A[e]===Ga&&e++;for(var n=[];Le(A[e]);)n.push(A[e++]);var s=n.length,o=s?parseInt(le.apply(void 0,n),10):0;(A[e]===Zc||A[e]===Xc)&&e++;var l=1;(A[e]===Qr||A[e]===Ye)&&(A[e]===Ye&&(l=-1),e++);for(var d=[];Le(A[e]);)d.push(A[e++]);var g=d.length?parseInt(le.apply(void 0,d),10):0;return t*(a+o*Math.pow(10,-s))*Math.pow(10,l*g)},Pf={type:2},Of={type:3},jf={type:4},Gf={type:13},Vf={type:8},Wf={type:21},zf={type:9},Yf={type:10},Xf={type:11},$f={type:12},Zf={type:14},En={type:23},Jf={type:1},qf={type:25},Ah={type:24},eh={type:26},th={type:27},rh={type:28},ah={type:29},nh={type:31},Rs={type:32},qc=(function(){function A(){this._value=[]}return A.prototype.write=function(e){this._value=this._value.concat(ui(e))},A.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Rs;)e.push(t),t=this.consumeToken();return e},A.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case yn:return this.consumeStringToken(yn);case af:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),a=this.peekCodePoint(2);if(wl(t)||er(r,a)){var n=xn(t,r,a)?ef:Af,s=this.consumeName();return{type:5,value:s,flags:n}}break;case nf:if(this.peekCodePoint(0)===ba)return this.consumeCodePoint(),Gf;break;case Fn:return this.consumeStringToken(Fn);case vn:return Pf;case Ca:return Of;case Vi:if(this.peekCodePoint(0)===ba)return this.consumeCodePoint(),Zf;break;case Qr:if(Wi(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case bf:return jf;case Ye:var o=e,l=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Wi(o,l,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(xn(o,l,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ye&&d===df)return this.consumeCodePoint(),this.consumeCodePoint(),Ah;break;case Ga:if(Wi(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bl:if(this.peekCodePoint(0)===Vi)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===Vi&&(g=this.consumeCodePoint(),g===Bl))return this.consumeToken();if(g===xt)return this.consumeToken()}break;case Cf:return eh;case yf:return th;case cf:if(this.peekCodePoint(0)===lf&&this.peekCodePoint(1)===Ye&&this.peekCodePoint(2)===Ye)return this.consumeCodePoint(),this.consumeCodePoint(),qf;break;case uf:var B=this.peekCodePoint(0),p=this.peekCodePoint(1),C=this.peekCodePoint(2);if(xn(B,p,C)){var s=this.consumeName();return{type:7,value:s}}break;case gf:return rh;case Ma:if(er(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ff:return ah;case hf:if(this.peekCodePoint(0)===ba)return this.consumeCodePoint(),Vf;break;case Bf:return Xf;case pf:return $f;case _f:case Hf:var y=this.peekCodePoint(0),Q=this.peekCodePoint(1);return y===Qr&&(Pr(Q)||Q===Qn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pl:if(this.peekCodePoint(0)===ba)return this.consumeCodePoint(),zf;if(this.peekCodePoint(0)===pl)return this.consumeCodePoint(),Wf;break;case mf:if(this.peekCodePoint(0)===ba)return this.consumeCodePoint(),Yf;break;case xt:return Rs}return Un(e)?(this.consumeWhiteSpace(),nh):Le(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):$n(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:le(e)}},A.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},A.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},A.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},A.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Pr(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===Qn&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var a=parseInt(le.apply(void 0,e.map(function(l){return l===Qn?zc:l})),16),n=parseInt(le.apply(void 0,e.map(function(l){return l===Qn?Jc:l})),16);return{type:30,start:a,end:n}}var s=parseInt(le.apply(void 0,e),16);if(this.peekCodePoint(0)===Ye&&Pr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Pr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var n=parseInt(le.apply(void 0,o),16);return{type:30,start:s,end:n}}else return{type:30,start:s,end:s}},A.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===vn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vn?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},A.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Fn||t===yn){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xt||this.peekCodePoint(0)===Ca)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),En)}for(;;){var a=this.consumeCodePoint();if(a===xt||a===Ca)return{type:22,value:le.apply(void 0,e)};if(Un(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xt||this.peekCodePoint(0)===Ca?(this.consumeCodePoint(),{type:22,value:le.apply(void 0,e)}):(this.consumeBadUrlRemnants(),En);if(a===yn||a===Fn||a===vn||Rf(a))return this.consumeBadUrlRemnants(),En;if(a===Ma)if(er(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),En;else e.push(a)}},A.prototype.consumeWhiteSpace=function(){for(;Un(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ca||e===xt)return;er(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var a=Math.min(t,e);r+=le.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),r},A.prototype.consumeStringToken=function(e){var t="",r=0;do{var a=this._value[r];if(a===xt||a===void 0||a===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(a===Xn)return this._value.splice(0,r),Jf;if(a===Ma){var n=this._value[r+1];n!==xt&&n!==void 0&&(n===Xn?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):er(a,n)&&(t+=this.consumeStringSlice(r),t+=le(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},A.prototype.consumeNumber=function(){var e=[],t=Ja,r=this.peekCodePoint(0);for((r===Qr||r===Ye)&&e.push(this.consumeCodePoint());Le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(r===Ga&&Le(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=hl;Le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),a=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((r===Zc||r===Xc)&&((a===Qr||a===Ye)&&Le(n)||Le(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=hl;Le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Kf(e),t]},A.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],a=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(xn(a,n,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return a===sf?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},A.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Pr(e)){for(var t=le(e);Pr(this.peekCodePoint(0))&&t.length<6;)t+=le(this.consumeCodePoint());Un(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||kf(r)||r>1114111?ml:r}return e===xt?ml:e},A.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(wl(t))e+=le(t);else if(er(t,this.peekCodePoint(0)))e+=le(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},A})(),Ad=(function(){function A(e){this._tokens=e}return A.create=function(e){var t=new qc;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},A.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},A.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||sh(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},A.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Rs:e},A.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},A})(),qa=function(A){return A.type===15},na=function(A){return A.type===17},jA=function(A){return A.type===20},ih=function(A){return A.type===0},Ks=function(A,e){return jA(A)&&A.value===e},ed=function(A){return A.type!==31},ea=function(A){return A.type!==31&&A.type!==4},Ht=function(A){var e=[],t=[];return A.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},sh=function(A,e){return e===11&&A.type===12||e===28&&A.type===29?!0:e===2&&A.type===3},hr=function(A){return A.type===17||A.type===15},ue=function(A){return A.type===16||hr(A)},td=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},Ue={type:17,number:0,flags:Ja},Bo={type:16,number:50,flags:Ja},nr={type:16,number:100,flags:Ja},Ia=function(A,e,t){var r=A[0],a=A[1];return[WA(r,e),WA(typeof a<"u"?a:r,t)]},WA=function(A,e){if(A.type===16)return A.number/100*e;if(qa(A))switch(A.unit){case"rem":case"em":return 16*A.number;case"px":default:return A.number}return A.number},rd="deg",ad="grad",nd="rad",id="turn",gi={name:"angle",parse:function(A,e){if(e.type===15)switch(e.unit){case rd:return Math.PI*e.number/180;case ad:return Math.PI/200*e.number;case nd:return e.number;case id:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},sd=function(A){return A.type===15&&(A.unit===rd||A.unit===ad||A.unit===nd||A.unit===id)},od=function(A){var e=A.filter(jA).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ue,Ue];case"to top":case"bottom":return ut(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ue,nr];case"to right":case"left":return ut(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nr,nr];case"to bottom":case"top":return ut(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nr,Ue];case"to left":case"right":return ut(270)}return 0},ut=function(A){return Math.PI*A/180},or={name:"color",parse:function(A,e){if(e.type===18){var t=oh[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),a=e.value.substring(1,2),n=e.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(a+a,16),parseInt(n+n,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),a=e.value.substring(1,2),n=e.value.substring(2,3),s=e.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(a+a,16),parseInt(n+n,16),parseInt(s+s,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),a=e.value.substring(2,4),n=e.value.substring(4,6);return ir(parseInt(r,16),parseInt(a,16),parseInt(n,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),a=e.value.substring(2,4),n=e.value.substring(4,6),s=e.value.substring(6,8);return ir(parseInt(r,16),parseInt(a,16),parseInt(n,16),parseInt(s,16)/255)}}if(e.type===20){var o=Ot[e.value.toUpperCase()];if(typeof o<"u")return o}return Ot.TRANSPARENT}},lr=function(A){return(255&A)===0},pe=function(A){var e=255&A,t=255&A>>8,r=255&A>>16,a=255&A>>24;return e<255?"rgba("+a+","+r+","+t+","+e/255+")":"rgb("+a+","+r+","+t+")"},ir=function(A,e,t,r){return(A<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},bl=function(A,e){if(A.type===17)return A.number;if(A.type===16){var t=e===3?1:255;return e===3?A.number/100*t:Math.round(A.number/100*t)}return 0},Cl=function(A,e){var t=e.filter(ea);if(t.length===3){var r=t.map(bl),a=r[0],n=r[1],s=r[2];return ir(a,n,s,1)}if(t.length===4){var o=t.map(bl),a=o[0],n=o[1],s=o[2],l=o[3];return ir(a,n,s,l)}return 0};function zi(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<1/2?e:t<2/3?(e-A)*6*(2/3-t)+A:A}var yl=function(A,e){var t=e.filter(ea),r=t[0],a=t[1],n=t[2],s=t[3],o=(r.type===17?ut(r.number):gi.parse(A,r))/(Math.PI*2),l=ue(a)?a.number/100:0,d=ue(n)?n.number/100:0,g=typeof s<"u"&&ue(s)?WA(s,1):1;if(l===0)return ir(d*255,d*255,d*255,1);var B=d<=.5?d*(l+1):d+l-d*l,p=d*2-B,C=zi(p,B,o+1/3),y=zi(p,B,o),Q=zi(p,B,o-1/3);return ir(C*255,y*255,Q*255,g)},oh={hsl:yl,hsla:yl,rgb:Cl,rgba:Cl},Ta=function(A,e){return or.parse(A,Ad.create(e).parseComponentValue())},Ot={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lh={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(jA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ch={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fi=function(A,e){var t=or.parse(A,e[0]),r=e[1];return r&&ue(r)?{color:t,stop:r}:{color:t,stop:null}},Fl=function(A,e){var t=A[0],r=A[A.length-1];t.stop===null&&(t.stop=Ue),r.stop===null&&(r.stop=nr);for(var a=[],n=0,s=0;s<A.length;s++){var o=A[s].stop;if(o!==null){var l=WA(o,e);l>n?a.push(l):a.push(n),n=l}else a.push(null)}for(var d=null,s=0;s<a.length;s++){var g=a[s];if(g===null)d===null&&(d=s);else if(d!==null){for(var B=s-d,p=a[d-1],C=(g-p)/(B+1),y=1;y<=B;y++)a[d+y-1]=C*y;d=null}}return A.map(function(Q,Y){var x=Q.color;return{color:x,stop:Math.max(Math.min(1,a[Y]/e),0)}})},dh=function(A,e,t){var r=e/2,a=t/2,n=WA(A[0],e)-r,s=a-WA(A[1],t);return(Math.atan2(s,n)+Math.PI*2)%(Math.PI*2)},uh=function(A,e,t){var r=typeof A=="number"?A:dh(A,e,t),a=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),n=e/2,s=t/2,o=a/2,l=Math.sin(r-Math.PI/2)*o,d=Math.cos(r-Math.PI/2)*o;return[a,n-d,n+d,s-l,s+l]},bt=function(A,e){return Math.sqrt(A*A+e*e)},vl=function(A,e,t,r,a){var n=[[0,0],[0,e],[A,0],[A,e]];return n.reduce(function(s,o){var l=o[0],d=o[1],g=bt(t-l,r-d);return(a?g<s.optimumDistance:g>s.optimumDistance)?{optimumCorner:o,optimumDistance:g}:s},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},gh=function(A,e,t,r,a){var n=0,s=0;switch(A.size){case 0:A.shape===0?n=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-a)):A.shape===1&&(n=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(t),Math.abs(t-a)));break;case 2:if(A.shape===0)n=s=Math.min(bt(e,t),bt(e,t-a),bt(e-r,t),bt(e-r,t-a));else if(A.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-a))/Math.min(Math.abs(e),Math.abs(e-r)),l=vl(r,a,e,t,!0),d=l[0],g=l[1];n=bt(d-e,(g-t)/o),s=o*n}break;case 1:A.shape===0?n=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-a)):A.shape===1&&(n=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(t),Math.abs(t-a)));break;case 3:if(A.shape===0)n=s=Math.max(bt(e,t),bt(e,t-a),bt(e-r,t),bt(e-r,t-a));else if(A.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-a))/Math.max(Math.abs(e),Math.abs(e-r)),B=vl(r,a,e,t,!1),d=B[0],g=B[1];n=bt(d-e,(g-t)/o),s=o*n}break}return Array.isArray(A.size)&&(n=WA(A.size[0],r),s=A.size.length===2?WA(A.size[1],a):n),[n,s]},fh=function(A,e){var t=ut(180),r=[];return Ht(e).forEach(function(a,n){if(n===0){var s=a[0];if(s.type===20&&s.value==="to"){t=od(a);return}else if(sd(s)){t=gi.parse(A,s);return}}var o=fi(A,a);r.push(o)}),{angle:t,stops:r,type:1}},In=function(A,e){var t=ut(180),r=[];return Ht(e).forEach(function(a,n){if(n===0){var s=a[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=od(a);return}else if(sd(s)){t=(gi.parse(A,s)+ut(270))%ut(360);return}}var o=fi(A,a);r.push(o)}),{angle:t,stops:r,type:1}},hh=function(A,e){var t=ut(180),r=[],a=1,n=0,s=3,o=[];return Ht(e).forEach(function(l,d){var g=l[0];if(d===0){if(jA(g)&&g.value==="linear"){a=1;return}else if(jA(g)&&g.value==="radial"){a=2;return}}if(g.type===18){if(g.name==="from"){var B=or.parse(A,g.values[0]);r.push({stop:Ue,color:B})}else if(g.name==="to"){var B=or.parse(A,g.values[0]);r.push({stop:nr,color:B})}else if(g.name==="color-stop"){var p=g.values.filter(ea);if(p.length===2){var B=or.parse(A,p[1]),C=p[0];na(C)&&r.push({stop:{type:16,number:C.number*100,flags:C.flags},color:B})}}}}),a===1?{angle:(t+ut(180))%ut(360),stops:r,type:a}:{size:s,shape:n,stops:r,position:o,type:a}},ld="closest-side",cd="farthest-side",dd="closest-corner",ud="farthest-corner",gd="circle",fd="ellipse",hd="cover",Bd="contain",Bh=function(A,e){var t=0,r=3,a=[],n=[];return Ht(e).forEach(function(s,o){var l=!0;if(o===0){var d=!1;l=s.reduce(function(B,p){if(d)if(jA(p))switch(p.value){case"center":return n.push(Bo),B;case"top":case"left":return n.push(Ue),B;case"right":case"bottom":return n.push(nr),B}else(ue(p)||hr(p))&&n.push(p);else if(jA(p))switch(p.value){case gd:return t=0,!1;case fd:return t=1,!1;case"at":return d=!0,!1;case ld:return r=0,!1;case hd:case cd:return r=1,!1;case Bd:case dd:return r=2,!1;case ud:return r=3,!1}else if(hr(p)||ue(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return B},l)}if(l){var g=fi(A,s);a.push(g)}}),{size:r,shape:t,stops:a,position:n,type:2}},_n=function(A,e){var t=0,r=3,a=[],n=[];return Ht(e).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(g,B){if(jA(B))switch(B.value){case"center":return n.push(Bo),!1;case"top":case"left":return n.push(Ue),!1;case"right":case"bottom":return n.push(nr),!1}else if(ue(B)||hr(B))return n.push(B),!1;return g},l):o===1&&(l=s.reduce(function(g,B){if(jA(B))switch(B.value){case gd:return t=0,!1;case fd:return t=1,!1;case Bd:case ld:return r=0,!1;case cd:return r=1,!1;case dd:return r=2,!1;case hd:case ud:return r=3,!1}else if(hr(B)||ue(B))return Array.isArray(r)||(r=[]),r.push(B),!1;return g},l)),l){var d=fi(A,s);a.push(d)}}),{size:r,shape:t,stops:a,position:n,type:2}},ph=function(A){return A.type===1},mh=function(A){return A.type===2},po={name:"image",parse:function(A,e){if(e.type===22){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(e.type===18){var r=pd[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(A,e.values)}throw new Error("Unsupported image type "+e.type)}};function wh(A){return!(A.type===20&&A.value==="none")&&(A.type!==18||!!pd[A.name])}var pd={"linear-gradient":fh,"-moz-linear-gradient":In,"-ms-linear-gradient":In,"-o-linear-gradient":In,"-webkit-linear-gradient":In,"radial-gradient":Bh,"-moz-radial-gradient":_n,"-ms-radial-gradient":_n,"-o-radial-gradient":_n,"-webkit-radial-gradient":_n,"-webkit-gradient":hh},bh={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return ea(r)&&wh(r)}).map(function(r){return po.parse(A,r)})}},Ch={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(t){if(jA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yh={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return Ht(e).map(function(t){return t.filter(ue)}).map(td)}},Fh={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return Ht(e).map(function(t){return t.filter(jA).map(function(r){return r.value}).join(" ")}).map(vh)}},vh=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Zr;(function(A){A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover"})(Zr||(Zr={}));var Qh={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return Ht(e).map(function(t){return t.filter(Uh)})}},Uh=function(A){return jA(A)||ue(A)},hi=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},xh=hi("top"),Eh=hi("right"),Ih=hi("bottom"),_h=hi("left"),Bi=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return td(t.filter(ue))}}},Sh=Bi("top-left"),Hh=Bi("top-right"),Lh=Bi("bottom-right"),kh=Bi("bottom-left"),pi=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mh=pi("top"),Th=pi("right"),Nh=pi("bottom"),Dh=pi("left"),mi=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return qa(t)?t.number:0}}},Rh=mi("top"),Kh=mi("right"),Ph=mi("bottom"),Oh=mi("left"),jh={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gh={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Vh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(jA).reduce(function(t,r){return t|Wh(r.value)},0)}},Wh=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zh={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Yh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Zn;(function(A){A.NORMAL="normal",A.STRICT="strict"})(Zn||(Zn={}));var Xh={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"strict":return Zn.STRICT;case"normal":default:return Zn.NORMAL}}},$h={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ql=function(A,e){return jA(A)&&A.value==="normal"?1.2*e:A.type===17?e*A.number:ue(A)?WA(A,e):e},Zh={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return e.type===20&&e.value==="none"?null:po.parse(A,e)}},Jh={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Ps={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wi=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},qh=wi("top"),AB=wi("right"),eB=wi("bottom"),tB=wi("left"),rB={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(jA).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aB={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},bi=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nB=bi("top"),iB=bi("right"),sB=bi("bottom"),oB=bi("left"),lB={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cB={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dB={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&Ks(e[0],"none")?[]:Ht(e).map(function(t){for(var r={color:Ot.TRANSPARENT,offsetX:Ue,offsetY:Ue,blur:Ue},a=0,n=0;n<t.length;n++){var s=t[n];hr(s)?(a===0?r.offsetX=s:a===1?r.offsetY=s:r.blur=s,a++):r.color=or.parse(A,s)}return r})}},uB={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gB={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=BB[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},fB=function(A){var e=A.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},hB=function(A){var e=A.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var a=e[4],n=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,a,n,s,o]:null},BB={matrix:fB,matrix3d:hB},Ul={type:16,number:50,flags:Ja},pB=[Ul,Ul],mB={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(ue);return t.length!==2?pB:[t[0],t[1]]}},wB={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Na;(function(A){A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all"})(Na||(Na={}));var bB={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return Na.BREAK_ALL;case"keep-all":return Na.KEEP_ALL;case"normal":default:return Na.NORMAL}}},CB={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(e.type===20)return{auto:!0,order:0};if(na(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},md={name:"time",parse:function(A,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},yB={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return na(e)?e.number:1}},FB={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vB={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(jA).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},QB={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],r=[];return e.forEach(function(a){switch(a.type){case 20:case 0:t.push(a.value);break;case 17:t.push(a.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},UB={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xB={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){if(na(e))return e.number;if(jA(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},EB={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(jA).map(function(t){return t.value})}},IB={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ge=function(A,e){return(A&e)!==0},_B={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},SB={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],a=e.filter(ed),n=0;n<a.length;n++){var s=a[n],o=a[n+1];if(s.type===20){var l=o&&na(o)?o.number:1;r.push({counter:s.value,increment:l})}}return r}},HB={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return[];for(var t=[],r=e.filter(ed),a=0;a<r.length;a++){var n=r[a],s=r[a+1];if(jA(n)&&n.value!=="none"){var o=s&&na(s)?s.number:0;t.push({counter:n.value,reset:o})}}return t}},LB={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(qa).map(function(t){return md.parse(A,t)})}},kB={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],a=e.filter(ih);if(a.length%2!==0)return null;for(var n=0;n<a.length;n+=2){var s=a[n].value,o=a[n+1].value;r.push({open:s,close:o})}return r}},xl=function(A,e,t){if(!A)return"";var r=A[Math.min(e,A.length-1)];return r?t?r.open:r.close:""},MB={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.length===1&&Ks(e[0],"none")?[]:Ht(e).map(function(t){for(var r={color:255,offsetX:Ue,offsetY:Ue,blur:Ue,spread:Ue,inset:!1},a=0,n=0;n<t.length;n++){var s=t[n];Ks(s,"inset")?r.inset=!0:hr(s)?(a===0?r.offsetX=s:a===1?r.offsetY=s:a===2?r.blur=s:r.spread=s,a++):r.color=or.parse(A,s)}return r})}},TB={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[0,1,2],r=[];return e.filter(jA).forEach(function(a){switch(a.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(a){r.indexOf(a)===-1&&r.push(a)}),r}},NB={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},DB={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return qa(e)?e.number:0}},RB=(function(){function A(e,t){var r,a;this.animationDuration=AA(e,LB,t.animationDuration),this.backgroundClip=AA(e,lh,t.backgroundClip),this.backgroundColor=AA(e,ch,t.backgroundColor),this.backgroundImage=AA(e,bh,t.backgroundImage),this.backgroundOrigin=AA(e,Ch,t.backgroundOrigin),this.backgroundPosition=AA(e,yh,t.backgroundPosition),this.backgroundRepeat=AA(e,Fh,t.backgroundRepeat),this.backgroundSize=AA(e,Qh,t.backgroundSize),this.borderTopColor=AA(e,xh,t.borderTopColor),this.borderRightColor=AA(e,Eh,t.borderRightColor),this.borderBottomColor=AA(e,Ih,t.borderBottomColor),this.borderLeftColor=AA(e,_h,t.borderLeftColor),this.borderTopLeftRadius=AA(e,Sh,t.borderTopLeftRadius),this.borderTopRightRadius=AA(e,Hh,t.borderTopRightRadius),this.borderBottomRightRadius=AA(e,Lh,t.borderBottomRightRadius),this.borderBottomLeftRadius=AA(e,kh,t.borderBottomLeftRadius),this.borderTopStyle=AA(e,Mh,t.borderTopStyle),this.borderRightStyle=AA(e,Th,t.borderRightStyle),this.borderBottomStyle=AA(e,Nh,t.borderBottomStyle),this.borderLeftStyle=AA(e,Dh,t.borderLeftStyle),this.borderTopWidth=AA(e,Rh,t.borderTopWidth),this.borderRightWidth=AA(e,Kh,t.borderRightWidth),this.borderBottomWidth=AA(e,Ph,t.borderBottomWidth),this.borderLeftWidth=AA(e,Oh,t.borderLeftWidth),this.boxShadow=AA(e,MB,t.boxShadow),this.color=AA(e,jh,t.color),this.direction=AA(e,Gh,t.direction),this.display=AA(e,Vh,t.display),this.float=AA(e,zh,t.cssFloat),this.fontFamily=AA(e,QB,t.fontFamily),this.fontSize=AA(e,UB,t.fontSize),this.fontStyle=AA(e,IB,t.fontStyle),this.fontVariant=AA(e,EB,t.fontVariant),this.fontWeight=AA(e,xB,t.fontWeight),this.letterSpacing=AA(e,Yh,t.letterSpacing),this.lineBreak=AA(e,Xh,t.lineBreak),this.lineHeight=AA(e,$h,t.lineHeight),this.listStyleImage=AA(e,Zh,t.listStyleImage),this.listStylePosition=AA(e,Jh,t.listStylePosition),this.listStyleType=AA(e,Ps,t.listStyleType),this.marginTop=AA(e,qh,t.marginTop),this.marginRight=AA(e,AB,t.marginRight),this.marginBottom=AA(e,eB,t.marginBottom),this.marginLeft=AA(e,tB,t.marginLeft),this.opacity=AA(e,yB,t.opacity);var n=AA(e,rB,t.overflow);this.overflowX=n[0],this.overflowY=n[n.length>1?1:0],this.overflowWrap=AA(e,aB,t.overflowWrap),this.paddingTop=AA(e,nB,t.paddingTop),this.paddingRight=AA(e,iB,t.paddingRight),this.paddingBottom=AA(e,sB,t.paddingBottom),this.paddingLeft=AA(e,oB,t.paddingLeft),this.paintOrder=AA(e,TB,t.paintOrder),this.position=AA(e,cB,t.position),this.textAlign=AA(e,lB,t.textAlign),this.textDecorationColor=AA(e,FB,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=AA(e,vB,(a=t.textDecorationLine)!==null&&a!==void 0?a:t.textDecoration),this.textShadow=AA(e,dB,t.textShadow),this.textTransform=AA(e,uB,t.textTransform),this.transform=AA(e,gB,t.transform),this.transformOrigin=AA(e,mB,t.transformOrigin),this.visibility=AA(e,wB,t.visibility),this.webkitTextStrokeColor=AA(e,NB,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=AA(e,DB,t.webkitTextStrokeWidth),this.wordBreak=AA(e,bB,t.wordBreak),this.zIndex=AA(e,CB,t.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},A.prototype.isTransparent=function(){return lr(this.backgroundColor)},A.prototype.isTransformed=function(){return this.transform!==null},A.prototype.isPositioned=function(){return this.position!==0},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return this.float!==0},A.prototype.isInlineLevel=function(){return ge(this.display,4)||ge(this.display,33554432)||ge(this.display,268435456)||ge(this.display,536870912)||ge(this.display,67108864)||ge(this.display,134217728)},A})(),KB=(function(){function A(e,t){this.content=AA(e,_B,t.content),this.quotes=AA(e,kB,t.quotes)}return A})(),El=(function(){function A(e,t){this.counterIncrement=AA(e,SB,t.counterIncrement),this.counterReset=AA(e,HB,t.counterReset)}return A})(),AA=function(A,e,t){var r=new qc,a=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(a);var n=new Ad(r.read());switch(e.type){case 2:var s=n.parseComponentValue();return e.parse(A,jA(s)?s.value:e.initialValue);case 0:return e.parse(A,n.parseComponentValue());case 1:return e.parse(A,n.parseComponentValues());case 4:return n.parseComponentValue();case 3:switch(e.format){case"angle":return gi.parse(A,n.parseComponentValue());case"color":return or.parse(A,n.parseComponentValue());case"image":return po.parse(A,n.parseComponentValue());case"length":var o=n.parseComponentValue();return hr(o)?o:Ue;case"length-percentage":var l=n.parseComponentValue();return ue(l)?l:Ue;case"time":return md.parse(A,n.parseComponentValue())}break}},PB="data-html2canvas-debug",OB=function(A){var e=A.getAttribute(PB);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Os=function(A,e){var t=OB(A);return t===1||e===t},Lt=(function(){function A(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Os(t,3))debugger;this.styles=new RB(e,window.getComputedStyle(t,null)),Vs(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=di(this.context,t),Os(t,4)&&(this.flags|=16)}return A})(),jB="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_a=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sn=0;Sn<Il.length;Sn++)_a[Il.charCodeAt(Sn)]=Sn;var GB=function(A){var e=A.length*.75,t=A.length,r,a=0,n,s,o,l;A[A.length-1]==="="&&(e--,A[A.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<t;r+=4)n=_a[A.charCodeAt(r)],s=_a[A.charCodeAt(r+1)],o=_a[A.charCodeAt(r+2)],l=_a[A.charCodeAt(r+3)],g[a++]=n<<2|s>>4,g[a++]=(s&15)<<4|o>>2,g[a++]=(o&3)<<6|l&63;return d},VB=function(A){for(var e=A.length,t=[],r=0;r<e;r+=2)t.push(A[r+1]<<8|A[r]);return t},WB=function(A){for(var e=A.length,t=[],r=0;r<e;r+=4)t.push(A[r+3]<<24|A[r+2]<<16|A[r+1]<<8|A[r]);return t},_r=5,mo=11,Yi=2,zB=mo-_r,wd=65536>>_r,YB=1<<_r,Xi=YB-1,XB=1024>>_r,$B=wd+XB,ZB=$B,JB=32,qB=ZB+JB,Ap=65536>>mo,ep=1<<zB,tp=ep-1,_l=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},rp=function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))},ap=function(A,e){var t=GB(A),r=Array.isArray(t)?WB(t):new Uint32Array(t),a=Array.isArray(t)?VB(t):new Uint16Array(t),n=24,s=_l(a,n/2,r[4]/2),o=r[5]===2?_l(a,(n+r[4])/2):rp(r,Math.ceil((n+r[4])/4));return new np(r[0],r[1],r[2],r[3],s,o)},np=(function(){function A(e,t,r,a,n,s){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=a,this.index=n,this.data=s}return A.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>_r],t=(t<<Yi)+(e&Xi),this.data[t];if(e<=65535)return t=this.index[wd+(e-55296>>_r)],t=(t<<Yi)+(e&Xi),this.data[t];if(e<this.highStart)return t=qB-Ap+(e>>mo),t=this.index[t],t+=e>>_r&tp,t=this.index[t],t=(t<<Yi)+(e&Xi),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A})(),Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ip=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hn=0;Hn<Sl.length;Hn++)ip[Sl.charCodeAt(Hn)]=Hn;var sp=1,$i=2,Zi=3,Hl=4,Ll=5,op=7,kl=8,Ji=9,qi=10,Ml=11,Tl=12,Nl=13,Dl=14,As=15,lp=function(A){for(var e=[],t=0,r=A.length;t<r;){var a=A.charCodeAt(t++);if(a>=55296&&a<=56319&&t<r){var n=A.charCodeAt(t++);(n&64512)===56320?e.push(((a&1023)<<10)+(n&1023)+65536):(e.push(a),t--)}else e.push(a)}return e},cp=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var r=[],a=-1,n="";++a<t;){var s=A[a];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(a+1===t||r.length>16384)&&(n+=String.fromCharCode.apply(String,r),r.length=0)}return n},dp=ap(jB),lt="",es="",up=function(A){return dp.get(A)},gp=function(A,e,t){var r=t-2,a=e[r],n=e[t-1],s=e[t];if(n===$i&&s===Zi)return lt;if(n===$i||n===Zi||n===Hl||s===$i||s===Zi||s===Hl)return es;if(n===kl&&[kl,Ji,Ml,Tl].indexOf(s)!==-1||(n===Ml||n===Ji)&&(s===Ji||s===qi)||(n===Tl||n===qi)&&s===qi||s===Nl||s===Ll||s===op||n===sp)return lt;if(n===Nl&&s===Dl){for(;a===Ll;)a=e[--r];if(a===Dl)return lt}if(n===As&&s===As){for(var o=0;a===As;)o++,a=e[--r];if(o%2===0)return lt}return es},fp=function(A){var e=lp(A),t=e.length,r=0,a=0,n=e.map(up);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=lt;r<t&&(s=gp(e,n,++r))===lt;);if(s!==lt||r===t){var o=cp.apply(null,e.slice(a,r));return a=r,{value:o,done:!1}}return{done:!0,value:null}}}},hp=function(A){for(var e=fp(A),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},Bp=function(A){var e=123;if(A.createRange){var t=A.createRange();if(t.getBoundingClientRect){var r=A.createElement("boundtest");r.style.height=e+"px",r.style.display="block",A.body.appendChild(r),t.selectNode(r);var a=t.getBoundingClientRect(),n=Math.round(a.height);if(A.body.removeChild(r),n===e)return!0}}return!1},pp=function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,a=ui(r.data).map(function(l){return le(l)}),n=0,s={},o=a.every(function(l,d){t.setStart(r,n),t.setEnd(r,n+l.length);var g=t.getBoundingClientRect();n+=l.length;var B=g.x>s.x||g.y>s.y;return s=g,d===0?!0:B});return A.body.removeChild(e),o},mp=function(){return typeof new Image().crossOrigin<"u"},wp=function(){return typeof new XMLHttpRequest().responseType=="string"},bp=function(A){var e=new Image,t=A.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Rl=function(A){return A[0]===0&&A[1]===255&&A[2]===0&&A[3]===255},Cp=function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var a=new Image,n=e.toDataURL();a.src=n;var s=js(t,t,0,0,a);return r.fillStyle="red",r.fillRect(0,0,t,t),Kl(s).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var d=A.createElement("div");return d.style.backgroundImage="url("+n+")",d.style.height=t+"px",Rl(l)?Kl(js(t,t,0,0,d)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),Rl(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},js=function(A,e,t,r,a){var n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return s.setAttributeNS(null,"width",A.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(a),s},Kl=function(A){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},Qe={get SUPPORT_RANGE_BOUNDS(){var A=Bp(document);return Object.defineProperty(Qe,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=Qe.SUPPORT_RANGE_BOUNDS&&pp(document);return Object.defineProperty(Qe,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=bp(document);return Object.defineProperty(Qe,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A=typeof Array.from=="function"&&typeof window.fetch=="function"?Cp(document):Promise.resolve(!1);return Object.defineProperty(Qe,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=mp();return Object.defineProperty(Qe,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A=wp();return Object.defineProperty(Qe,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qe,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qe,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},Da=(function(){function A(e,t){this.text=e,this.bounds=t}return A})(),yp=function(A,e,t,r){var a=Qp(e,t),n=[],s=0;return a.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Qe.SUPPORT_RANGE_BOUNDS){var l=Pl(r,s,o.length).getClientRects();if(l.length>1){var d=wo(o),g=0;d.forEach(function(p){n.push(new Da(p,jt.fromDOMRectList(A,Pl(r,g+s,p.length).getClientRects()))),g+=p.length})}else n.push(new Da(o,jt.fromDOMRectList(A,l)))}else{var B=r.splitText(o.length);n.push(new Da(o,Fp(A,r))),r=B}else Qe.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),n},Fp=function(A,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(r,e);var n=di(A,r);return r.firstChild&&a.replaceChild(r.firstChild,r),n}}return jt.EMPTY},Pl=function(A,e,t){var r=A.ownerDocument;if(!r)throw new Error("Node has no owner document");var a=r.createRange();return a.setStart(A,e),a.setEnd(A,e+t),a},wo=function(A){if(Qe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(t){return t.segment})}return hp(A)},vp=function(A,e){if(Qe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(r){return r.segment})}return xp(A,e)},Qp=function(A,e){return e.letterSpacing!==0?wo(A):vp(A,e)},Up=[32,160,4961,65792,65793,4153,4241],xp=function(A,e){for(var t=qg(A,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],a,n=function(){if(a.value){var s=a.value.slice(),o=ui(s),l="";o.forEach(function(d){Up.indexOf(d)===-1?l+=le(d):(l.length&&r.push(l),r.push(le(d)),l="")}),l.length&&r.push(l)}};!(a=t.next()).done;)n();return r},Ep=(function(){function A(e,t,r){this.text=Ip(t.data,r.textTransform),this.textBounds=yp(e,this.text,r,t)}return A})(),Ip=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(_p,Sp);case 2:return A.toUpperCase();default:return A}},_p=/(^|\s|:|-|\(|\))([a-z])/g,Sp=function(A,e,t){return A.length>0?e+t.toUpperCase():A},bd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.src=r.currentSrc||r.src,a.intrinsicWidth=r.naturalWidth,a.intrinsicHeight=r.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Lt),Cd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.canvas=r,a.intrinsicWidth=r.width,a.intrinsicHeight=r.height,a}return e})(Lt),yd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this,n=new XMLSerializer,s=di(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(r)),a.intrinsicWidth=r.width.baseVal.value,a.intrinsicHeight=r.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Lt),Fd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.value=r.value,a}return e})(Lt),Gs=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.start=r.start,a.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,a}return e})(Lt),Hp=[{type:15,flags:0,unit:"px",number:3}],Lp=[{type:16,flags:0,number:50}],kp=function(A){return A.width>A.height?new jt(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new jt(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A},Mp=function(A){var e=A.type===Tp?new Array(A.value.length+1).join(""):A.value;return e.length===0?A.placeholder||"":e},Jn="checkbox",qn="radio",Tp="password",Ol=707406591,bo=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;switch(a.type=r.type.toLowerCase(),a.checked=r.checked,a.value=Mp(r),(a.type===Jn||a.type===qn)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=kp(a.bounds)),a.type){case Jn:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Hp;break;case qn:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Lp;break}return a}return e})(Lt),vd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this,n=r.options[r.selectedIndex||0];return a.value=n&&n.text||"",a}return e})(Lt),Qd=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.value=r.value,a}return e})(Lt),Ud=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;a.src=r.src,a.width=parseInt(r.width,10)||0,a.height=parseInt(r.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){a.tree=Ed(t,r.contentWindow.document.documentElement);var n=r.contentWindow.document.documentElement?Ta(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ot.TRANSPARENT,s=r.contentWindow.document.body?Ta(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ot.TRANSPARENT;a.backgroundColor=lr(n)?lr(s)?a.styles.backgroundColor:s:n}}catch{}return a}return e})(Lt),Np=["OL","UL","MENU"],Vn=function(A,e,t,r){for(var a=e.firstChild,n=void 0;a;a=n)if(n=a.nextSibling,Id(a)&&a.data.trim().length>0)t.textNodes.push(new Ep(A,a,t.styles));else if($r(a))if(Ld(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return Vn(A,o,t,r)});else{var s=xd(A,a);s.styles.isVisible()&&(Dp(a,s,r)?s.flags|=4:Rp(s.styles)&&(s.flags|=2),Np.indexOf(a.tagName)!==-1&&(s.flags|=8),t.elements.push(s),a.slot,a.shadowRoot?Vn(A,a.shadowRoot,s,r):!Ai(a)&&!_d(a)&&!ei(a)&&Vn(A,a,s,r))}},xd=function(A,e){return Ws(e)?new bd(A,e):Sd(e)?new Cd(A,e):_d(e)?new yd(A,e):Kp(e)?new Fd(A,e):Pp(e)?new Gs(A,e):Op(e)?new bo(A,e):ei(e)?new vd(A,e):Ai(e)?new Qd(A,e):Hd(e)?new Ud(A,e):new Lt(A,e)},Ed=function(A,e){var t=xd(A,e);return t.flags|=4,Vn(A,e,t,t),t},Dp=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Co(A)&&t.styles.isTransparent()},Rp=function(A){return A.isPositioned()||A.isFloating()},Id=function(A){return A.nodeType===Node.TEXT_NODE},$r=function(A){return A.nodeType===Node.ELEMENT_NODE},Vs=function(A){return $r(A)&&typeof A.style<"u"&&!Wn(A)},Wn=function(A){return typeof A.className=="object"},Kp=function(A){return A.tagName==="LI"},Pp=function(A){return A.tagName==="OL"},Op=function(A){return A.tagName==="INPUT"},jp=function(A){return A.tagName==="HTML"},_d=function(A){return A.tagName==="svg"},Co=function(A){return A.tagName==="BODY"},Sd=function(A){return A.tagName==="CANVAS"},jl=function(A){return A.tagName==="VIDEO"},Ws=function(A){return A.tagName==="IMG"},Hd=function(A){return A.tagName==="IFRAME"},Gl=function(A){return A.tagName==="STYLE"},Gp=function(A){return A.tagName==="SCRIPT"},Ai=function(A){return A.tagName==="TEXTAREA"},ei=function(A){return A.tagName==="SELECT"},Ld=function(A){return A.tagName==="SLOT"},Vl=function(A){return A.tagName.indexOf("-")>0},Vp=(function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},A.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},A.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},A.prototype.parse=function(e){var t=this,r=e.counterIncrement,a=e.counterReset,n=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(n=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return n&&a.forEach(function(o){var l=t.counters[o.counter];s.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),s},A})(),Wl={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},zl={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Or=function(A,e,t,r,a,n){return A<e||A>t?Va(A,a,n.length>0):r.integers.reduce(function(s,o,l){for(;A>=o;)A-=o,s+=r.values[l];return s},"")+n},kd=function(A,e,t,r){var a="";do t||A--,a=r(A)+a,A/=e;while(A*e>=e);return a},oe=function(A,e,t,r,a){var n=t-e+1;return(A<0?"-":"")+(kd(Math.abs(A),n,r,function(s){return le(Math.floor(s%n)+e)})+a)},Fr=function(A,e,t){t===void 0&&(t=". ");var r=e.length;return kd(Math.abs(A),r,!1,function(a){return e[Math.floor(a%r)]})+t},Yr=1,Jt=2,qt=4,Sa=8,Nt=function(A,e,t,r,a,n){if(A<-9999||A>9999)return Va(A,4,a.length>0);var s=Math.abs(A),o=a;if(s===0)return e[0]+o;for(var l=0;s>0&&l<=4;l++){var d=s%10;d===0&&ge(n,Yr)&&o!==""?o=e[d]+o:d>1||d===1&&l===0||d===1&&l===1&&ge(n,Jt)||d===1&&l===1&&ge(n,qt)&&A>100||d===1&&l>1&&ge(n,Sa)?o=e[d]+(l>0?t[l-1]:"")+o:d===1&&l>0&&(o=t[l-1]+o),s=Math.floor(s/10)}return(A<0?r:"")+o},Yl="",Xl="",$l="",ts="",Va=function(A,e,t){var r=t?". ":"",a=t?"":"",n=t?", ":"",s=t?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=oe(A,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Fr(A,"",a);case 6:return Or(A,1,3999,Wl,3,r).toLowerCase();case 7:return Or(A,1,3999,Wl,3,r);case 8:return oe(A,945,969,!1,r);case 9:return oe(A,97,122,!1,r);case 10:return oe(A,65,90,!1,r);case 11:return oe(A,1632,1641,!0,r);case 12:case 49:return Or(A,1,9999,zl,3,r);case 35:return Or(A,1,9999,zl,3,r).toLowerCase();case 13:return oe(A,2534,2543,!0,r);case 14:case 30:return oe(A,6112,6121,!0,r);case 15:return Fr(A,"",a);case 16:return Fr(A,"",a);case 17:case 48:return Nt(A,"",Yl,"",a,Jt|qt|Sa);case 47:return Nt(A,"",Xl,"",a,Yr|Jt|qt|Sa);case 42:return Nt(A,"",Yl,"",a,Jt|qt|Sa);case 41:return Nt(A,"",Xl,"",a,Yr|Jt|qt|Sa);case 26:return Nt(A,"","",$l,a,0);case 25:return Nt(A,"","",$l,a,Yr|Jt|qt);case 31:return Nt(A,"","",ts,n,Yr|Jt|qt);case 33:return Nt(A,"","",ts,n,0);case 32:return Nt(A,"","",ts,n,Yr|Jt|qt);case 18:return oe(A,2406,2415,!0,r);case 20:return Or(A,1,19999,zp,3,r);case 21:return oe(A,2790,2799,!0,r);case 22:return oe(A,2662,2671,!0,r);case 22:return Or(A,1,10999,Wp,3,r);case 23:return Fr(A,"");case 24:return Fr(A,"");case 27:return oe(A,3302,3311,!0,r);case 28:return Fr(A,"",a);case 29:return Fr(A,"",a);case 34:return oe(A,3792,3801,!0,r);case 37:return oe(A,6160,6169,!0,r);case 38:return oe(A,4160,4169,!0,r);case 39:return oe(A,2918,2927,!0,r);case 40:return oe(A,1776,1785,!0,r);case 43:return oe(A,3046,3055,!0,r);case 44:return oe(A,3174,3183,!0,r);case 45:return oe(A,3664,3673,!0,r);case 46:return oe(A,3872,3881,!0,r);case 3:default:return oe(A,48,57,!0,r)}},Md="data-html2canvas-ignore",Zl=(function(){function A(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new Vp,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(e,t){var r=this,a=Yp(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var n=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=a.contentWindow,l=o.document,d=Zp(a).then(function(){return Oe(r,void 0,void 0,function(){var g,B;return He(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(em),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),g=this.options.onclone,B=this.clonedReferenceElement,typeof B>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$p(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(l,B)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(qp(document.doctype)+"<html></html>"),Am(this.referenceElement.ownerDocument,n,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),d},A.prototype.createElementClone=function(e){if(Os(e,2))debugger;if(Sd(e))return this.createCanvasClone(e);if(jl(e))return this.createVideoClone(e);if(Gl(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Ws(t)&&(Ws(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Vl(t)?this.createCustomElementClone(t):t},A.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return rs(e.style,t),t},A.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(n,s){return s&&typeof s.cssText=="string"?n+s.cssText:n},""),a=e.cloneNode(!1);return a.textContent=r,a}}catch(n){if(this.context.logger.error("Unable to access cssRules property",n),n.name!=="SecurityError")throw n}return e.cloneNode(!1)},A.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var n=e.getContext("2d"),s=a.getContext("2d");if(s)if(!this.options.allowTaint&&n)s.putImageData(n.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},A.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},A.prototype.appendChildNode=function(e,t,r){(!$r(t)||!Gp(t)&&!t.hasAttribute(Md)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!$r(t)||!Gl(t))&&e.appendChild(this.cloneNode(t,r))},A.prototype.cloneChildNodes=function(e,t,r){for(var a=this,n=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;n;n=n.nextSibling)if($r(n)&&Ld(n)&&typeof n.assignedNodes=="function"){var s=n.assignedNodes();s.length&&s.forEach(function(o){return a.appendChildNode(t,o,r)})}else this.appendChildNode(t,n,r)},A.prototype.cloneNode=function(e,t){if(Id(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&$r(e)&&(Vs(e)||Wn(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var n=r.getComputedStyle(e),s=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&Vs(a)&&(this.clonedReferenceElement=a),Co(a)&&am(a);var l=this.counters.parse(new El(this.context,n)),d=this.resolvePseudoContent(e,a,s,Ra.BEFORE);Vl(e)&&(t=!0),jl(e)||this.cloneChildNodes(e,a,t),d&&a.insertBefore(d,a.firstChild);var g=this.resolvePseudoContent(e,a,o,Ra.AFTER);return g&&a.appendChild(g),this.counters.pop(l),(n&&(this.options.copyStyles||Wn(e))&&!Hd(e)||t)&&rs(n,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Ai(e)||ei(e))&&(Ai(a)||ei(a))&&(a.value=e.value),a}return e.cloneNode(!1)},A.prototype.resolvePseudoContent=function(e,t,r,a){var n=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new El(this.context,r));var l=new KB(this.context,r),d=o.createElement("html2canvaspseudoelement");rs(r,d),l.content.forEach(function(B){if(B.type===0)d.appendChild(o.createTextNode(B.value));else if(B.type===22){var p=o.createElement("img");p.src=B.value,p.style.opacity="1",d.appendChild(p)}else if(B.type===18){if(B.name==="attr"){var C=B.values.filter(jA);C.length&&d.appendChild(o.createTextNode(e.getAttribute(C[0].value)||""))}else if(B.name==="counter"){var y=B.values.filter(ea),Q=y[0],Y=y[1];if(Q&&jA(Q)){var x=n.counters.getCounterValue(Q.value),T=Y&&jA(Y)?Ps.parse(n.context,Y.value):3;d.appendChild(o.createTextNode(Va(x,T,!1)))}}else if(B.name==="counters"){var eA=B.values.filter(ea),Q=eA[0],Z=eA[1],Y=eA[2];if(Q&&jA(Q)){var M=n.counters.getCounterValues(Q.value),N=Y&&jA(Y)?Ps.parse(n.context,Y.value):3,E=Z&&Z.type===0?Z.value:"",V=M.map(function(rA){return Va(rA,N,!1)}).join(E);d.appendChild(o.createTextNode(V))}}}else if(B.type===20)switch(B.value){case"open-quote":d.appendChild(o.createTextNode(xl(l.quotes,n.quoteDepth++,!0)));break;case"close-quote":d.appendChild(o.createTextNode(xl(l.quotes,--n.quoteDepth,!1)));break;default:d.appendChild(o.createTextNode(B.value))}}),d.className=zs+" "+Ys;var g=a===Ra.BEFORE?" "+zs:" "+Ys;return Wn(t)?t.className.baseValue+=g:t.className+=g,d}}},A.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},A})(),Ra;(function(A){A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER"})(Ra||(Ra={}));var Yp=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(Md,"true"),A.body.appendChild(t),t},Xp=function(A){return new Promise(function(e){if(A.complete){e();return}if(!A.src){e();return}A.onload=e,A.onerror=e})},$p=function(A){return Promise.all([].slice.call(A.images,0).map(Xp))},Zp=function(A){return new Promise(function(e,t){var r=A.contentWindow;if(!r)return t("No window assigned for iframe");var a=r.document;r.onload=A.onload=function(){r.onload=A.onload=null;var n=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(n),e(A))},50)}})},Jp=["all","d","content"],rs=function(A,e){for(var t=A.length-1;t>=0;t--){var r=A.item(t);Jp.indexOf(r)===-1&&e.style.setProperty(r,A.getPropertyValue(r))}return e},qp=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},Am=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},em=function(A){var e=A[0],t=A[1],r=A[2];e.scrollLeft=t,e.scrollTop=r},tm=":before",rm=":after",zs="___html2canvas___pseudoelement_before",Ys="___html2canvas___pseudoelement_after",Jl=`{
    content: "" !important;
    display: none !important;
}`,am=function(A){nm(A,"."+zs+tm+Jl+`
         .`+Ys+rm+Jl)},nm=function(A,e){var t=A.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,A.appendChild(r)}},Td=(function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A})(),im=(function(){function A(e,t){this.context=e,this._options=t,this._cache={}}return A.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(ns(e)||cm(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},A.prototype.match=function(e){return this._cache[e]},A.prototype.loadImage=function(e){return Oe(this,void 0,void 0,function(){var t,r,a,n,s=this;return He(this,function(o){switch(o.label){case 0:return t=Td.isSameOrigin(e),r=!as(e)&&this._options.useCORS===!0&&Qe.SUPPORT_CORS_IMAGES&&!t,a=!as(e)&&!t&&!ns(e)&&typeof this._options.proxy=="string"&&Qe.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!as(e)&&!ns(e)&&!a&&!r?[2]:(n=e,a?[4,this.proxy(n)]:[3,2]);case 1:n=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,d){var g=new Image;g.onload=function(){return l(g)},g.onerror=d,(dm(n)||r)&&(g.crossOrigin="anonymous"),g.src=n,g.complete===!0&&setTimeout(function(){return l(g)},500),s._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},A.prototype.has=function(e){return typeof this._cache[e]<"u"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(n,s){var o=Qe.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")n(l.response);else{var B=new FileReader;B.addEventListener("load",function(){return n(B.result)},!1),B.addEventListener("error",function(p){return s(p)},!1),B.readAsDataURL(l.response)}else s("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=s;var d=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+d+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var g=t._options.imageTimeout;l.timeout=g,l.ontimeout=function(){return s("Timed out ("+g+"ms) proxying "+a)}}l.send()})},A})(),sm=/^data:image\/svg\+xml/i,om=/^data:image\/.*;base64,/i,lm=/^data:image\/.*/i,cm=function(A){return Qe.SUPPORT_SVG_DRAWING||!um(A)},as=function(A){return lm.test(A)},dm=function(A){return om.test(A)},ns=function(A){return A.substr(0,4)==="blob"},um=function(A){return A.substr(-3).toLowerCase()==="svg"||sm.test(A)},J=(function(){function A(e,t){this.type=0,this.x=e,this.y=t}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A})(),jr=function(A,e,t){return new J(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},Ln=(function(){function A(e,t,r,a){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=a}return A.prototype.subdivide=function(e,t){var r=jr(this.start,this.startControl,e),a=jr(this.startControl,this.endControl,e),n=jr(this.endControl,this.end,e),s=jr(r,a,e),o=jr(a,n,e),l=jr(s,o,e);return t?new A(this.start,r,s,l):new A(l,o,n,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A})(),ct=function(A){return A.type===1},gm=(function(){function A(e){var t=e.styles,r=e.bounds,a=Ia(t.borderTopLeftRadius,r.width,r.height),n=a[0],s=a[1],o=Ia(t.borderTopRightRadius,r.width,r.height),l=o[0],d=o[1],g=Ia(t.borderBottomRightRadius,r.width,r.height),B=g[0],p=g[1],C=Ia(t.borderBottomLeftRadius,r.width,r.height),y=C[0],Q=C[1],Y=[];Y.push((n+l)/r.width),Y.push((y+B)/r.width),Y.push((s+Q)/r.height),Y.push((d+p)/r.height);var x=Math.max.apply(Math,Y);x>1&&(n/=x,s/=x,l/=x,d/=x,B/=x,p/=x,y/=x,Q/=x);var T=r.width-l,eA=r.height-p,Z=r.width-B,M=r.height-Q,N=t.borderTopWidth,E=t.borderRightWidth,V=t.borderBottomWidth,R=t.borderLeftWidth,nA=WA(t.paddingTop,e.bounds.width),rA=WA(t.paddingRight,e.bounds.width),S=WA(t.paddingBottom,e.bounds.width),U=WA(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=n>0||s>0?qA(r.left+R/3,r.top+N/3,n-R/3,s-N/3,RA.TOP_LEFT):new J(r.left+R/3,r.top+N/3),this.topRightBorderDoubleOuterBox=n>0||s>0?qA(r.left+T,r.top+N/3,l-E/3,d-N/3,RA.TOP_RIGHT):new J(r.left+r.width-E/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=B>0||p>0?qA(r.left+Z,r.top+eA,B-E/3,p-V/3,RA.BOTTOM_RIGHT):new J(r.left+r.width-E/3,r.top+r.height-V/3),this.bottomLeftBorderDoubleOuterBox=y>0||Q>0?qA(r.left+R/3,r.top+M,y-R/3,Q-V/3,RA.BOTTOM_LEFT):new J(r.left+R/3,r.top+r.height-V/3),this.topLeftBorderDoubleInnerBox=n>0||s>0?qA(r.left+R*2/3,r.top+N*2/3,n-R*2/3,s-N*2/3,RA.TOP_LEFT):new J(r.left+R*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=n>0||s>0?qA(r.left+T,r.top+N*2/3,l-E*2/3,d-N*2/3,RA.TOP_RIGHT):new J(r.left+r.width-E*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=B>0||p>0?qA(r.left+Z,r.top+eA,B-E*2/3,p-V*2/3,RA.BOTTOM_RIGHT):new J(r.left+r.width-E*2/3,r.top+r.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||Q>0?qA(r.left+R*2/3,r.top+M,y-R*2/3,Q-V*2/3,RA.BOTTOM_LEFT):new J(r.left+R*2/3,r.top+r.height-V*2/3),this.topLeftBorderStroke=n>0||s>0?qA(r.left+R/2,r.top+N/2,n-R/2,s-N/2,RA.TOP_LEFT):new J(r.left+R/2,r.top+N/2),this.topRightBorderStroke=n>0||s>0?qA(r.left+T,r.top+N/2,l-E/2,d-N/2,RA.TOP_RIGHT):new J(r.left+r.width-E/2,r.top+N/2),this.bottomRightBorderStroke=B>0||p>0?qA(r.left+Z,r.top+eA,B-E/2,p-V/2,RA.BOTTOM_RIGHT):new J(r.left+r.width-E/2,r.top+r.height-V/2),this.bottomLeftBorderStroke=y>0||Q>0?qA(r.left+R/2,r.top+M,y-R/2,Q-V/2,RA.BOTTOM_LEFT):new J(r.left+R/2,r.top+r.height-V/2),this.topLeftBorderBox=n>0||s>0?qA(r.left,r.top,n,s,RA.TOP_LEFT):new J(r.left,r.top),this.topRightBorderBox=l>0||d>0?qA(r.left+T,r.top,l,d,RA.TOP_RIGHT):new J(r.left+r.width,r.top),this.bottomRightBorderBox=B>0||p>0?qA(r.left+Z,r.top+eA,B,p,RA.BOTTOM_RIGHT):new J(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=y>0||Q>0?qA(r.left,r.top+M,y,Q,RA.BOTTOM_LEFT):new J(r.left,r.top+r.height),this.topLeftPaddingBox=n>0||s>0?qA(r.left+R,r.top+N,Math.max(0,n-R),Math.max(0,s-N),RA.TOP_LEFT):new J(r.left+R,r.top+N),this.topRightPaddingBox=l>0||d>0?qA(r.left+Math.min(T,r.width-E),r.top+N,T>r.width+E?0:Math.max(0,l-E),Math.max(0,d-N),RA.TOP_RIGHT):new J(r.left+r.width-E,r.top+N),this.bottomRightPaddingBox=B>0||p>0?qA(r.left+Math.min(Z,r.width-R),r.top+Math.min(eA,r.height-V),Math.max(0,B-E),Math.max(0,p-V),RA.BOTTOM_RIGHT):new J(r.left+r.width-E,r.top+r.height-V),this.bottomLeftPaddingBox=y>0||Q>0?qA(r.left+R,r.top+Math.min(M,r.height-V),Math.max(0,y-R),Math.max(0,Q-V),RA.BOTTOM_LEFT):new J(r.left+R,r.top+r.height-V),this.topLeftContentBox=n>0||s>0?qA(r.left+R+U,r.top+N+nA,Math.max(0,n-(R+U)),Math.max(0,s-(N+nA)),RA.TOP_LEFT):new J(r.left+R+U,r.top+N+nA),this.topRightContentBox=l>0||d>0?qA(r.left+Math.min(T,r.width+R+U),r.top+N+nA,T>r.width+R+U?0:l-R+U,d-(N+nA),RA.TOP_RIGHT):new J(r.left+r.width-(E+rA),r.top+N+nA),this.bottomRightContentBox=B>0||p>0?qA(r.left+Math.min(Z,r.width-(R+U)),r.top+Math.min(eA,r.height+N+nA),Math.max(0,B-(E+rA)),p-(V+S),RA.BOTTOM_RIGHT):new J(r.left+r.width-(E+rA),r.top+r.height-(V+S)),this.bottomLeftContentBox=y>0||Q>0?qA(r.left+R+U,r.top+M,Math.max(0,y-(R+U)),Q-(V+S),RA.BOTTOM_LEFT):new J(r.left+R+U,r.top+r.height-(V+S))}return A})(),RA;(function(A){A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(RA||(RA={}));var qA=function(A,e,t,r,a){var n=4*((Math.sqrt(2)-1)/3),s=t*n,o=r*n,l=A+t,d=e+r;switch(a){case RA.TOP_LEFT:return new Ln(new J(A,d),new J(A,d-o),new J(l-s,e),new J(l,e));case RA.TOP_RIGHT:return new Ln(new J(A,e),new J(A+s,e),new J(l,d-o),new J(l,d));case RA.BOTTOM_RIGHT:return new Ln(new J(l,e),new J(l,e+o),new J(A+s,d),new J(A,d));case RA.BOTTOM_LEFT:default:return new Ln(new J(l,d),new J(l-s,d),new J(A,e+o),new J(A,e))}},ti=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},fm=function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]},ri=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},hm=(function(){function A(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return A})(),kn=(function(){function A(e,t){this.path=e,this.target=t,this.type=1}return A})(),Bm=(function(){function A(e){this.opacity=e,this.type=2,this.target=6}return A})(),pm=function(A){return A.type===0},Nd=function(A){return A.type===1},mm=function(A){return A.type===2},ql=function(A,e){return A.length===e.length?A.some(function(t,r){return t===e[r]}):!1},wm=function(A,e,t,r,a){return A.map(function(n,s){switch(s){case 0:return n.add(e,t);case 1:return n.add(e+r,t);case 2:return n.add(e+r,t+a);case 3:return n.add(e,t+a)}return n})},Dd=(function(){function A(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return A})(),Rd=(function(){function A(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new gm(this.container),this.container.styles.opacity<1&&this.effects.push(new Bm(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,n=this.container.styles.transform;this.effects.push(new hm(r,a,n))}if(this.container.styles.overflowX!==0){var s=ti(this.curves),o=ri(this.curves);ql(s,o)?this.effects.push(new kn(s,6)):(this.effects.push(new kn(s,2)),this.effects.push(new kn(o,4)))}}return A.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,a=this.effects.slice(0);r;){var n=r.effects.filter(function(l){return!Nd(l)});if(t||r.container.styles.position!==0||!r.parent){if(a.unshift.apply(a,n),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=ti(r.curves),o=ri(r.curves);ql(s,o)||a.unshift(new kn(o,6))}}else a.unshift.apply(a,n);r=r.parent}return a.filter(function(l){return ge(l.target,e)})},A})(),Xs=function(A,e,t,r){A.container.elements.forEach(function(a){var n=ge(a.flags,4),s=ge(a.flags,2),o=new Rd(a,A);ge(a.styles.display,2048)&&r.push(o);var l=ge(a.flags,8)?[]:r;if(n||s){var d=n||a.styles.isPositioned()?t:e,g=new Dd(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var B=a.styles.zIndex.order;if(B<0){var p=0;d.negativeZIndex.some(function(y,Q){return B>y.element.container.styles.zIndex.order?(p=Q,!1):p>0}),d.negativeZIndex.splice(p,0,g)}else if(B>0){var C=0;d.positiveZIndex.some(function(y,Q){return B>=y.element.container.styles.zIndex.order?(C=Q+1,!1):C>0}),d.positiveZIndex.splice(C,0,g)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else a.styles.isFloating()?d.nonPositionedFloats.push(g):d.nonPositionedInlineLevel.push(g);Xs(o,g,n?g:t,l)}else a.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Xs(o,e,t,l);ge(a.flags,8)&&Kd(a,l)})},Kd=function(A,e){for(var t=A instanceof Gs?A.start:1,r=A instanceof Gs?A.reversed:!1,a=0;a<e.length;a++){var n=e[a];n.container instanceof Fd&&typeof n.container.value=="number"&&n.container.value!==0&&(t=n.container.value),n.listValue=Va(t,n.container.styles.listStyleType,!0),t+=r?-1:1}},bm=function(A){var e=new Rd(A,null),t=new Dd(e),r=[];return Xs(e,t,t,r),Kd(e.container,r),t},Ac=function(A,e){switch(e){case 0:return gt(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return gt(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return gt(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);case 3:default:return gt(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},Cm=function(A,e){switch(e){case 0:return gt(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return gt(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return gt(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);case 3:default:return gt(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}},ym=function(A,e){switch(e){case 0:return gt(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return gt(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return gt(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);case 3:default:return gt(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}},Fm=function(A,e){switch(e){case 0:return Mn(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return Mn(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return Mn(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);case 3:default:return Mn(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}},Mn=function(A,e){var t=[];return ct(A)?t.push(A.subdivide(.5,!1)):t.push(A),ct(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},gt=function(A,e,t,r){var a=[];return ct(A)?a.push(A.subdivide(.5,!1)):a.push(A),ct(t)?a.push(t.subdivide(.5,!0)):a.push(t),ct(r)?a.push(r.subdivide(.5,!0).reverse()):a.push(r),ct(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},Pd=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ai=function(A){var e=A.styles,t=A.bounds,r=WA(e.paddingLeft,t.width),a=WA(e.paddingRight,t.width),n=WA(e.paddingTop,t.width),s=WA(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,n+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+a),-(e.borderTopWidth+e.borderBottomWidth+n+s))},vm=function(A,e){return A===0?e.bounds:A===2?ai(e):Pd(e)},Qm=function(A,e){return A===0?e.bounds:A===2?ai(e):Pd(e)},is=function(A,e,t){var r=vm(Xr(A.styles.backgroundOrigin,e),A),a=Qm(Xr(A.styles.backgroundClip,e),A),n=Um(Xr(A.styles.backgroundSize,e),t,r),s=n[0],o=n[1],l=Ia(Xr(A.styles.backgroundPosition,e),r.width-s,r.height-o),d=xm(Xr(A.styles.backgroundRepeat,e),l,n,r,a),g=Math.round(r.left+l[0]),B=Math.round(r.top+l[1]);return[d,g,B,s,o]},Gr=function(A){return jA(A)&&A.value===Zr.AUTO},Tn=function(A){return typeof A=="number"},Um=function(A,e,t){var r=e[0],a=e[1],n=e[2],s=A[0],o=A[1];if(!s)return[0,0];if(ue(s)&&o&&ue(o))return[WA(s,t.width),WA(o,t.height)];var l=Tn(n);if(jA(s)&&(s.value===Zr.CONTAIN||s.value===Zr.COVER)){if(Tn(n)){var d=t.width/t.height;return d<n!=(s.value===Zr.COVER)?[t.width,t.width/n]:[t.height*n,t.height]}return[t.width,t.height]}var g=Tn(r),B=Tn(a),p=g||B;if(Gr(s)&&(!o||Gr(o))){if(g&&B)return[r,a];if(!l&&!p)return[t.width,t.height];if(p&&l){var C=g?r:a*n,y=B?a:r/n;return[C,y]}var Q=g?r:t.width,Y=B?a:t.height;return[Q,Y]}if(l){var x=0,T=0;return ue(s)?x=WA(s,t.width):ue(o)&&(T=WA(o,t.height)),Gr(s)?x=T*n:(!o||Gr(o))&&(T=x/n),[x,T]}var eA=null,Z=null;if(ue(s)?eA=WA(s,t.width):o&&ue(o)&&(Z=WA(o,t.height)),eA!==null&&(!o||Gr(o))&&(Z=g&&B?eA/r*a:t.height),Z!==null&&Gr(s)&&(eA=g&&B?Z/a*r:t.width),eA!==null&&Z!==null)return[eA,Z];throw new Error("Unable to calculate background-size for element")},Xr=function(A,e){var t=A[e];return typeof t>"u"?A[0]:t},xm=function(A,e,t,r,a){var n=e[0],s=e[1],o=t[0],l=t[1];switch(A){case 2:return[new J(Math.round(r.left),Math.round(r.top+s)),new J(Math.round(r.left+r.width),Math.round(r.top+s)),new J(Math.round(r.left+r.width),Math.round(l+r.top+s)),new J(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new J(Math.round(r.left+n),Math.round(r.top)),new J(Math.round(r.left+n+o),Math.round(r.top)),new J(Math.round(r.left+n+o),Math.round(r.height+r.top)),new J(Math.round(r.left+n),Math.round(r.height+r.top))];case 1:return[new J(Math.round(r.left+n),Math.round(r.top+s)),new J(Math.round(r.left+n+o),Math.round(r.top+s)),new J(Math.round(r.left+n+o),Math.round(r.top+s+l)),new J(Math.round(r.left+n),Math.round(r.top+s+l))];default:return[new J(Math.round(a.left),Math.round(a.top)),new J(Math.round(a.left+a.width),Math.round(a.top)),new J(Math.round(a.left+a.width),Math.round(a.height+a.top)),new J(Math.round(a.left),Math.round(a.height+a.top))]}},Em="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ec="Hidden Text",Im=(function(){function A(e){this._data={},this._document=e}return A.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),a=this._document.createElement("img"),n=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),a.src=Em,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode(ec)),r.appendChild(n),r.appendChild(a);var o=a.offsetTop-n.offsetTop+2;r.removeChild(n),r.appendChild(this._document.createTextNode(ec)),r.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:l}},A.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},A})(),Od=(function(){function A(e,t){this.context=e,this.options=t}return A})(),_m=1e4,Sm=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a._activeEffects=[],a.canvas=r.canvas?r.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),r.canvas||(a.canvas.width=Math.floor(r.width*r.scale),a.canvas.height=Math.floor(r.height*r.scale),a.canvas.style.width=r.width+"px",a.canvas.style.height=r.height+"px"),a.fontMetrics=new Im(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-r.x,-r.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),a}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(a){return r.applyEffect(a)})},e.prototype.applyEffect=function(t){this.ctx.save(),mm(t)&&(this.ctx.globalAlpha=t.opacity),pm(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Nd(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Oe(this,void 0,void 0,function(){var r;return He(this,function(a){switch(a.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Oe(this,void 0,void 0,function(){return He(this,function(r){switch(r.label){case 0:if(ge(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,a){var n=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+a);else{var s=wo(t.text);s.reduce(function(o,l){return n.ctx.fillText(l,o,t.bounds.top+a),o+n.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),a=Tm(t.fontFamily).join(", "),n=qa(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,n,a].join(" "),a,n]},e.prototype.renderTextNode=function(t,r){return Oe(this,void 0,void 0,function(){var a,n,s,o,l,d,g,B,p=this;return He(this,function(C){return a=this.createFontStyle(r),n=a[0],s=a[1],o=a[2],this.ctx.font=n,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),d=l.baseline,g=l.middle,B=r.paintOrder,t.textBounds.forEach(function(y){B.forEach(function(Q){switch(Q){case 0:p.ctx.fillStyle=pe(r.color),p.renderTextWithLetterSpacing(y,r.letterSpacing,d);var Y=r.textShadow;Y.length&&y.text.trim().length&&(Y.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=pe(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(y,r.letterSpacing,d)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=pe(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+d),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+g),y.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=pe(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+d)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,a){if(a&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=ai(t),s=ri(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Oe(this,void 0,void 0,function(){var r,a,n,s,o,l,T,T,d,g,B,p,Z,C,y,M,Q,Y,x,T,eA,Z,M;return He(this,function(N){switch(N.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,a=t.curves,n=r.styles,s=0,o=r.textNodes,N.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,n)]):[3,4];case 2:N.sent(),N.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof bd))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return T=N.sent(),this.renderReplacedElement(r,a,T),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Cd&&this.renderReplacedElement(r,a,r.canvas),!(r instanceof yd))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return T=N.sent(),this.renderReplacedElement(r,a,T),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Ud&&r.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,d.render(r.tree)]):[3,14];case 13:g=N.sent(),r.width&&r.height&&this.ctx.drawImage(g,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof bo&&(B=Math.min(r.bounds.width,r.bounds.height),r.type===Jn?r.checked&&(this.ctx.save(),this.path([new J(r.bounds.left+B*.39363,r.bounds.top+B*.79),new J(r.bounds.left+B*.16,r.bounds.top+B*.5549),new J(r.bounds.left+B*.27347,r.bounds.top+B*.44071),new J(r.bounds.left+B*.39694,r.bounds.top+B*.5649),new J(r.bounds.left+B*.72983,r.bounds.top+B*.23),new J(r.bounds.left+B*.84,r.bounds.top+B*.34085),new J(r.bounds.left+B*.39363,r.bounds.top+B*.79)]),this.ctx.fillStyle=pe(Ol),this.ctx.fill(),this.ctx.restore()):r.type===qn&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+B/2,r.bounds.top+B/2,B/4,0,Math.PI*2,!0),this.ctx.fillStyle=pe(Ol),this.ctx.fill(),this.ctx.restore())),Hm(r)&&r.value.length){switch(p=this.createFontStyle(n),Z=p[0],C=p[1],y=this.fontMetrics.getMetrics(Z,C).baseline,this.ctx.font=Z,this.ctx.fillStyle=pe(n.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=km(r.styles.textAlign),M=ai(r),Q=0,r.styles.textAlign){case 1:Q+=M.width/2;break;case 2:Q+=M.width;break}Y=M.add(Q,0,0,-M.height/2+1),this.ctx.save(),this.path([new J(M.left,M.top),new J(M.left+M.width,M.top),new J(M.left+M.width,M.top+M.height),new J(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Da(r.value,Y),n.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ge(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];T=void 0,eA=x.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(eA)];case 16:return T=N.sent(),this.ctx.drawImage(T,r.bounds.left-(T.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+eA),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(Z=this.createFontStyle(n)[0],this.ctx.font=Z,this.ctx.fillStyle=pe(n.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new jt(r.bounds.left,r.bounds.top+WA(r.styles.paddingTop,r.bounds.width),r.bounds.width,Ql(n.lineHeight,n.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Da(t.listValue,M),n.letterSpacing,Ql(n.lineHeight,n.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Oe(this,void 0,void 0,function(){var r,a,x,n,s,x,o,l,x,d,g,x,B,p,x,C,y,x,Q,Y,x;return He(this,function(T){switch(T.label){case 0:if(ge(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:T.sent(),r=0,a=t.negativeZIndex,T.label=2;case 2:return r<a.length?(x=a[r],[4,this.renderStack(x)]):[3,5];case 3:T.sent(),T.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:T.sent(),n=0,s=t.nonInlineLevel,T.label=7;case 7:return n<s.length?(x=s[n],[4,this.renderNode(x)]):[3,10];case 8:T.sent(),T.label=9;case 9:return n++,[3,7];case 10:o=0,l=t.nonPositionedFloats,T.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:T.sent(),T.label=13;case 13:return o++,[3,11];case 14:d=0,g=t.nonPositionedInlineLevel,T.label=15;case 15:return d<g.length?(x=g[d],[4,this.renderStack(x)]):[3,18];case 16:T.sent(),T.label=17;case 17:return d++,[3,15];case 18:B=0,p=t.inlineLevel,T.label=19;case 19:return B<p.length?(x=p[B],[4,this.renderNode(x)]):[3,22];case 20:T.sent(),T.label=21;case 21:return B++,[3,19];case 22:C=0,y=t.zeroOrAutoZIndexOrTransformedOrOpacity,T.label=23;case 23:return C<y.length?(x=y[C],[4,this.renderStack(x)]):[3,26];case 24:T.sent(),T.label=25;case 25:return C++,[3,23];case 26:Q=0,Y=t.positiveZIndex,T.label=27;case 27:return Q<Y.length?(x=Y[Q],[4,this.renderStack(x)]):[3,30];case 28:T.sent(),T.label=29;case 29:return Q++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(a,n){var s=ct(a)?a.start:a;n===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),ct(a)&&r.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(t,r,a,n){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(a,n),this.ctx.fill(),this.ctx.translate(-a,-n)},e.prototype.resizeImage=function(t,r,a){var n;if(t.width===r&&t.height===a)return t;var s=(n=this.canvas.ownerDocument)!==null&&n!==void 0?n:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,a);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,a),o},e.prototype.renderBackgroundImage=function(t){return Oe(this,void 0,void 0,function(){var r,a,n,s,o,l;return He(this,function(d){switch(d.label){case 0:r=t.styles.backgroundImage.length-1,a=function(g){var B,p,C,nA,k,D,U,H,V,y,nA,k,D,U,H,Q,Y,x,T,eA,Z,M,N,E,V,R,nA,rA,S,U,H,I,k,D,$,iA,xA,L,BA,MA,PA,EA;return He(this,function(mA){switch(mA.label){case 0:if(g.type!==0)return[3,5];B=void 0,p=g.url,mA.label=1;case 1:return mA.trys.push([1,3,,4]),[4,n.context.cache.match(p)];case 2:return B=mA.sent(),[3,4];case 3:return mA.sent(),n.context.logger.error("Error loading background-image "+p),[3,4];case 4:return B&&(C=is(t,r,[B.width,B.height,B.width/B.height]),nA=C[0],k=C[1],D=C[2],U=C[3],H=C[4],V=n.ctx.createPattern(n.resizeImage(B,U,H),"repeat"),n.renderRepeat(nA,V,k,D)),[3,6];case 5:ph(g)?(y=is(t,r,[null,null,null]),nA=y[0],k=y[1],D=y[2],U=y[3],H=y[4],Q=uh(g.angle,U,H),Y=Q[0],x=Q[1],T=Q[2],eA=Q[3],Z=Q[4],M=document.createElement("canvas"),M.width=U,M.height=H,N=M.getContext("2d"),E=N.createLinearGradient(x,eA,T,Z),Fl(g.stops,Y).forEach(function(zA){return E.addColorStop(zA.stop,pe(zA.color))}),N.fillStyle=E,N.fillRect(0,0,U,H),U>0&&H>0&&(V=n.ctx.createPattern(M,"repeat"),n.renderRepeat(nA,V,k,D))):mh(g)&&(R=is(t,r,[null,null,null]),nA=R[0],rA=R[1],S=R[2],U=R[3],H=R[4],I=g.position.length===0?[Bo]:g.position,k=WA(I[0],U),D=WA(I[I.length-1],H),$=gh(g,k,D,U,H),iA=$[0],xA=$[1],iA>0&&xA>0&&(L=n.ctx.createRadialGradient(rA+k,S+D,0,rA+k,S+D,iA),Fl(g.stops,iA*2).forEach(function(zA){return L.addColorStop(zA.stop,pe(zA.color))}),n.path(nA),n.ctx.fillStyle=L,iA!==xA?(BA=t.bounds.left+.5*t.bounds.width,MA=t.bounds.top+.5*t.bounds.height,PA=xA/iA,EA=1/PA,n.ctx.save(),n.ctx.translate(BA,MA),n.ctx.transform(1,0,0,PA,0,0),n.ctx.translate(-BA,-MA),n.ctx.fillRect(rA,EA*(S-MA)+MA,U,H*EA),n.ctx.restore()):n.ctx.fill())),mA.label=6;case 6:return r--,[2]}})},n=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return s<o.length?(l=o[s],[5,a(l)]):[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,a){return Oe(this,void 0,void 0,function(){return He(this,function(n){return this.path(Ac(a,r)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,a,n){return Oe(this,void 0,void 0,function(){var s,o;return He(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,a,n)]:[3,2];case 1:return l.sent(),[2];case 2:return s=Cm(n,a),this.path(s),this.ctx.fillStyle=pe(t),this.ctx.fill(),o=ym(n,a),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Oe(this,void 0,void 0,function(){var r,a,n,s,o,l,d,g,B=this;return He(this,function(p){switch(p.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,a=!lr(r.backgroundColor)||r.backgroundImage.length,n=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=Lm(Xr(r.backgroundClip,0),t.curves),a||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),lr(r.backgroundColor)||(this.ctx.fillStyle=pe(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(C){B.ctx.save();var y=ti(t.curves),Q=C.inset?0:_m,Y=wm(y,-Q+(C.inset?1:-1)*C.spread.number,(C.inset?1:-1)*C.spread.number,C.spread.number*(C.inset?-2:2),C.spread.number*(C.inset?-2:2));C.inset?(B.path(y),B.ctx.clip(),B.mask(Y)):(B.mask(y),B.ctx.clip(),B.path(Y)),B.ctx.shadowOffsetX=C.offsetX.number+Q,B.ctx.shadowOffsetY=C.offsetY.number,B.ctx.shadowColor=pe(C.color),B.ctx.shadowBlur=C.blur.number,B.ctx.fillStyle=C.inset?pe(C.color):"rgba(0,0,0,1)",B.ctx.fill(),B.ctx.restore()}),p.label=2;case 2:o=0,l=0,d=n,p.label=3;case 3:return l<d.length?(g=d[l],g.style!==0&&!lr(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,o,t.curves,3)];case 6:return p.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,o,t.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,o,t.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,a,n,s){return Oe(this,void 0,void 0,function(){var o,l,d,g,B,p,C,y,Q,Y,x,T,eA,Z,M,N,M,N;return He(this,function(E){return this.ctx.save(),o=Fm(n,a),l=Ac(n,a),s===2&&(this.path(l),this.ctx.clip()),ct(l[0])?(d=l[0].start.x,g=l[0].start.y):(d=l[0].x,g=l[0].y),ct(l[1])?(B=l[1].end.x,p=l[1].end.y):(B=l[1].x,p=l[1].y),a===0||a===2?C=Math.abs(d-B):C=Math.abs(g-p),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),y=r<3?r*3:r*2,Q=r<3?r*2:r,s===3&&(y=r,Q=r),Y=!0,C<=y*2?Y=!1:C<=y*2+Q?(x=C/(2*y+Q),y*=x,Q*=x):(T=Math.floor((C+Q)/(y+Q)),eA=(C-T*y)/(T-1),Z=(C-(T+1)*y)/T,Q=Z<=0||Math.abs(Q-eA)<Math.abs(Q-Z)?eA:Z),Y&&(s===3?this.ctx.setLineDash([0,y+Q]):this.ctx.setLineDash([y,Q])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=pe(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(ct(l[0])&&(M=l[3],N=l[0],this.ctx.beginPath(),this.formatPath([new J(M.end.x,M.end.y),new J(N.start.x,N.start.y)]),this.ctx.stroke()),ct(l[1])&&(M=l[1],N=l[2],this.ctx.beginPath(),this.formatPath([new J(M.end.x,M.end.y),new J(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Oe(this,void 0,void 0,function(){var r;return He(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=bm(t),[4,this.renderStack(r)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(Od),Hm=function(A){return A instanceof Qd||A instanceof vd?!0:A instanceof bo&&A.type!==qn&&A.type!==Jn},Lm=function(A,e){switch(A){case 0:return ti(e);case 2:return fm(e);case 1:default:return ri(e)}},km=function(A){switch(A){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Mm=["-apple-system","system-ui"],Tm=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(e){return Mm.indexOf(e)===-1}):A},Nm=(function(A){Ct(e,A);function e(t,r){var a=A.call(this,t,r)||this;return a.canvas=r.canvas?r.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=r,a.canvas.width=Math.floor(r.width*r.scale),a.canvas.height=Math.floor(r.height*r.scale),a.canvas.style.width=r.width+"px",a.canvas.style.height=r.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-r.x,-r.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),a}return e.prototype.render=function(t){return Oe(this,void 0,void 0,function(){var r,a;return He(this,function(n){switch(n.label){case 0:return r=js(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Dm(r)];case 1:return a=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(Od),Dm=function(A){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(A))})},Rm=(function(){function A(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,fn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,fn([this.id,this.getTime()+"ms"],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,fn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,fn([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},A.instances={},A})(),Km=(function(){function A(e,t){var r;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new Rm({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new im(this,e)}return A.instanceCount=1,A})(),ss=function(A,e){return e===void 0&&(e={}),Pm(A,e)};typeof window<"u"&&Td.setContext(window);var Pm=function(A,e){return Oe(void 0,void 0,void 0,function(){var t,r,a,n,s,o,l,d,g,B,p,C,y,Q,Y,x,T,eA,Z,M,E,N,E,V,R,nA,rA,S,U,H,I,k,D,$,iA,xA,L,BA,MA,PA;return He(this,function(EA){switch(EA.label){case 0:if(!A||typeof A!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=A.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return a={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,imageTimeout:(R=e.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:e.proxy,useCORS:(nA=e.useCORS)!==null&&nA!==void 0?nA:!1},n=Es({logging:(rA=e.logging)!==null&&rA!==void 0?rA:!0,cache:e.cache},a),s={windowWidth:(S=e.windowWidth)!==null&&S!==void 0?S:r.innerWidth,windowHeight:(U=e.windowHeight)!==null&&U!==void 0?U:r.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:r.pageXOffset,scrollY:(I=e.scrollY)!==null&&I!==void 0?I:r.pageYOffset},o=new jt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new Km(n,o),d=(k=e.foreignObjectRendering)!==null&&k!==void 0?k:!1,g={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),B=new Zl(l,A,g),p=B.clonedReferenceElement,p?[4,B.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return C=EA.sent(),y=Co(p)||jp(p)?mg(p.ownerDocument):di(l,p),Q=y.width,Y=y.height,x=y.left,T=y.top,eA=Om(l,p,e.backgroundColor),Z={canvas:e.canvas,backgroundColor:eA,scale:(iA=($=e.scale)!==null&&$!==void 0?$:r.devicePixelRatio)!==null&&iA!==void 0?iA:1,x:((xA=e.x)!==null&&xA!==void 0?xA:0)+x,y:((L=e.y)!==null&&L!==void 0?L:0)+T,width:(BA=e.width)!==null&&BA!==void 0?BA:Math.ceil(Q),height:(MA=e.height)!==null&&MA!==void 0?MA:Math.ceil(Y)},d?(l.logger.debug("Document cloned, using foreign object rendering"),E=new Nm(l,Z),[4,E.render(p)]):[3,3];case 2:return M=EA.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+T+" with size "+Q+"x"+Y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),N=Ed(l,p),eA===N.styles.backgroundColor&&(N.styles.backgroundColor=Ot.TRANSPARENT),l.logger.debug("Starting renderer for element at "+Z.x+","+Z.y+" with size "+Z.width+"x"+Z.height),E=new Sm(l,Z),[4,E.render(N)];case 4:M=EA.sent(),EA.label=5;case 5:return(!((PA=e.removeContainer)!==null&&PA!==void 0)||PA)&&(Zl.destroy(C)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},Om=function(A,e,t){var r=e.ownerDocument,a=r.documentElement?Ta(A,getComputedStyle(r.documentElement).backgroundColor):Ot.TRANSPARENT,n=r.body?Ta(A,getComputedStyle(r.body).backgroundColor):Ot.TRANSPARENT,s=typeof t=="string"?Ta(A,t):t===null?Ot.TRANSPARENT:4294967295;return e===r.documentElement?lr(a)?lr(n)?s:n:a:s};function jm(A,e){if(A.match(/^[a-z]+:\/\//i))return A;if(A.match(/^\/\//))return window.location.protocol+A;if(A.match(/^[a-z]+:/i))return A;const t=document.implementation.createHTMLDocument(),r=t.createElement("base"),a=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(a),e&&(r.href=e),a.href=A,a.href}const Gm=(()=>{let A=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(A+=1,`u${e()}${A}`)})();function cr(A){const e=[];for(let t=0,r=A.length;t<r;t++)e.push(A[t]);return e}let Vr=null;function jd(A={}){return Vr||(A.includeStyleProperties?(Vr=A.includeStyleProperties,Vr):(Vr=cr(window.getComputedStyle(document.documentElement)),Vr))}function ni(A,e){const r=(A.ownerDocument.defaultView||window).getComputedStyle(A).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Vm(A){const e=ni(A,"border-left-width"),t=ni(A,"border-right-width");return A.clientWidth+e+t}function Wm(A){const e=ni(A,"border-top-width"),t=ni(A,"border-bottom-width");return A.clientHeight+e+t}function zm(A,e={}){const t=e.width||Vm(A),r=e.height||Wm(A);return{width:t,height:r}}function $s(A){return new Promise((e,t)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=t,r.crossOrigin="anonymous",r.decoding="async",r.src=A})}async function Ym(A){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(A)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Xm(A,e,t){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),n=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${t}`),a.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),a.appendChild(n),n.appendChild(A),Ym(a)}const $e=(A,e)=>{if(A instanceof e)return!0;const t=Object.getPrototypeOf(A);return t===null?!1:t.constructor.name===e.name||$e(t,e)};function $m(A){const e=A.getPropertyValue("content");return`${A.cssText} content: '${e.replace(/'|"/g,"")}';`}function Zm(A,e){return jd(e).map(t=>{const r=A.getPropertyValue(t),a=A.getPropertyPriority(t);return`${t}: ${r}${a?" !important":""};`}).join(" ")}function Jm(A,e,t,r){const a=`.${A}:${e}`,n=t.cssText?$m(t):Zm(t,r);return document.createTextNode(`${a}{${n}}`)}function tc(A,e,t,r){const a=window.getComputedStyle(A,t),n=a.getPropertyValue("content");if(n===""||n==="none")return;const s=Gm();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(Jm(s,t,a,r)),e.appendChild(o)}function qm(A,e,t){tc(A,e,":before",t),tc(A,e,":after",t)}const rc="application/font-woff",ac="image/jpeg",A0={woff:rc,woff2:rc,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ac,jpeg:ac,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function e0(A){const e=/\.([^./]*?)$/g.exec(A);return e?e[1]:""}function yo(A){const e=e0(A).toLowerCase();return A0[e]||""}function t0(A){return A.split(/,/)[1]}function Zs(A){return A.search(/^(data:)/)!==-1}function r0(A,e){return`data:${e};base64,${A}`}async function Gd(A,e,t){const r=await fetch(A,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((n,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{n(t({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(a)})}const os={};function a0(A,e,t){let r=A.replace(/\?.*/,"");return t&&(r=A),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function Fo(A,e,t){const r=a0(A,e,t.includeQueryParams);if(os[r]!=null)return os[r];t.cacheBust&&(A+=(/\?/.test(A)?"&":"?")+new Date().getTime());let a;try{const n=await Gd(A,t.fetchRequestInit,({res:s,result:o})=>(e||(e=s.headers.get("Content-Type")||""),t0(o)));a=r0(n,e)}catch(n){a=t.imagePlaceholder||"";let s=`Failed to fetch resource: ${A}`;n&&(s=typeof n=="string"?n:n.message),s&&console.warn(s)}return os[r]=a,a}async function n0(A){const e=A.toDataURL();return e==="data:,"?A.cloneNode(!1):$s(e)}async function i0(A,e){if(A.currentSrc){const n=document.createElement("canvas"),s=n.getContext("2d");n.width=A.clientWidth,n.height=A.clientHeight,s==null||s.drawImage(A,0,0,n.width,n.height);const o=n.toDataURL();return $s(o)}const t=A.poster,r=yo(t),a=await Fo(t,r,e);return $s(a)}async function s0(A,e){var t;try{if(!((t=A==null?void 0:A.contentDocument)===null||t===void 0)&&t.body)return await Ci(A.contentDocument.body,e,!0)}catch{}return A.cloneNode(!1)}async function o0(A,e){return $e(A,HTMLCanvasElement)?n0(A):$e(A,HTMLVideoElement)?i0(A,e):$e(A,HTMLIFrameElement)?s0(A,e):A.cloneNode(Vd(A))}const l0=A=>A.tagName!=null&&A.tagName.toUpperCase()==="SLOT",Vd=A=>A.tagName!=null&&A.tagName.toUpperCase()==="SVG";async function c0(A,e,t){var r,a;if(Vd(e))return e;let n=[];return l0(A)&&A.assignedNodes?n=cr(A.assignedNodes()):$e(A,HTMLIFrameElement)&&(!((r=A.contentDocument)===null||r===void 0)&&r.body)?n=cr(A.contentDocument.body.childNodes):n=cr(((a=A.shadowRoot)!==null&&a!==void 0?a:A).childNodes),n.length===0||$e(A,HTMLVideoElement)||await n.reduce((s,o)=>s.then(()=>Ci(o,t)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function d0(A,e,t){const r=e.style;if(!r)return;const a=window.getComputedStyle(A);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):jd(t).forEach(n=>{let s=a.getPropertyValue(n);n==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),$e(A,HTMLIFrameElement)&&n==="display"&&s==="inline"&&(s="block"),n==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),r.setProperty(n,s,a.getPropertyPriority(n))})}function u0(A,e){$e(A,HTMLTextAreaElement)&&(e.innerHTML=A.value),$e(A,HTMLInputElement)&&e.setAttribute("value",A.value)}function g0(A,e){if($e(A,HTMLSelectElement)){const r=Array.from(e.children).find(a=>A.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function f0(A,e,t){return $e(e,Element)&&(d0(A,e,t),qm(A,e,t),u0(A,e),g0(A,e)),e}async function h0(A,e){const t=A.querySelectorAll?A.querySelectorAll("use"):[];if(t.length===0)return A;const r={};for(let n=0;n<t.length;n++){const o=t[n].getAttribute("xlink:href");if(o){const l=A.querySelector(o),d=document.querySelector(o);!l&&d&&!r[o]&&(r[o]=await Ci(d,e,!0))}}const a=Object.values(r);if(a.length){const n="http://www.w3.org/1999/xhtml",s=document.createElementNS(n,"svg");s.setAttribute("xmlns",n),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(n,"defs");s.appendChild(o);for(let l=0;l<a.length;l++)o.appendChild(a[l]);A.appendChild(s)}return A}async function Ci(A,e,t){return!t&&e.filter&&!e.filter(A)?null:Promise.resolve(A).then(r=>o0(r,e)).then(r=>c0(A,r,e)).then(r=>f0(A,r,e)).then(r=>h0(r,e))}const Wd=/url\((['"]?)([^'"]+?)\1\)/g,B0=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,p0=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function m0(A){const e=A.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function w0(A){const e=[];return A.replace(Wd,(t,r,a)=>(e.push(a),t)),e.filter(t=>!Zs(t))}async function b0(A,e,t,r,a){try{const n=t?jm(e,t):e,s=yo(e);let o;return a||(o=await Fo(n,s,r)),A.replace(m0(e),`$1${o}$3`)}catch{}return A}function C0(A,{preferredFontFormat:e}){return e?A.replace(p0,t=>{for(;;){const[r,,a]=B0.exec(t)||[];if(!a)return"";if(a===e)return`src: ${r};`}}):A}function zd(A){return A.search(Wd)!==-1}async function Yd(A,e,t){if(!zd(A))return A;const r=C0(A,t);return w0(r).reduce((n,s)=>n.then(o=>b0(o,s,e,t)),Promise.resolve(r))}async function Wr(A,e,t){var r;const a=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(A);if(a){const n=await Yd(a,null,t);return e.style.setProperty(A,n,e.style.getPropertyPriority(A)),!0}return!1}async function y0(A,e){await Wr("background",A,e)||await Wr("background-image",A,e),await Wr("mask",A,e)||await Wr("-webkit-mask",A,e)||await Wr("mask-image",A,e)||await Wr("-webkit-mask-image",A,e)}async function F0(A,e){const t=$e(A,HTMLImageElement);if(!(t&&!Zs(A.src))&&!($e(A,SVGImageElement)&&!Zs(A.href.baseVal)))return;const r=t?A.src:A.href.baseVal,a=await Fo(r,yo(r),e);await new Promise((n,s)=>{A.onload=n,A.onerror=e.onImageErrorHandler?(...l)=>{try{n(e.onImageErrorHandler(...l))}catch(d){s(d)}}:s;const o=A;o.decode&&(o.decode=n),o.loading==="lazy"&&(o.loading="eager"),t?(A.srcset="",A.src=a):A.href.baseVal=a})}async function v0(A,e){const r=cr(A.childNodes).map(a=>Xd(a,e));await Promise.all(r).then(()=>A)}async function Xd(A,e){$e(A,Element)&&(await y0(A,e),await F0(A,e),await v0(A,e))}function Q0(A,e){const{style:t}=A;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(a=>{t[a]=r[a]}),A}const nc={};async function ic(A){let e=nc[A];if(e!=null)return e;const r=await(await fetch(A)).text();return e={url:A,cssText:r},nc[A]=e,e}async function sc(A,e){let t=A.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,n=(t.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,A.url).href),Gd(o,e.fetchRequestInit,({result:l})=>(t=t.replace(s,`url(${l})`),[s,l]))});return Promise.all(n).then(()=>t)}function oc(A){if(A==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let r=A.replace(t,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(a,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=n.exec(r);if(l===null){if(l=o.exec(r),l===null)break;n.lastIndex=o.lastIndex}else o.lastIndex=n.lastIndex;e.push(l[0])}return e}async function U0(A,e){const t=[],r=[];return A.forEach(a=>{if("cssRules"in a)try{cr(a.cssRules||[]).forEach((n,s)=>{if(n.type===CSSRule.IMPORT_RULE){let o=s+1;const l=n.href,d=ic(l).then(g=>sc(g,e)).then(g=>oc(g).forEach(B=>{try{a.insertRule(B,B.startsWith("@import")?o+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:B,error:p})}})).catch(g=>{console.error("Error loading remote css",g.toString())});r.push(d)}})}catch(n){const s=A.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&r.push(ic(a.href).then(o=>sc(o,e)).then(o=>oc(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",n)}}),Promise.all(r).then(()=>(A.forEach(a=>{if("cssRules"in a)try{cr(a.cssRules||[]).forEach(n=>{t.push(n)})}catch(n){console.error(`Error while reading CSS rules from ${a.href}`,n)}}),t))}function x0(A){return A.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>zd(e.style.getPropertyValue("src")))}async function E0(A,e){if(A.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=cr(A.ownerDocument.styleSheets),r=await U0(t,e);return x0(r)}function $d(A){return A.trim().replace(/["']/g,"")}function I0(A){const e=new Set;function t(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(n=>{e.add($d(n))}),Array.from(r.children).forEach(n=>{n instanceof HTMLElement&&t(n)})}return t(A),e}async function _0(A,e){const t=await E0(A,e),r=I0(A);return(await Promise.all(t.filter(n=>r.has($d(n.style.fontFamily))).map(n=>{const s=n.parentStyleSheet?n.parentStyleSheet.href:null;return Yd(n.cssText,s,e)}))).join(`
`)}async function S0(A,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await _0(A,e);if(t){const r=document.createElement("style"),a=document.createTextNode(t);r.appendChild(a),A.firstChild?A.insertBefore(r,A.firstChild):A.appendChild(r)}}async function H0(A,e={}){const{width:t,height:r}=zm(A,e),a=await Ci(A,e,!0);return await S0(a,e),await Xd(a,e),Q0(a,e),await Xm(a,t,r)}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const L0=4,lc=0,cc=1,k0=2;function ia(A){let e=A.length;for(;--e>=0;)A[e]=0}const M0=0,Zd=1,T0=2,N0=3,D0=258,vo=29,An=256,Wa=An+1+vo,Jr=30,Qo=19,Jd=2*Wa+1,Ur=15,ls=16,R0=7,Uo=256,qd=16,Au=17,eu=18,Js=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),K0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P0=512,Pt=new Array((Wa+2)*2);ia(Pt);const Ka=new Array(Jr*2);ia(Ka);const za=new Array(P0);ia(za);const Ya=new Array(D0-N0+1);ia(Ya);const xo=new Array(vo);ia(xo);const ii=new Array(Jr);ia(ii);function cs(A,e,t,r,a){this.static_tree=A,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=a,this.has_stree=A&&A.length}let ru,au,nu;function ds(A,e){this.dyn_tree=A,this.max_code=0,this.stat_desc=e}const iu=A=>A<256?za[A]:za[256+(A>>>7)],Xa=(A,e)=>{A.pending_buf[A.pending++]=e&255,A.pending_buf[A.pending++]=e>>>8&255},Xe=(A,e,t)=>{A.bi_valid>ls-t?(A.bi_buf|=e<<A.bi_valid&65535,Xa(A,A.bi_buf),A.bi_buf=e>>ls-A.bi_valid,A.bi_valid+=t-ls):(A.bi_buf|=e<<A.bi_valid&65535,A.bi_valid+=t)},It=(A,e,t)=>{Xe(A,t[e*2],t[e*2+1])},su=(A,e)=>{let t=0;do t|=A&1,A>>>=1,t<<=1;while(--e>0);return t>>>1},O0=A=>{A.bi_valid===16?(Xa(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=A.bi_buf&255,A.bi_buf>>=8,A.bi_valid-=8)},j0=(A,e)=>{const t=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let d,g,B,p,C,y,Q=0;for(p=0;p<=Ur;p++)A.bl_count[p]=0;for(t[A.heap[A.heap_max]*2+1]=0,d=A.heap_max+1;d<Jd;d++)g=A.heap[d],p=t[t[g*2+1]*2+1]+1,p>l&&(p=l,Q++),t[g*2+1]=p,!(g>r)&&(A.bl_count[p]++,C=0,g>=o&&(C=s[g-o]),y=t[g*2],A.opt_len+=y*(p+C),n&&(A.static_len+=y*(a[g*2+1]+C)));if(Q!==0){do{for(p=l-1;A.bl_count[p]===0;)p--;A.bl_count[p]--,A.bl_count[p+1]+=2,A.bl_count[l]--,Q-=2}while(Q>0);for(p=l;p!==0;p--)for(g=A.bl_count[p];g!==0;)B=A.heap[--d],!(B>r)&&(t[B*2+1]!==p&&(A.opt_len+=(p-t[B*2+1])*t[B*2],t[B*2+1]=p),g--)}},ou=(A,e,t)=>{const r=new Array(Ur+1);let a=0,n,s;for(n=1;n<=Ur;n++)a=a+t[n-1]<<1,r[n]=a;for(s=0;s<=e;s++){let o=A[s*2+1];o!==0&&(A[s*2]=su(r[o]++,o))}},G0=()=>{let A,e,t,r,a;const n=new Array(Ur+1);for(t=0,r=0;r<vo-1;r++)for(xo[r]=t,A=0;A<1<<Js[r];A++)Ya[t++]=r;for(Ya[t-1]=r,a=0,r=0;r<16;r++)for(ii[r]=a,A=0;A<1<<zn[r];A++)za[a++]=r;for(a>>=7;r<Jr;r++)for(ii[r]=a<<7,A=0;A<1<<zn[r]-7;A++)za[256+a++]=r;for(e=0;e<=Ur;e++)n[e]=0;for(A=0;A<=143;)Pt[A*2+1]=8,A++,n[8]++;for(;A<=255;)Pt[A*2+1]=9,A++,n[9]++;for(;A<=279;)Pt[A*2+1]=7,A++,n[7]++;for(;A<=287;)Pt[A*2+1]=8,A++,n[8]++;for(ou(Pt,Wa+1,n),A=0;A<Jr;A++)Ka[A*2+1]=5,Ka[A*2]=su(A,5);ru=new cs(Pt,Js,An+1,Wa,Ur),au=new cs(Ka,zn,0,Jr,Ur),nu=new cs(new Array(0),K0,0,Qo,R0)},lu=A=>{let e;for(e=0;e<Wa;e++)A.dyn_ltree[e*2]=0;for(e=0;e<Jr;e++)A.dyn_dtree[e*2]=0;for(e=0;e<Qo;e++)A.bl_tree[e*2]=0;A.dyn_ltree[Uo*2]=1,A.opt_len=A.static_len=0,A.sym_next=A.matches=0},cu=A=>{A.bi_valid>8?Xa(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0},dc=(A,e,t,r)=>{const a=e*2,n=t*2;return A[a]<A[n]||A[a]===A[n]&&r[e]<=r[t]},us=(A,e,t)=>{const r=A.heap[t];let a=t<<1;for(;a<=A.heap_len&&(a<A.heap_len&&dc(e,A.heap[a+1],A.heap[a],A.depth)&&a++,!dc(e,r,A.heap[a],A.depth));)A.heap[t]=A.heap[a],t=a,a<<=1;A.heap[t]=r},uc=(A,e,t)=>{let r,a,n=0,s,o;if(A.sym_next!==0)do r=A.pending_buf[A.sym_buf+n++]&255,r+=(A.pending_buf[A.sym_buf+n++]&255)<<8,a=A.pending_buf[A.sym_buf+n++],r===0?It(A,a,e):(s=Ya[a],It(A,s+An+1,e),o=Js[s],o!==0&&(a-=xo[s],Xe(A,a,o)),r--,s=iu(r),It(A,s,t),o=zn[s],o!==0&&(r-=ii[s],Xe(A,r,o)));while(n<A.sym_next);It(A,Uo,e)},qs=(A,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,n=e.stat_desc.elems;let s,o,l=-1,d;for(A.heap_len=0,A.heap_max=Jd,s=0;s<n;s++)t[s*2]!==0?(A.heap[++A.heap_len]=l=s,A.depth[s]=0):t[s*2+1]=0;for(;A.heap_len<2;)d=A.heap[++A.heap_len]=l<2?++l:0,t[d*2]=1,A.depth[d]=0,A.opt_len--,a&&(A.static_len-=r[d*2+1]);for(e.max_code=l,s=A.heap_len>>1;s>=1;s--)us(A,t,s);d=n;do s=A.heap[1],A.heap[1]=A.heap[A.heap_len--],us(A,t,1),o=A.heap[1],A.heap[--A.heap_max]=s,A.heap[--A.heap_max]=o,t[d*2]=t[s*2]+t[o*2],A.depth[d]=(A.depth[s]>=A.depth[o]?A.depth[s]:A.depth[o])+1,t[s*2+1]=t[o*2+1]=d,A.heap[1]=d++,us(A,t,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],j0(A,e),ou(t,l,A.bl_count)},gc=(A,e,t)=>{let r,a=-1,n,s=e[1],o=0,l=7,d=4;for(s===0&&(l=138,d=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)n=s,s=e[(r+1)*2+1],!(++o<l&&n===s)&&(o<d?A.bl_tree[n*2]+=o:n!==0?(n!==a&&A.bl_tree[n*2]++,A.bl_tree[qd*2]++):o<=10?A.bl_tree[Au*2]++:A.bl_tree[eu*2]++,o=0,a=n,s===0?(l=138,d=3):n===s?(l=6,d=3):(l=7,d=4))},fc=(A,e,t)=>{let r,a=-1,n,s=e[1],o=0,l=7,d=4;for(s===0&&(l=138,d=3),r=0;r<=t;r++)if(n=s,s=e[(r+1)*2+1],!(++o<l&&n===s)){if(o<d)do It(A,n,A.bl_tree);while(--o!==0);else n!==0?(n!==a&&(It(A,n,A.bl_tree),o--),It(A,qd,A.bl_tree),Xe(A,o-3,2)):o<=10?(It(A,Au,A.bl_tree),Xe(A,o-3,3)):(It(A,eu,A.bl_tree),Xe(A,o-11,7));o=0,a=n,s===0?(l=138,d=3):n===s?(l=6,d=3):(l=7,d=4)}},V0=A=>{let e;for(gc(A,A.dyn_ltree,A.l_desc.max_code),gc(A,A.dyn_dtree,A.d_desc.max_code),qs(A,A.bl_desc),e=Qo-1;e>=3&&A.bl_tree[tu[e]*2+1]===0;e--);return A.opt_len+=3*(e+1)+5+5+4,e},W0=(A,e,t,r)=>{let a;for(Xe(A,e-257,5),Xe(A,t-1,5),Xe(A,r-4,4),a=0;a<r;a++)Xe(A,A.bl_tree[tu[a]*2+1],3);fc(A,A.dyn_ltree,e-1),fc(A,A.dyn_dtree,t-1)},z0=A=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&A.dyn_ltree[t*2]!==0)return lc;if(A.dyn_ltree[18]!==0||A.dyn_ltree[20]!==0||A.dyn_ltree[26]!==0)return cc;for(t=32;t<An;t++)if(A.dyn_ltree[t*2]!==0)return cc;return lc};let hc=!1;const Y0=A=>{hc||(G0(),hc=!0),A.l_desc=new ds(A.dyn_ltree,ru),A.d_desc=new ds(A.dyn_dtree,au),A.bl_desc=new ds(A.bl_tree,nu),A.bi_buf=0,A.bi_valid=0,lu(A)},du=(A,e,t,r)=>{Xe(A,(M0<<1)+(r?1:0),3),cu(A),Xa(A,t),Xa(A,~t),t&&A.pending_buf.set(A.window.subarray(e,e+t),A.pending),A.pending+=t},X0=A=>{Xe(A,Zd<<1,3),It(A,Uo,Pt),O0(A)},$0=(A,e,t,r)=>{let a,n,s=0;A.level>0?(A.strm.data_type===k0&&(A.strm.data_type=z0(A)),qs(A,A.l_desc),qs(A,A.d_desc),s=V0(A),a=A.opt_len+3+7>>>3,n=A.static_len+3+7>>>3,n<=a&&(a=n)):a=n=t+5,t+4<=a&&e!==-1?du(A,e,t,r):A.strategy===L0||n===a?(Xe(A,(Zd<<1)+(r?1:0),3),uc(A,Pt,Ka)):(Xe(A,(T0<<1)+(r?1:0),3),W0(A,A.l_desc.max_code+1,A.d_desc.max_code+1,s+1),uc(A,A.dyn_ltree,A.dyn_dtree)),lu(A),r&&cu(A)},Z0=(A,e,t)=>(A.pending_buf[A.sym_buf+A.sym_next++]=e,A.pending_buf[A.sym_buf+A.sym_next++]=e>>8,A.pending_buf[A.sym_buf+A.sym_next++]=t,e===0?A.dyn_ltree[t*2]++:(A.matches++,e--,A.dyn_ltree[(Ya[t]+An+1)*2]++,A.dyn_dtree[iu(e)*2]++),A.sym_next===A.sym_end);var J0=Y0,q0=du,Aw=$0,ew=Z0,tw=X0,rw={_tr_init:J0,_tr_stored_block:q0,_tr_flush_block:Aw,_tr_tally:ew,_tr_align:tw};const aw=(A,e,t,r)=>{let a=A&65535|0,n=A>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do a=a+e[r++]|0,n=n+a|0;while(--s);a%=65521,n%=65521}return a|n<<16|0};var uu=aw;const nw=()=>{let A,e=[];for(var t=0;t<256;t++){A=t;for(var r=0;r<8;r++)A=A&1?3988292384^A>>>1:A>>>1;e[t]=A}return e},iw=new Uint32Array(nw()),sw=(A,e,t,r)=>{const a=iw,n=r+t;A^=-1;for(let s=r;s<n;s++)A=A>>>8^a[(A^e[s])&255];return A^-1};var Ar=sw,si={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ow,_tr_stored_block:Ao,_tr_flush_block:lw,_tr_tally:dr,_tr_align:cw}=rw,{Z_NO_FLUSH:ur,Z_PARTIAL_FLUSH:dw,Z_FULL_FLUSH:uw,Z_FINISH:dt,Z_BLOCK:Bc,Z_OK:ve,Z_STREAM_END:pc,Z_STREAM_ERROR:_t,Z_DATA_ERROR:gw,Z_BUF_ERROR:gs,Z_DEFAULT_COMPRESSION:fw,Z_FILTERED:hw,Z_HUFFMAN_ONLY:Nn,Z_RLE:Bw,Z_FIXED:pw,Z_DEFAULT_STRATEGY:mw,Z_UNKNOWN:ww,Z_DEFLATED:yi}=gu,bw=9,Cw=15,yw=8,Fw=29,vw=256,eo=vw+1+Fw,Qw=30,Uw=19,xw=2*eo+1,Ew=15,SA=3,sr=258,St=sr+SA+1,Iw=32,ta=42,Eo=57,to=69,ro=73,ao=91,no=103,xr=113,Ha=666,je=1,sa=2,Sr=3,oa=4,_w=3,Er=(A,e)=>(A.msg=si[e],e),mc=A=>A*2-(A>4?9:0),tr=A=>{let e=A.length;for(;--e>=0;)A[e]=0},Sw=A=>{let e,t,r,a=A.w_size;e=A.hash_size,r=e;do t=A.head[--r],A.head[r]=t>=a?t-a:0;while(--e);e=a,r=e;do t=A.prev[--r],A.prev[r]=t>=a?t-a:0;while(--e)};let Hw=(A,e,t)=>(e<<A.hash_shift^t)&A.hash_mask,gr=Hw;const tt=A=>{const e=A.state;let t=e.pending;t>A.avail_out&&(t=A.avail_out),t!==0&&(A.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),A.next_out),A.next_out+=t,e.pending_out+=t,A.total_out+=t,A.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},rt=(A,e)=>{lw(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,e),A.block_start=A.strstart,tt(A.strm)},DA=(A,e)=>{A.pending_buf[A.pending++]=e},ya=(A,e)=>{A.pending_buf[A.pending++]=e>>>8&255,A.pending_buf[A.pending++]=e&255},io=(A,e,t,r)=>{let a=A.avail_in;return a>r&&(a=r),a===0?0:(A.avail_in-=a,e.set(A.input.subarray(A.next_in,A.next_in+a),t),A.state.wrap===1?A.adler=uu(A.adler,e,a,t):A.state.wrap===2&&(A.adler=Ar(A.adler,e,a,t)),A.next_in+=a,A.total_in+=a,a)},fu=(A,e)=>{let t=A.max_chain_length,r=A.strstart,a,n,s=A.prev_length,o=A.nice_match;const l=A.strstart>A.w_size-St?A.strstart-(A.w_size-St):0,d=A.window,g=A.w_mask,B=A.prev,p=A.strstart+sr;let C=d[r+s-1],y=d[r+s];A.prev_length>=A.good_match&&(t>>=2),o>A.lookahead&&(o=A.lookahead);do if(a=e,!(d[a+s]!==y||d[a+s-1]!==C||d[a]!==d[r]||d[++a]!==d[r+1])){r+=2,a++;do;while(d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&r<p);if(n=sr-(p-r),r=p-sr,n>s){if(A.match_start=e,s=n,n>=o)break;C=d[r+s-1],y=d[r+s]}}while((e=B[e&g])>l&&--t!==0);return s<=A.lookahead?s:A.lookahead},ra=A=>{const e=A.w_size;let t,r,a;do{if(r=A.window_size-A.lookahead-A.strstart,A.strstart>=e+(e-St)&&(A.window.set(A.window.subarray(e,e+e-r),0),A.match_start-=e,A.strstart-=e,A.block_start-=e,A.insert>A.strstart&&(A.insert=A.strstart),Sw(A),r+=e),A.strm.avail_in===0)break;if(t=io(A.strm,A.window,A.strstart+A.lookahead,r),A.lookahead+=t,A.lookahead+A.insert>=SA)for(a=A.strstart-A.insert,A.ins_h=A.window[a],A.ins_h=gr(A,A.ins_h,A.window[a+1]);A.insert&&(A.ins_h=gr(A,A.ins_h,A.window[a+SA-1]),A.prev[a&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=a,a++,A.insert--,!(A.lookahead+A.insert<SA)););}while(A.lookahead<St&&A.strm.avail_in!==0)},hu=(A,e)=>{let t=A.pending_buf_size-5>A.w_size?A.w_size:A.pending_buf_size-5,r,a,n,s=0,o=A.strm.avail_in;do{if(r=65535,n=A.bi_valid+42>>3,A.strm.avail_out<n||(n=A.strm.avail_out-n,a=A.strstart-A.block_start,r>a+A.strm.avail_in&&(r=a+A.strm.avail_in),r>n&&(r=n),r<t&&(r===0&&e!==dt||e===ur||r!==a+A.strm.avail_in)))break;s=e===dt&&r===a+A.strm.avail_in?1:0,Ao(A,0,0,s),A.pending_buf[A.pending-4]=r,A.pending_buf[A.pending-3]=r>>8,A.pending_buf[A.pending-2]=~r,A.pending_buf[A.pending-1]=~r>>8,tt(A.strm),a&&(a>r&&(a=r),A.strm.output.set(A.window.subarray(A.block_start,A.block_start+a),A.strm.next_out),A.strm.next_out+=a,A.strm.avail_out-=a,A.strm.total_out+=a,A.block_start+=a,r-=a),r&&(io(A.strm,A.strm.output,A.strm.next_out,r),A.strm.next_out+=r,A.strm.avail_out-=r,A.strm.total_out+=r)}while(s===0);return o-=A.strm.avail_in,o&&(o>=A.w_size?(A.matches=2,A.window.set(A.strm.input.subarray(A.strm.next_in-A.w_size,A.strm.next_in),0),A.strstart=A.w_size,A.insert=A.strstart):(A.window_size-A.strstart<=o&&(A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,A.insert>A.strstart&&(A.insert=A.strstart)),A.window.set(A.strm.input.subarray(A.strm.next_in-o,A.strm.next_in),A.strstart),A.strstart+=o,A.insert+=o>A.w_size-A.insert?A.w_size-A.insert:o),A.block_start=A.strstart),A.high_water<A.strstart&&(A.high_water=A.strstart),s?oa:e!==ur&&e!==dt&&A.strm.avail_in===0&&A.strstart===A.block_start?sa:(n=A.window_size-A.strstart,A.strm.avail_in>n&&A.block_start>=A.w_size&&(A.block_start-=A.w_size,A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,n+=A.w_size,A.insert>A.strstart&&(A.insert=A.strstart)),n>A.strm.avail_in&&(n=A.strm.avail_in),n&&(io(A.strm,A.window,A.strstart,n),A.strstart+=n,A.insert+=n>A.w_size-A.insert?A.w_size-A.insert:n),A.high_water<A.strstart&&(A.high_water=A.strstart),n=A.bi_valid+42>>3,n=A.pending_buf_size-n>65535?65535:A.pending_buf_size-n,t=n>A.w_size?A.w_size:n,a=A.strstart-A.block_start,(a>=t||(a||e===dt)&&e!==ur&&A.strm.avail_in===0&&a<=n)&&(r=a>n?n:a,s=e===dt&&A.strm.avail_in===0&&r===a?1:0,Ao(A,A.block_start,r,s),A.block_start+=r,tt(A.strm)),s?Sr:je)},fs=(A,e)=>{let t,r;for(;;){if(A.lookahead<St){if(ra(A),A.lookahead<St&&e===ur)return je;if(A.lookahead===0)break}if(t=0,A.lookahead>=SA&&(A.ins_h=gr(A,A.ins_h,A.window[A.strstart+SA-1]),t=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),t!==0&&A.strstart-t<=A.w_size-St&&(A.match_length=fu(A,t)),A.match_length>=SA)if(r=dr(A,A.strstart-A.match_start,A.match_length-SA),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=SA){A.match_length--;do A.strstart++,A.ins_h=gr(A,A.ins_h,A.window[A.strstart+SA-1]),t=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!==0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=gr(A,A.ins_h,A.window[A.strstart+1]);else r=dr(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(r&&(rt(A,!1),A.strm.avail_out===0))return je}return A.insert=A.strstart<SA-1?A.strstart:SA-1,e===dt?(rt(A,!0),A.strm.avail_out===0?Sr:oa):A.sym_next&&(rt(A,!1),A.strm.avail_out===0)?je:sa},zr=(A,e)=>{let t,r,a;for(;;){if(A.lookahead<St){if(ra(A),A.lookahead<St&&e===ur)return je;if(A.lookahead===0)break}if(t=0,A.lookahead>=SA&&(A.ins_h=gr(A,A.ins_h,A.window[A.strstart+SA-1]),t=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=SA-1,t!==0&&A.prev_length<A.max_lazy_match&&A.strstart-t<=A.w_size-St&&(A.match_length=fu(A,t),A.match_length<=5&&(A.strategy===hw||A.match_length===SA&&A.strstart-A.match_start>4096)&&(A.match_length=SA-1)),A.prev_length>=SA&&A.match_length<=A.prev_length){a=A.strstart+A.lookahead-SA,r=dr(A,A.strstart-1-A.prev_match,A.prev_length-SA),A.lookahead-=A.prev_length-1,A.prev_length-=2;do++A.strstart<=a&&(A.ins_h=gr(A,A.ins_h,A.window[A.strstart+SA-1]),t=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart);while(--A.prev_length!==0);if(A.match_available=0,A.match_length=SA-1,A.strstart++,r&&(rt(A,!1),A.strm.avail_out===0))return je}else if(A.match_available){if(r=dr(A,0,A.window[A.strstart-1]),r&&rt(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return je}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(r=dr(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<SA-1?A.strstart:SA-1,e===dt?(rt(A,!0),A.strm.avail_out===0?Sr:oa):A.sym_next&&(rt(A,!1),A.strm.avail_out===0)?je:sa},Lw=(A,e)=>{let t,r,a,n;const s=A.window;for(;;){if(A.lookahead<=sr){if(ra(A),A.lookahead<=sr&&e===ur)return je;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=SA&&A.strstart>0&&(a=A.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){n=A.strstart+sr;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<n);A.match_length=sr-(n-a),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=SA?(t=dr(A,1,A.match_length-SA),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(t=dr(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),t&&(rt(A,!1),A.strm.avail_out===0))return je}return A.insert=0,e===dt?(rt(A,!0),A.strm.avail_out===0?Sr:oa):A.sym_next&&(rt(A,!1),A.strm.avail_out===0)?je:sa},kw=(A,e)=>{let t;for(;;){if(A.lookahead===0&&(ra(A),A.lookahead===0)){if(e===ur)return je;break}if(A.match_length=0,t=dr(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,t&&(rt(A,!1),A.strm.avail_out===0))return je}return A.insert=0,e===dt?(rt(A,!0),A.strm.avail_out===0?Sr:oa):A.sym_next&&(rt(A,!1),A.strm.avail_out===0)?je:sa};function Et(A,e,t,r,a){this.good_length=A,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=a}const La=[new Et(0,0,0,0,hu),new Et(4,4,8,4,fs),new Et(4,5,16,8,fs),new Et(4,6,32,32,fs),new Et(4,4,16,16,zr),new Et(8,16,32,32,zr),new Et(8,16,128,128,zr),new Et(8,32,128,256,zr),new Et(32,128,258,1024,zr),new Et(32,258,258,4096,zr)],Mw=A=>{A.window_size=2*A.w_size,tr(A.head),A.max_lazy_match=La[A.level].max_lazy,A.good_match=La[A.level].good_length,A.nice_match=La[A.level].nice_length,A.max_chain_length=La[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=SA-1,A.match_available=0,A.ins_h=0};function Tw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xw*2),this.dyn_dtree=new Uint16Array((2*Qw+1)*2),this.bl_tree=new Uint16Array((2*Uw+1)*2),tr(this.dyn_ltree),tr(this.dyn_dtree),tr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ew+1),this.heap=new Uint16Array(2*eo+1),tr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*eo+1),tr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const en=A=>{if(!A)return 1;const e=A.state;return!e||e.strm!==A||e.status!==ta&&e.status!==Eo&&e.status!==to&&e.status!==ro&&e.status!==ao&&e.status!==no&&e.status!==xr&&e.status!==Ha?1:0},Bu=A=>{if(en(A))return Er(A,_t);A.total_in=A.total_out=0,A.data_type=ww;const e=A.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Eo:e.wrap?ta:xr,A.adler=e.wrap===2?0:1,e.last_flush=-2,ow(e),ve},pu=A=>{const e=Bu(A);return e===ve&&Mw(A.state),e},Nw=(A,e)=>en(A)||A.state.wrap!==2?_t:(A.state.gzhead=e,ve),mu=(A,e,t,r,a,n)=>{if(!A)return _t;let s=1;if(e===fw&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>bw||t!==yi||r<8||r>15||e<0||e>9||n<0||n>pw||r===8&&s!==1)return Er(A,_t);r===8&&(r=9);const o=new Tw;return A.state=o,o.strm=A,o.status=ta,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+SA-1)/SA),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=n,o.method=t,pu(A)},Dw=(A,e)=>mu(A,e,yi,Cw,yw,mw),Rw=(A,e)=>{if(en(A)||e>Bc||e<0)return A?Er(A,_t):_t;const t=A.state;if(!A.output||A.avail_in!==0&&!A.input||t.status===Ha&&e!==dt)return Er(A,A.avail_out===0?gs:_t);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(tt(A),A.avail_out===0)return t.last_flush=-1,ve}else if(A.avail_in===0&&mc(e)<=mc(r)&&e!==dt)return Er(A,gs);if(t.status===Ha&&A.avail_in!==0)return Er(A,gs);if(t.status===ta&&t.wrap===0&&(t.status=xr),t.status===ta){let a=yi+(t.w_bits-8<<4)<<8,n=-1;if(t.strategy>=Nn||t.level<2?n=0:t.level<6?n=1:t.level===6?n=2:n=3,a|=n<<6,t.strstart!==0&&(a|=Iw),a+=31-a%31,ya(t,a),t.strstart!==0&&(ya(t,A.adler>>>16),ya(t,A.adler&65535)),A.adler=1,t.status=xr,tt(A),t.pending!==0)return t.last_flush=-1,ve}if(t.status===Eo){if(A.adler=0,DA(t,31),DA(t,139),DA(t,8),t.gzhead)DA(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),DA(t,t.gzhead.time&255),DA(t,t.gzhead.time>>8&255),DA(t,t.gzhead.time>>16&255),DA(t,t.gzhead.time>>24&255),DA(t,t.level===9?2:t.strategy>=Nn||t.level<2?4:0),DA(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(DA(t,t.gzhead.extra.length&255),DA(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(A.adler=Ar(A.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=to;else if(DA(t,0),DA(t,0),DA(t,0),DA(t,0),DA(t,0),DA(t,t.level===9?2:t.strategy>=Nn||t.level<2?4:0),DA(t,_w),t.status=xr,tt(A),t.pending!==0)return t.last_flush=-1,ve}if(t.status===to){if(t.gzhead.extra){let a=t.pending,n=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+n>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=o,tt(A),t.pending!==0)return t.last_flush=-1,ve;a=0,n-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+n),t.pending),t.pending+=n,t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ro}if(t.status===ro){if(t.gzhead.name){let a=t.pending,n;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a)),tt(A),t.pending!==0)return t.last_flush=-1,ve;a=0}t.gzindex<t.gzhead.name.length?n=t.gzhead.name.charCodeAt(t.gzindex++)&255:n=0,DA(t,n)}while(n!==0);t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ao}if(t.status===ao){if(t.gzhead.comment){let a=t.pending,n;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a)),tt(A),t.pending!==0)return t.last_flush=-1,ve;a=0}t.gzindex<t.gzhead.comment.length?n=t.gzhead.comment.charCodeAt(t.gzindex++)&255:n=0,DA(t,n)}while(n!==0);t.gzhead.hcrc&&t.pending>a&&(A.adler=Ar(A.adler,t.pending_buf,t.pending-a,a))}t.status=no}if(t.status===no){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(tt(A),t.pending!==0))return t.last_flush=-1,ve;DA(t,A.adler&255),DA(t,A.adler>>8&255),A.adler=0}if(t.status=xr,tt(A),t.pending!==0)return t.last_flush=-1,ve}if(A.avail_in!==0||t.lookahead!==0||e!==ur&&t.status!==Ha){let a=t.level===0?hu(t,e):t.strategy===Nn?kw(t,e):t.strategy===Bw?Lw(t,e):La[t.level].func(t,e);if((a===Sr||a===oa)&&(t.status=Ha),a===je||a===Sr)return A.avail_out===0&&(t.last_flush=-1),ve;if(a===sa&&(e===dw?cw(t):e!==Bc&&(Ao(t,0,0,!1),e===uw&&(tr(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),tt(A),A.avail_out===0))return t.last_flush=-1,ve}return e!==dt?ve:t.wrap<=0?pc:(t.wrap===2?(DA(t,A.adler&255),DA(t,A.adler>>8&255),DA(t,A.adler>>16&255),DA(t,A.adler>>24&255),DA(t,A.total_in&255),DA(t,A.total_in>>8&255),DA(t,A.total_in>>16&255),DA(t,A.total_in>>24&255)):(ya(t,A.adler>>>16),ya(t,A.adler&65535)),tt(A),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?ve:pc)},Kw=A=>{if(en(A))return _t;const e=A.state.status;return A.state=null,e===xr?Er(A,gw):ve},Pw=(A,e)=>{let t=e.length;if(en(A))return _t;const r=A.state,a=r.wrap;if(a===2||a===1&&r.status!==ta||r.lookahead)return _t;if(a===1&&(A.adler=uu(A.adler,e,t,0)),r.wrap=0,t>=r.w_size){a===0&&(tr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}const n=A.avail_in,s=A.next_in,o=A.input;for(A.avail_in=t,A.next_in=0,A.input=e,ra(r);r.lookahead>=SA;){let l=r.strstart,d=r.lookahead-(SA-1);do r.ins_h=gr(r,r.ins_h,r.window[l+SA-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--d);r.strstart=l,r.lookahead=SA-1,ra(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=SA-1,r.match_available=0,A.next_in=s,A.input=o,A.avail_in=n,r.wrap=a,ve};var Ow=Dw,jw=mu,Gw=pu,Vw=Bu,Ww=Nw,zw=Rw,Yw=Kw,Xw=Pw,$w="pako deflate (from Nodeca project)",Pa={deflateInit:Ow,deflateInit2:jw,deflateReset:Gw,deflateResetKeep:Vw,deflateSetHeader:Ww,deflate:zw,deflateEnd:Yw,deflateSetDictionary:Xw,deflateInfo:$w};const Zw=(A,e)=>Object.prototype.hasOwnProperty.call(A,e);var Jw=function(A){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Zw(t,r)&&(A[r]=t[r])}}return A},qw=A=>{let e=0;for(let r=0,a=A.length;r<a;r++)e+=A[r].length;const t=new Uint8Array(e);for(let r=0,a=0,n=A.length;r<n;r++){let s=A[r];t.set(s,a),a+=s.length}return t},wu={assign:Jw,flattenChunks:qw};let bu=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bu=!1}const $a=new Uint8Array(256);for(let A=0;A<256;A++)$a[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;$a[254]=$a[254]=1;var Ab=A=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(A);let e,t,r,a,n,s=A.length,o=0;for(a=0;a<s;a++)t=A.charCodeAt(a),(t&64512)===55296&&a+1<s&&(r=A.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),n=0,a=0;n<o;a++)t=A.charCodeAt(a),(t&64512)===55296&&a+1<s&&(r=A.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[n++]=t:t<2048?(e[n++]=192|t>>>6,e[n++]=128|t&63):t<65536?(e[n++]=224|t>>>12,e[n++]=128|t>>>6&63,e[n++]=128|t&63):(e[n++]=240|t>>>18,e[n++]=128|t>>>12&63,e[n++]=128|t>>>6&63,e[n++]=128|t&63);return e};const eb=(A,e)=>{if(e<65534&&A.subarray&&bu)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(A[r]);return t};var tb=(A,e)=>{const t=e||A.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(A.subarray(0,e));let r,a;const n=new Array(t*2);for(a=0,r=0;r<t;){let s=A[r++];if(s<128){n[a++]=s;continue}let o=$a[s];if(o>4){n[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<t;)s=s<<6|A[r++]&63,o--;if(o>1){n[a++]=65533;continue}s<65536?n[a++]=s:(s-=65536,n[a++]=55296|s>>10&1023,n[a++]=56320|s&1023)}return eb(n,a)},rb=(A,e)=>{e=e||A.length,e>A.length&&(e=A.length);let t=e-1;for(;t>=0&&(A[t]&192)===128;)t--;return t<0||t===0?e:t+$a[A[t]]>e?t:e},Cu={string2buf:Ab,buf2string:tb,utf8border:rb};function ab(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nb=ab;const yu=Object.prototype.toString,{Z_NO_FLUSH:ib,Z_SYNC_FLUSH:sb,Z_FULL_FLUSH:ob,Z_FINISH:lb,Z_OK:oi,Z_STREAM_END:cb,Z_DEFAULT_COMPRESSION:db,Z_DEFAULT_STRATEGY:ub,Z_DEFLATED:gb}=gu;function Fi(A){this.options=wu.assign({level:db,method:gb,chunkSize:16384,windowBits:15,memLevel:8,strategy:ub},A||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nb,this.strm.avail_out=0;let t=Pa.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==oi)throw new Error(si[t]);if(e.header&&Pa.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Cu.string2buf(e.dictionary):yu.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=Pa.deflateSetDictionary(this.strm,r),t!==oi)throw new Error(si[t]);this._dict_set=!0}}Fi.prototype.push=function(A,e){const t=this.strm,r=this.options.chunkSize;let a,n;if(this.ended)return!1;for(e===~~e?n=e:n=e===!0?lb:ib,typeof A=="string"?t.input=Cu.string2buf(A):yu.call(A)==="[object ArrayBuffer]"?t.input=new Uint8Array(A):t.input=A,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(n===sb||n===ob)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Pa.deflate(t,n),a===cb)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Pa.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===oi;if(t.avail_out===0){this.onData(t.output);continue}if(n>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Fi.prototype.onData=function(A){this.chunks.push(A)};Fi.prototype.onEnd=function(A){A===oi&&(this.result=wu.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function fb(A,e){const t=new Fi(e);if(t.push(A,!0),t.err)throw t.msg||si[t.err];return t.result}function hb(A,e){return e=e||{},e.gzip=!0,fb(A,e)}var Bb=hb,pb={gzip:Bb};const{gzip:mb}=pb;var wb=mb;const bb="modulepreload",Cb=function(A){return"/build/"+A},wc={},li=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(t.map(d=>{if(d=Cb(d),d in wc)return;wc[d]=!0;const g=d.endsWith(".css"),B=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${B}`))return;const p=document.createElement("link");if(p.rel=g?"stylesheet":bb,g||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),g)return new Promise((C,y)=>{p.addEventListener("load",C),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&n(o.reason);return e().catch(n)})};let hs=0,qr=0;const bc=["#2563eb","#dc2626","#059669","#f59e0b","#7c3aed"],Cc={front:"front","front-side":"front","front-cover":"front",cover:"front",back:"back","back-side":"back","back-cover":"back",reverse:"back",rear:"back",inside:"inside",interior:"inside","inside-left":"inside-left","inside-right":"inside-right","inside-spread":"inside",spread:"inside",outside:"front"},Bs={front:"Front Side",back:"Back Side",inside:"Inside Spread","inside-left":"Inside Left","inside-right":"Inside Right"};function yb(A,e){return e<=1||A===0?"front":A===1?"back":`page-${A+1}`}function aa(A){if(A==null)return null;const e=String(A).trim();if(!e)return null;const t=e.toLowerCase().replace(/[_\s]+/g,"-");return Cc[t]?Cc[t]:(/^page-\d+$/.test(t),t)}function tn(A,e=0,t=1){const r=aa(A);if(!r)return`Page ${e+1}`;if(Bs[r])return Bs[r];if(/^(front|back|inside)(-\d+)$/.test(r)){const[a,n]=r.split("-");return`${Bs[a]??a.charAt(0).toUpperCase()+a.slice(1)} (${n.replace("-","#")})`}if(/^inside-(left|right)$/.test(r)){const[,a]=r.split("-");return`Inside ${a.charAt(0).toUpperCase()+a.slice(1)}`}return/^page-\d+$/.test(r)?`Page ${r.split("-")[1]}`:r==="spread"?"Inside Spread":r==="cover"?"Front Side":r==="rear"?"Back Side":r.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function Fb(A,e,t){if(typeof A=="string"&&A.trim()!==""){const r=A.trim();if(!/^Page\s+\d+$/i.test(r))return r}return e||`Page ${t+1}`}function vb(A,e,t){var g;const r=(A==null?void 0:A.id)??`layer-${qr===0?e:qr}`;qr+=1;const a=(A==null?void 0:A.type)??(A==null?void 0:A.kind)??"shape",n=Fu((A==null?void 0:A.frame)||((g=A==null?void 0:A.metadata)==null?void 0:g.frame)||null,t,a,e),s=(A==null?void 0:A.name)??`Layer ${e+1}`,o={...(A==null?void 0:A.metadata)??{}},l=o.previewLabel??s,d={...o,previewKey:o.previewKey??r,previewLabel:l};return{id:r,name:s,type:a,visible:(A==null?void 0:A.visible)!==void 0?!!A.visible:!0,locked:(A==null?void 0:A.locked)!==void 0?!!A.locked:!1,opacity:typeof(A==null?void 0:A.opacity)=="number"?A.opacity:1,frame:n,fill:(A==null?void 0:A.fill)??(A==null?void 0:A.color)??vu(a),stroke:(A==null?void 0:A.stroke)??(A==null?void 0:A.border)??null,content:(A==null?void 0:A.content)??(A==null?void 0:A.text)??"",fontSize:typeof(A==null?void 0:A.fontSize)=="number"?A.fontSize:42,fontFamily:(A==null?void 0:A.fontFamily)??"Inter, sans-serif",fontWeight:(A==null?void 0:A.fontWeight)??"400",textAlign:(A==null?void 0:A.textAlign)??"center",borderRadius:typeof(A==null?void 0:A.borderRadius)=="number"?A.borderRadius:Qu(a),metadata:d,editable:(A==null?void 0:A.editable)!==void 0?!!A.editable:!0,replaceable:(A==null?void 0:A.replaceable)!==void 0?!!A.replaceable:a==="image"}}function Fu(A,e,t,r=0){if(!A){if(!e)return null;const n=48,s=Math.round(e.width*.6),o=Math.min(200,Math.round(e.height*.22)),l=r*32;return{x:n+l%120,y:n+l,width:t==="text"?Math.max(320,s):s,height:t==="text"?Math.max(120,Math.round(e.height*.12)):o,rotation:0}}const a=n=>typeof n=="number"?n:parseFloat(n);return{x:a(A.x)||0,y:a(A.y)||0,width:Math.max(1,a(A.width)||1),height:Math.max(1,a(A.height)||1),rotation:a(A.rotation)||0}}function so(A,e=0,t=1,r=null){const a=(A==null?void 0:A.id)??`page-${hs===0?e:hs}`;hs+=1;const n=Array.isArray(A==null?void 0:A.nodes)?A.nodes.map((C,y)=>vb(C,y,A)):[],s={...(A==null?void 0:A.metadata)??{}},o=[A==null?void 0:A.pageType,s.pageType,s.side,s.role,s.sideLabel,A==null?void 0:A.name];let l=null;for(const C of o){const y=aa(C);if(y){l=y;break}}l||(l=yb(e,t));const d=tn(l,e,t),g=s.generatedName??d;s.pageType=l,s.side=s.side??l,s.sideLabel=s.sideLabel??d,s.generatedName=g;const B=r!=null&&r.width_inch?Math.round(r.width_inch*96):400,p=r!=null&&r.height_inch?Math.round(r.height_inch*96):400;return{id:a,name:Fb(A==null?void 0:A.name,g,e),width:(A==null?void 0:A.width)??B,height:(A==null?void 0:A.height)??p,background:(A==null?void 0:A.background)??"#ffffff",safeZone:(A==null?void 0:A.safeZone)??null,bleed:(A==null?void 0:A.bleed)??null,nodes:n,pageType:l,metadata:s}}function ot(A="shape",e=null,t={}){var g;const r=t.id??`layer-${qr}`;qr+=1;const n=(t.frame?{...t.frame}:null)||(e?Fu(null,e,A,((g=e.nodes)==null?void 0:g.length)??0):null),s=t.fill??vu(A),o=t.name??Qb(A),l={...t.metadata??{}},d={...l,previewKey:l.previewKey??r,previewLabel:l.previewLabel??o};return{id:r,name:o,type:A,visible:t.visible!==void 0?t.visible:!0,locked:t.locked??!1,opacity:typeof t.opacity=="number"?t.opacity:1,frame:n,fill:s,stroke:t.stroke??null,content:t.content??(A==="text"?"Double-click to edit text":""),fontSize:t.fontSize??(A==="text"?48:null),fontFamily:t.fontFamily??"Inter, sans-serif",fontWeight:t.fontWeight??(A==="text"?"400":void 0),textAlign:t.textAlign??"center",borderRadius:t.borderRadius??Qu(A,t.variant),variant:t.variant??(A==="shape"?"rectangle":null),metadata:d,editable:t.editable??!0,replaceable:t.replaceable??A==="image"}}function Qb(A){return A==="text"?"Text box":A==="image"?"Image placeholder":"Shape"}function vu(A){switch(A){case"text":return"#0f172a";case"image":return"rgba(148, 163, 184, 0.2)";default:return bc[qr%bc.length]}}function Qu(A,e){return A==="shape"&&(e==="circle"||e==="ellipse")?9999:A==="shape"?16:0}const Uu=f.createContext(null);function xu(A,e,t){const r=A==null?void 0:A.pages;return Array.isArray(r)&&r.length>0?r.map((a,n)=>so(a,n,r.length,e)):[so(null,0,1,e)]}const Ub=({template:A})=>{var g,B,p;const e={...A,fold_type:(A==null?void 0:A.fold_type)||null,width_inch:(A==null?void 0:A.width_inch)??4.5,height_inch:(A==null?void 0:A.height_inch)??6.25,sizes:(A==null?void 0:A.sizes)??[]},t=((g=A==null?void 0:A.design)==null?void 0:g.front)||(A==null?void 0:A.design)||{pages:[]},r=((B=A==null?void 0:A.design)==null?void 0:B.back)||{pages:[]},a=t,n=_o(xu(a,e),e),s=((p=n[0])==null?void 0:p.id)??"page-0",o=a==null?void 0:a.activePageId,d=n.some(C=>C.id===o)?o:s;return{template:e,frontDesign:t,backDesign:r,currentSide:"front",pages:n,activePageId:d,selectedLayerId:Oa(n,d),zoom:1,panX:0,panY:0,layersPanelOpen:!0,inspectorOpen:!0,recentlyUploadedImages:[],showPreviewModal:!1,sizes:(A==null?void 0:A.sizes)??[],selectedSizes:(A==null?void 0:A.selected_sizes)??[],history:{undoStack:[],redoStack:[]},imageHistory:{}}};function xb(A,e){var t,r,a,n,s,o,l,d,g,B,p,C,y,Q,Y,x,T,eA,Z,M;switch(e.type){case"SELECT_PAGE":return{...A,activePageId:e.pageId,selectedLayerId:Oa(A.pages,e.pageId)};case"SWITCH_SIDE":{const S=e.side,U=S==="front"?A.frontDesign:A.backDesign,H=_o(xu(U,A.template),A.template),I=((t=H[0])==null?void 0:t.id)??"page-0",k=U==null?void 0:U.activePageId,$=H.some(iA=>iA.id===k)?k:I;return{...A,currentSide:S,pages:H,activePageId:$,selectedLayerId:Oa(H,$),history:{undoStack:[],redoStack:[]},imageHistory:{}}}case"ADD_PAGE":{const S=A.pages.length+1,U=so(e.page,A.pages.length,S,A.template),H=[...A.pages,U];return st(A,H,{activePageId:U.id,selectedLayerId:((r=U.nodes[0])==null?void 0:r.id)??null})}case"DELETE_PAGE":{if(A.pages.length<=1)return A;const S=A.pages.findIndex(k=>k.id===e.pageId);if(S===-1)return A;const U=A.pages.filter(k=>k.id!==e.pageId);let H=A.activePageId;if(e.pageId===A.activePageId){const k=S>0?S-1:0;H=((a=U[k])==null?void 0:a.id)??((n=U[0])==null?void 0:n.id)??null}const I=Oa(U,H);return st(A,U,{activePageId:H,selectedLayerId:I})}case"UPDATE_PAGE_NAME":{const S=A.pages.map(U=>U.id===e.pageId?{...U,name:e.name}:U);return st(A,S)}case"UPDATE_PAGE_PROPS":{const S=A.pages.map(U=>U.id===e.pageId?{...U,...e.props}:U);return st(A,S)}case"UPDATE_TEMPLATE_PROPS":return{...A,template:{...A.template,...e.props}};case"SELECT_LAYER":return{...A,selectedLayerId:e.layerId};case"UPDATE_LAYER_PROPS":{const S=A.pages.map(I=>{if(I.id!==e.pageId)return I;const k=I.nodes.map(D=>D.id===e.layerId?{...D,...e.props}:D);return{...I,nodes:k}});let U=st(A,S,{selectedLayerId:Dn(A,S,e.layerId)});const H=(s=S.find(I=>I.id===e.pageId))==null?void 0:s.nodes.find(I=>I.id===e.layerId);if(H&&(H.type==="image"||(o=H.metadata)!=null&&o.isImageFrame)){const I=["brightness","contrast","saturation","flipHorizontal","flipVertical","objectFit"];if(Object.keys(e.props).some(D=>D==="metadata"&&e.props.metadata&&Object.keys(e.props.metadata).some($=>I.includes($)))||e.props.frame&&"rotation"in e.props.frame){const D={brightness:((l=H.metadata)==null?void 0:l.brightness)??100,contrast:((d=H.metadata)==null?void 0:d.contrast)??100,saturation:((g=H.metadata)==null?void 0:g.saturation)??100,flipHorizontal:((B=H.metadata)==null?void 0:B.flipHorizontal)??!1,flipVertical:((p=H.metadata)==null?void 0:p.flipVertical)??!1,objectFit:((C=H.metadata)==null?void 0:C.objectFit)??"cover",rotation:((y=H.frame)==null?void 0:y.rotation)??0};U={...U,imageHistory:{...U.imageHistory,[e.layerId]:{history:[...((Q=U.imageHistory[e.layerId])==null?void 0:Q.history)??[],D],currentIndex:(((Y=U.imageHistory[e.layerId])==null?void 0:Y.currentIndex)??-1)+1}}}}}return U}case"ALIGN_SELECTED_LAYER":{if(!A.selectedLayerId)return A;const S=A.pages.find(D=>D.id===A.activePageId);if(!S)return A;const U=S.nodes.find(D=>D.id===A.selectedLayerId);if(!U)return A;const H=U.frame?{...U.frame}:oo(S),I=Sb(H,S,e.alignment);if(!I||I.x===H.x&&I.y===H.y)return A;const k=A.pages.map(D=>{if(D.id!==S.id)return D;const $=D.nodes.map(iA=>iA.id!==U.id?iA:{...iA,frame:I});return{...D,nodes:$}});return st(A,k,{selectedLayerId:U.id})}case"ADD_LAYER":{const S=A.pages.map(U=>{if(U.id!==e.pageId)return U;const H=[...U.nodes,e.layer];return{...U,nodes:H}});return st(A,S,{selectedLayerId:e.layer.id})}case"REMOVE_LAYER":{const S=A.pages.map(H=>{if(H.id!==e.pageId)return H;const I=H.nodes.filter(k=>k.id!==e.layerId);return{...H,nodes:I}}),U=Dn(A,S,null);return st(A,S,{selectedLayerId:U})}case"DUPLICATE_LAYER":{const S=A.pages.map(H=>{if(H.id!==e.pageId)return H;const I=H.nodes.find(D=>D.id===e.layerId);if(!I)return H;const k={...ot(I.type,H,{...I,id:void 0,name:`${I.name} copy`,frame:I.frame?{...I.frame,x:I.frame.x+24,y:I.frame.y+24}:I.frame})};return{...H,nodes:[...H.nodes,k]}}),U=(x=S.find(H=>H.id===e.pageId))==null?void 0:x.nodes.slice(-1)[0];return st(A,S,{selectedLayerId:(U==null?void 0:U.id)??A.selectedLayerId})}case"REORDER_LAYER":{const S=A.pages.map(U=>{if(U.id!==e.pageId)return U;const H=U.nodes.findIndex(D=>D.id===e.layerId);if(H===-1)return U;const I=[...U.nodes],[k]=I.splice(H,1);if(e.direction==="FORWARD")I.splice(Math.min(I.length,H+1),0,k);else if(e.direction==="BACKWARD")I.splice(Math.max(0,H-1),0,k);else if(e.direction==="FRONT")I.push(k);else if(e.direction==="BACK")I.unshift(k);else if(typeof e.position=="number"){const D=Math.max(0,Math.min(I.length,e.position));I.splice(D,0,k)}else I.push(k);return{...U,nodes:I}});return st(A,S)}case"BEGIN_LAYER_TRANSFORM":return{...A,history:Eu(A)};case"UPDATE_LAYER_FRAME":{const S=A.pages.map(U=>{if(U.id!==e.pageId)return U;const H=U.nodes.map(I=>{if(I.id!==e.layerId||I.locked)return I;const k=Hb(I.frame,e.frame,U);return{...I,frame:k}});return{...U,nodes:H}});return st(A,S,{selectedLayerId:e.layerId},e.trackHistory!==!1)}case"NUDGE_LAYER":{const S=A.pages.find(D=>D.id===e.pageId);if(!S)return A;const U=S.nodes.find(D=>D.id===e.layerId);if(!U||U.locked)return A;const H=e.dx??0,I=e.dy??0,k=A.pages.map(D=>{if(D.id!==e.pageId)return D;const $=D.nodes.map(iA=>{if(iA.id!==e.layerId)return iA;const xA=iA.frame??oo(D);return{...iA,frame:{...xA,x:Math.round(xA.x+H),y:Math.round(xA.y+I)}}});return{...D,nodes:$}});return st(A,k,{selectedLayerId:e.layerId},e.trackHistory!==!1)}case"UPDATE_ZOOM":{const S=Math.min(Math.max(e.value,.25),3);return{...A,zoom:Number(S.toFixed(2))}}case"UPDATE_PAN":return{...A,panX:e.panX,panY:e.panY};case"SET_LAYERS_PANEL_OPEN":return{...A,layersPanelOpen:e.open};case"ADD_RECENTLY_UPLOADED_IMAGE":{const H=[{id:`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dataUrl:e.dataUrl,fileName:e.fileName,uploadedAt:new Date().toISOString()},...A.recentlyUploadedImages.filter(I=>I.dataUrl!==e.dataUrl)].slice(0,10);return{...A,recentlyUploadedImages:H}}case"DELETE_RECENTLY_UPLOADED_IMAGE":{const S=e.id,U=(A.recentlyUploadedImages||[]).filter(H=>H.id!==S);return{...A,recentlyUploadedImages:U}}case"SET_RECENTLY_UPLOADED_IMAGES":return{...A,recentlyUploadedImages:Array.isArray(e.images)?e.images:[]};case"PUSH_HISTORY":return{...A,history:{undoStack:[...A.history.undoStack,e.snapshot],redoStack:[]}};case"UNDO":{if(A.history.undoStack.length===0)return A;const S=[...A.history.undoStack],U=S.pop(),H=ka(U.pages),I=H.some(D=>D.id===A.activePageId)?A.activePageId:((T=H[0])==null?void 0:T.id)??null,k=Dn(A,H,A.selectedLayerId,I);return{...A,pages:H,activePageId:I,selectedLayerId:k,history:{undoStack:S,redoStack:[{pages:ka(A.pages)},...A.history.redoStack]}}}case"REDO":{if(A.history.redoStack.length===0)return A;const[S,...U]=A.history.redoStack,H=ka(S.pages),I=H.some(D=>D.id===A.activePageId)?A.activePageId:((eA=H[0])==null?void 0:eA.id)??null,k=Dn(A,H,A.selectedLayerId,I);return{...A,pages:H,activePageId:I,selectedLayerId:k,history:{undoStack:[...A.history.undoStack,{pages:ka(A.pages)}],redoStack:U}}}case"SHOW_PREVIEW_MODAL":return{...A,showPreviewModal:!0};case"HIDE_PREVIEW_MODAL":return{...A,showPreviewModal:!1};case"SELECT_SIZE":return{...A,selectedSizes:e.sizeId?[...new Set([...A.selectedSizes,e.sizeId])]:A.selectedSizes};case"DESELECT_SIZE":return{...A,selectedSizes:A.selectedSizes.filter(S=>S!==e.sizeId)};case"SET_SELECTED_SIZES":return{...A,selectedSizes:Array.isArray(e.sizeIds)?e.sizeIds:[]};case"PUSH_IMAGE_HISTORY":return{...A,imageHistory:{...A.imageHistory,[e.layerId]:{history:[...((Z=A.imageHistory[e.layerId])==null?void 0:Z.history)??[],e.imageState],currentIndex:(((M=A.imageHistory[e.layerId])==null?void 0:M.currentIndex)??-1)+1}}};case"NAVIGATE_IMAGE_HISTORY":const N=A.imageHistory[e.layerId];if(!N||N.history.length===0)return A;let E=N.currentIndex;if(e.direction==="BACK"?E=Math.max(0,N.currentIndex-1):e.direction==="FORWARD"?E=Math.min(N.history.length-1,N.currentIndex+1):e.direction==="FRONT"?E=N.history.length-1:e.direction==="BACKWARD"&&(E=Math.max(0,N.currentIndex-1)),E===N.currentIndex)return A;const V=N.history[E],R=A.pages.findIndex(S=>S.id===A.activePageId);if(R===-1)return A;const nA=A.pages[R].nodes.findIndex(S=>S.id===e.layerId);if(nA===-1)return A;const rA=[...A.pages];return rA[R]={...rA[R],nodes:[...rA[R].nodes]},rA[R].nodes[nA]={...rA[R].nodes[nA],metadata:{...rA[R].nodes[nA].metadata,...V}},{...A,pages:rA,imageHistory:{...A.imageHistory,[e.layerId]:{...N,currentIndex:E}}};default:return A}}function Io({template:A,routes:e,flags:t,user:r,csrfToken:a,children:n}){const[s,o]=f.useReducer(xb,{template:A},Ub);ci.useEffect(()=>{let d=!0;async function g(){try{const p=await(await li(()=>import("./recentImagesDB-CO6kquVm.js"),[])).getAllImages();if(!d)return;const C=p.slice().sort((y,Q)=>new Date(Q.uploadedAt)-new Date(y.uploadedAt)).slice(0,10).map(y=>({id:y.id,dataUrl:y.blob?URL.createObjectURL(y.blob):"",fileName:y.fileName,uploadedAt:y.uploadedAt}));o({type:"SET_RECENTLY_UPLOADED_IMAGES",images:C})}catch{}}return g(),()=>{d=!1}},[]);const l=f.useMemo(()=>({state:s,dispatch:o,routes:e,flags:t,user:r,csrfToken:a}),[s,e,t,r,a]);return i.jsx(Uu.Provider,{value:l,children:n})}function _o(A,e){if(!Array.isArray(A))return[];const t=Eb(e),r=Array.isArray(t.expectedPageTypes)?t.expectedPageTypes.map(s=>aa(s)).filter(Boolean):[],a=A.length,n=Object.create(null);return A.map((s,o)=>{const l={...s.metadata??{}},d=[s.pageType,l.pageType,l.side,l.role,r[o]];let g=null;for(const x of d){const T=aa(x);if(T){g=T;break}}g||(g=Ib(o,a));const B=n[g]??0;n[g]=B+1,B>0&&(g=`${g}-${B+1}`);const p=typeof s.name=="string"?s.name.trim():"",C=tn(g,o,a),y=l.generatedName,Y=!p||/^Page\s+\d+$/i.test(p)||y===p?C:p;return{...s,pageType:g,name:Y,metadata:{...l,pageType:g,side:l.side??g,sideLabel:C,generatedName:C}}})}function Eb(A){var t;const e=(t=A==null?void 0:A.design)==null?void 0:t.meta;return e&&typeof e=="object"?e:A!=null&&A.meta&&typeof A.meta=="object"?A.meta:{}}function Ib(A,e){return e<=1||A===0?"front":A===1?"back":`page-${A+1}`}function _b(A){if(!A)return{top:0,right:0,bottom:0,left:0};const e=r=>{if(typeof r=="number"&&Number.isFinite(r))return r;if(typeof r=="string"){const a=Number.parseFloat(r);return Number.isNaN(a)?0:a}return 0},t=e(A.margin??A.all??0);return{top:e(A.top??t),right:e(A.right??t),bottom:e(A.bottom??t),left:e(A.left??t)}}function Sb(A,e,t){if(!e||!A)return null;const r=_b(e.safeZone),a=Math.max(0,e.width-r.left-r.right),n=Math.max(0,e.height-r.top-r.bottom),s={left:r.left,right:r.left+a,top:r.top,bottom:r.top+n};let o=A.x,l=A.y;switch(t){case"left":o=s.left;break;case"right":o=Math.max(s.left,s.right-A.width);break;case"horizontal-center":o=s.left+(a-A.width)/2;break;case"top":l=s.top;break;case"bottom":l=Math.max(s.top,s.bottom-A.height);break;case"vertical-center":l=s.top+(n-A.height)/2;break;default:return A}return o=Math.min(Math.max(0,o),e.width-A.width),l=Math.min(Math.max(0,l),e.height-A.height),{...A,x:Math.round(o),y:Math.round(l)}}Io.propTypes={template:kA.object,routes:kA.object,flags:kA.object,user:kA.object,csrfToken:kA.string,children:kA.node.isRequired};Io.defaultProps={template:{},routes:{},flags:{},user:null,csrfToken:""};function kt(){const A=f.useContext(Uu);if(!A)throw new Error("useBuilderStore must be used within BuilderStoreProvider");return A}function Oa(A,e){const t=A.find(a=>a.id===e)??A[0];return!t||!Array.isArray(t.nodes)||t.nodes.length===0?null:(t.nodes.find(a=>a.visible!==!1)??t.nodes[0]).id}function st(A,e,t={},r=!0){const a=_o(e,A.template),n=r?Eu(A):A.history;return{...A,...t,pages:a,history:n}}function Eu(A){return{undoStack:[...A.history.undoStack,{pages:ka(A.pages)}],redoStack:[]}}function ka(A){return A.map(e=>({...e,metadata:{...e.metadata??{}},nodes:(Array.isArray(e.nodes)?e.nodes:[]).map(t=>({...t,frame:t.frame?{...t.frame}:null,metadata:{...t.metadata??{}}}))}))}function Dn(A,e,t,r){const a=r??A.activePageId,n=e.find(s=>s.id===a)??e[0];return n?t&&n.nodes.some(o=>o.id===t)?t:Oa(e,a):null}function Hb(A,e,t){const r=A??oo(t);return e?{x:Math.round(e.x??r.x),y:Math.round(e.y??r.y),width:Math.max(1,Math.round(e.width??r.width)),height:Math.max(1,Math.round(e.height??r.height)),rotation:Math.round(e.rotation??r.rotation??0)}:r}function oo(A){return{x:Math.round(A.width*.1),y:Math.round(A.height*.1),width:Math.round(A.width*.6),height:Math.round(A.height*.25),rotation:0}}function Lb(A){for(let e=A.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[A[e],A[t]]=[A[t],A[e]]}return A}const kb={birthday:{descriptor:"Celebration",phrases:["Party Pop","Cake Day","Spark Joy","Wish Glow","Confetti","Happy Vibes","Cheer Up","Fun Burst","Sugar Rush","Joy Ride","Glow Up","Gift Time","Funfetti","Sweet Bash","Party Vibe","Cake Rush","Festive Pop","Neon Fun","Sparkle","Cheer Wave","Joy Beam","Glitz Pop","Star Bash","Color Pop","Fun Bloom","Bright Bash","Lively Duo","Pop Joy","Glitter Pop","Glow Fest"]},corporate:{descriptor:"Executive",phrases:["Prime Edge","Bold Pitch","Team Sync","Strategy Hub","Future Desk","Growth Lab","Vision Deck","Focus Meet","Sharp Line","Core Plan","Pulse Ops","Scale Up","Insight Grid","Brand Apex","Data Flow","Venture Co","Logic Hub","Drive Co","Power Desk","Beyond HQ","Clarity Lab","Metric Mode","Peak Brief","Unity Team","Agenda Pro","Project Grid","Summit Note","Lead Sync","Bright Co","Studio HQ"]},baptism:{descriptor:"Sacred",phrases:["Pure Grace","Holy Light","Sacred Joy","Blessed Flow","Faith Rise","Grace Note","Gentle Waters","Pure Hope","Divine Glow","Sacred Bloom","Peace Tide","Hope Wave","Kind Light","Serene Gift","Grace Path","Soul Shine","Angel Dawn","Pure Promise","Light Song","Calm River","Soft Halo","Gentle Flame","Grace Drift","Hope Bloom","Dove Glow","Quiet Joy","Still Light","Angel Whisper","Sacred Rise","Grace Aura"]},wedding:{descriptor:"Romantic",phrases:["True Love","Ever Us","Golden Vow","Sweet Knot","Heart Duo","Luxe Union","Pure Romance","Velvet Kiss","Love Bloom","Charm Pair","Crystal Vow","Forever You","Bliss Bond","Tender Two","Moonlight","Rose Promise","Soulmate","Joyful Duo","Unity Glow","Dream Pair","Soft Embrace","Aurora Kiss","Gentle Vow","Eternal Two","Velvet Vow","Pearl Love","Blush Union","Amor Duo","Starry Kiss","Golden Duo"]}};function Mb(A=[],e={}){const t=e.perCategory||20,r={...kb,...e.themeConfig||{}},a=Object.keys(r),n=[];return a.forEach(s=>{const o=r[s];if(!o)return;const l=Lb([...o.phrases||[]]),d=Math.min(t,l.length);for(let g=0;g<d;g++){const B=A[g%Math.max(1,A.length)],C=(l[g]||"").split(/\s+/).filter(Boolean),y=C[0]??"",Q=C.length>1?C.slice(1).join(" "):"",Y=((B==null?void 0:B.layers)||[]).map((x,T)=>({role:x.role??(T===0?"heading":"subheading"),family:x.family||(T===0?"Inter":"Georgia"),fallback:x.fallback||(T===0?"sans-serif":"serif"),fontSize:T===0?Math.max(18,Math.round((x.fontSize||36)*.72)):Math.max(10,Math.round((x.fontSize||16)*.7)),fontWeight:x.fontWeight||(T===0?"600":"400"),content:T===0?y:T===1?Q:"",transform:x.transform||"none",align:x.align||"center",letterSpacing:x.letterSpacing??0,offsetY:x.offsetY??(T===0?0:40)}));n.push({id:`${s}-${g}-${(B==null?void 0:B.id)??"combo"}`,label:o.descriptor?`${(B==null?void 0:B.label)??"Preset"}  ${o.descriptor}`:(B==null?void 0:B.label)??"Preset",description:o.descriptor??"",category:s,layers:Y})}}),n}const Tb={frame:{label:"Frame layers (Canvas)",description:"Canvas container that holds all images, text, color fills, and shapes.",actionLabel:"Add frame layer"},text:{label:"Text layers",description:"Copy that can be tailored per customer",actionLabel:"Add text layer"},image:{label:"Image layers",description:"Photos or graphics that can be swapped",actionLabel:"Add image layer"},shape:{label:"Shape layers",description:"Decorative elements and frames",actionLabel:"Add shape layer"}},Nb=["frame","text","image","shape"],Rn=A=>{var t,r;if((t=A==null?void 0:A.metadata)!=null&&t.isCanvasFrame||((A==null?void 0:A.type)||"").toLowerCase()==="frame"||((A==null?void 0:A.type)||"").toLowerCase()==="background")return"frame";if((r=A==null?void 0:A.metadata)!=null&&r.isImageFrame)return"image";const e=((A==null?void 0:A.type)||"").toLowerCase();return e==="text"?"text":e==="image"||e==="photo"||e==="graphic"?"image":e==="shape"||e==="vector"||e==="icon"?"shape":"other"};function Db(){var M,N;const{state:A,dispatch:e}=kt(),t=((M=A.pages)==null?void 0:M.find(E=>E.id===A.activePageId))??((N=A.pages)==null?void 0:N[0]),r=f.useCallback(E=>{t&&e({type:"UPDATE_PAGE_PROPS",pageId:t.id,props:{background:E}})},[t,e]);if(!t)return null;const[a,n]=f.useState({frame:!1,text:!1,image:!1,shape:!1}),s=t.nodes||[],o=f.useMemo(()=>({id:"canvas-background",name:"Canvas Background",type:"background",background:t.background??"#ffffff",metadata:{isCanvasBackground:!0,isCanvasFrame:!0}}),[t.background]),l=f.useMemo(()=>{const E=[...s].reverse();return[o,...E]},[s,o]),d=f.useMemo(()=>{const E={frame:[],text:[],image:[],shape:[]};return l.forEach(V=>{const R=Rn(V);(R==="frame"||R==="text"||R==="image"||R==="shape")&&E[R].push(V)}),E},[l]),g=E=>{e({type:"SELECT_LAYER",layerId:E})},B=E=>{e({type:"DUPLICATE_LAYER",pageId:t.id,layerId:E})},p=E=>{const V=s.find(nA=>nA.id===E);window.confirm(`Delete "${(V==null?void 0:V.name)??"layer"}"? You can undo this action if needed.`)&&e({type:"REMOVE_LAYER",pageId:t.id,layerId:E})},C=E=>{const V=s.findIndex(R=>R.id===E);return V===-1?null:s.length-V},y=E=>{const V=s.findIndex(R=>R.id===E);return V===-1?null:V+1},Q=E=>{const V=Rn(E);return V==="frame"?"Frame":V==="text"?"Text":V==="image"?"Image":V==="shape"?"Shape":"Layer"},Y=(E,V)=>{var nA;const R=Rn(E);if(R==="text"){const rA=(E.content??"").trim();return rA||`Text Layer ${V+1}`}return R==="image"?`Image Layer ${V+1}`:R==="shape"?`Shape Layer ${V+1}`:R==="frame"?(nA=E==null?void 0:E.metadata)!=null&&nA.isCanvasBackground?"Canvas Background":V===0?"Canvas Frame":`Frame Layer ${V+1}`:E.name||`Layer ${V+1}`},x=E=>{n(V=>({...V,[E]:!V[E]}))},T=(E,V)=>{var k;const R=Rn(E),nA=E.id===A.selectedLayerId,rA=Y(E,V),S=C(E.id),U=y(E.id),H=Q(E),I=(k=E==null?void 0:E.metadata)==null?void 0:k.isCanvasBackground;return i.jsxs("div",{className:`layers-panel__item layers-panel__item--modern layers-panel__item--${R} ${nA?"is-active":""}`,role:"button",tabIndex:0,onClick:()=>{I||g(E.id)},onKeyDown:D=>{if(D.key==="Enter"||D.key===" "){if(D.preventDefault(),I)return;g(E.id)}},children:[i.jsxs("div",{className:"layers-panel__row-main",children:[i.jsxs("div",{className:"layers-panel__title-group",children:[i.jsx("span",{className:"layers-panel__badge",children:H}),i.jsx("span",{className:"layers-panel__label-text",title:rA,children:rA})]}),!I&&i.jsxs("div",{className:"layers-panel__actions-simple","aria-hidden":"true",children:[i.jsx("button",{type:"button",className:"layers-panel__action-ghost",onClick:D=>{D.stopPropagation(),g(E.id)},title:"Edit layer",children:""}),i.jsx("button",{type:"button",className:"layers-panel__action-ghost",onClick:D=>{D.stopPropagation(),B(E.id)},title:"Duplicate layer",children:""}),i.jsx("button",{type:"button",className:"layers-panel__action-ghost is-danger",onClick:D=>{D.stopPropagation(),p(E.id)},title:"Delete layer",children:""})]})]}),I?i.jsx("div",{className:"layers-panel__meta-row layers-panel__meta-row--background",children:i.jsxs("div",{className:"layers-panel__pill",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("span",{children:"Color"}),typeof E.background=="string"&&E.background.includes("gradient")?i.jsx("span",{className:"layers-panel__gradient-chip","aria-label":"Canvas background gradient preview",style:{display:"inline-flex",alignItems:"center",padding:"0.25rem 0.5rem",borderRadius:"9999px",border:"1px solid rgba(148,163,184,0.5)",background:E.background,color:"#0f172a",fontSize:"0.75rem",fontWeight:600,minWidth:96,justifyContent:"center"},title:"Background gradient preview",children:"Gradient"}):i.jsx("input",{type:"color",value:E.background??"#ffffff",onChange:D=>r(D.target.value),"aria-label":"Canvas background color",style:{width:32,height:20,border:"1px solid rgba(148,163,184,0.5)",borderRadius:6,cursor:"pointer"}})]})}):i.jsxs("div",{className:"layers-panel__meta-row","aria-hidden":"true",children:[i.jsxs("span",{className:"layers-panel__pill",children:["Order #",S??""]}),i.jsxs("span",{className:"layers-panel__pill",children:["Layer #",U??""]}),i.jsx("span",{className:"layers-panel__pill layers-panel__pill--soft",children:H})]})]},E.id)},eA=E=>{const V=d[E]??[];if(V.length===0)return null;const R=Tb[E],nA=a[E]??!1;return i.jsxs("div",{className:"layers-panel__group",children:[i.jsxs("button",{type:"button",className:"layers-panel__group-toggle",onClick:()=>x(E),"aria-expanded":!nA,children:[i.jsxs("div",{className:"layers-panel__group-text",children:[i.jsx("p",{className:"layers-panel__group-title",children:R.label}),i.jsx("p",{className:"layers-panel__group-description",children:R.description})]}),i.jsxs("div",{className:"layers-panel__group-meta",children:[i.jsxs("span",{className:"layers-panel__pill layers-panel__pill--soft",children:[V.length," items"]}),i.jsx("span",{className:"layers-panel__collapse-icon","aria-hidden":"true",children:nA?"":""})]})]}),!nA&&i.jsx("div",{className:"layers-panel__group-list",role:"list",children:V.map((rA,S)=>T(rA,S))})]},E)},Z=l.length;return i.jsxs("section",{className:"layers-panel","aria-label":"Layers",children:[i.jsxs("header",{className:"layers-panel__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Layers"}),i.jsx("p",{className:"layers-panel__header-subtitle",children:"Simple, ordered list of text and image layers on the canvas."})]}),i.jsxs("span",{className:"layers-panel__meta",children:[Z," items"]})]}),i.jsx("div",{className:"layers-panel__groups",children:Nb.map(E=>eA(E))})]})}var Rb={};function Kb(A){if(!A)return{top:0,right:0,bottom:0,left:0};const e=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const a=parseFloat(r);return Number.isNaN(a)?0:a}return 0},t=e(A.margin??A.all??0);return{top:e(A.top??t),right:e(A.right??t),bottom:e(A.bottom??t),left:e(A.left??t)}}function Dt(A,e,t){const r=t.left,a=e.width-t.right-A.width,n=t.top,s=e.height-t.bottom-A.height;return{...A,x:Math.max(r,Math.min(a,A.x)),y:Math.max(n,Math.min(s,A.y))}}function Pb(A,e=0,t=1){return Math.min(t,Math.max(e,A))}function Ob(A){if(typeof A!="string")return{h:0,s:0,l:0};let e=A.trim().replace("#","").toLowerCase();e.length===3&&(e=e.split("").map(B=>B+B).join("")),/^[0-9a-f]{6}$/.test(e)||(e="ffffff");const t=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255,n=Math.max(t,r,a),s=Math.min(t,r,a),o=n-s;let l=0;o!==0&&(n===t?l=(r-a)/o%6:n===r?l=(a-t)/o+2:l=(t-r)/o+4,l=Math.round(l*60),l<0&&(l+=360));const d=(n+s)/2,g=o===0?0:o/(1-Math.abs(2*d-1));return{h:l,s:Math.round(g*100),l:Math.round(d*100)}}function ps(A){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(A);return e?`${parseInt(e[1],16)}, ${parseInt(e[2],16)}, ${parseInt(e[3],16)}`:"255,255,255"}function jb(A,e,t){A/=360,e/=100,t/=100;const r=e*Math.min(t,1-t),a=n=>{const s=(n+A*12)%12,o=t-r*Math.max(Math.min(s-3,9-s,1),-1);return Math.round(255*o).toString(16).padStart(2,"0")};return`#${a(0)}${a(8)}${a(4)}`.toUpperCase()}const yc=[{id:"text",label:"Text",description:"Add headings, body copy, and typography styles.",icon:"fa-solid fa-t"},{id:"images",label:"Upload",description:"Upload customer photos or choose from brand assets.",icon:"fa-solid fa-cloud-arrow-up"},{id:"frames",label:"Frames",description:"Insert vector shapes, lines, and frames.",icon:"fas fa-images"},{id:"shapes",label:"Shape",description:"Add basic geometric shapes.",icon:"fa-solid fa-shapes"},{id:"photos",label:"Photos",description:"Add photos and images.",icon:"fa-solid fa-image"},{id:"icons",label:"Icons",description:"Insert icons and symbols.",icon:"fa-solid fa-icons"},{id:"draw",label:"Draw",description:"Draw shapes and lines.",icon:"fa-solid fa-pencil"},{id:"background",label:"Color",description:"Set background.",icon:"fa-solid fa-palette"},{id:"colors",label:"Palletes",description:"Generate color palettes.",icon:"fa-solid fa-palette"},{id:"sizes",label:"Sizes",description:"Select product sizes.",icon:"fa-solid fa-expand"},{id:"layers",label:"Layers",description:"Manage layers.",icon:"fa-solid fa-layer-group"},{id:"quotes",label:"Quotes",description:"Add quotes.",icon:"fa-solid fa-quote-left"}],Gb={rectangle:{variant:"rectangle",mask:"rectangle"},square:{variant:"rectangle",mask:"rectangle"},circle:{variant:"circle",mask:"circle"},ellipse:{variant:"circle",mask:"circle"},frame:{variant:"frame",mask:"frame"},layout:{variant:"layout",mask:"layout"},polygon:{variant:"polygon",mask:"polygon"},triangle:{variant:"polygon",mask:"triangle"},diamond:{variant:"polygon",mask:"diamond"},hexagon:{variant:"polygon",mask:"hexagon"},octagon:{variant:"polygon",mask:"octagon"},pentagon:{variant:"polygon",mask:"pentagon"},parallelogram:{variant:"polygon",mask:"parallelogram"},trapezoid:{variant:"polygon",mask:"trapezoid"},rhombus:{variant:"polygon",mask:"rhombus"},star:{variant:"polygon",mask:"star"},shield:{variant:"polygon",mask:"shield"},badge:{variant:"polygon",mask:"badge"},"triangle-equilateral":{variant:"polygon",mask:"triangle-equilateral"},"triangle-right":{variant:"polygon",mask:"triangle-right"},"triangle-isosceles":{variant:"polygon",mask:"triangle-isosceles"},"triangle-scalene":{variant:"polygon",mask:"triangle-scalene"},heart:{variant:"organic",mask:"heart"},"cloud-shape":{variant:"organic",mask:"cloud-shape"},flower:{variant:"organic",mask:"flower"},butterfly:{variant:"organic",mask:"butterfly"},leaf:{variant:"organic",mask:"leaf"},balloon:{variant:"organic",mask:"balloon"},crown:{variant:"organic",mask:"crown"},"puzzle-piece":{variant:"organic",mask:"puzzle-piece"},"ribbon-banner":{variant:"organic",mask:"ribbon-banner"},blob:{variant:"organic",mask:"blob"},wave:{variant:"organic",mask:"wave"},sun:{variant:"organic",mask:"sun"},moon:{variant:"organic",mask:"moon"},"tag-shape":{variant:"tag",mask:"tag-shape"},"ticket-shape":{variant:"tag",mask:"ticket-shape"},"polaroid-frame":{variant:"frame",mask:"polaroid-frame"},"film-strip-frame":{variant:"frame",mask:"film-strip-frame"},"torn-paper-frame":{variant:"frame",mask:"torn-paper-frame"},"curved-corner-frame":{variant:"frame",mask:"curved-corner-frame"},"scalloped-frame":{variant:"frame",mask:"scalloped-frame"},"collage-frame":{variant:"frame",mask:"collage-frame"},"arch-shape":{variant:"frame",mask:"arch-shape"},"camera-frame":{variant:"frame",mask:"camera-frame"},"phone-frame":{variant:"frame",mask:"phone-frame"},"ribbon-frame":{variant:"frame",mask:"ribbon-frame"}},Rt="rgba(148, 163, 184, 0.16)",Kt="rgba(148, 163, 184, 0.28)",Hr="#374151",fr="#111827",oA="#f8fafc",lA="rgba(15, 23, 42, 0.18)",Fe="0 12px 24px rgba(15, 23, 42, 0.12)",Se="inset 0 1px 0 rgba(255, 255, 255, 0.55)";function la(A){const e=`<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">${A}</svg>`;return`data:image/svg+xml,${encodeURIComponent(e)}`}function Aa(A=0,e=A){return la(`<rect x="8" y="8" width="48" height="48" rx="${A}" ry="${e}" fill="${Hr}" stroke="${fr}" stroke-width="2" />`)}function Iu(A=24){return la(`<circle cx="32" cy="32" r="${A}" fill="${Hr}" stroke="${fr}" stroke-width="2" />`)}function _u(A=24,e=18){return la(`<ellipse cx="32" cy="32" rx="${A}" ry="${e}" fill="${Hr}" stroke="${fr}" stroke-width="2" />`)}function IA(A){return la(`<polygon points="${A}" fill="${Hr}" stroke="${fr}" stroke-width="2" stroke-linejoin="round" />`)}function VA(A){return la(`<path d="${A}" fill="${Hr}" stroke="${fr}" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" />`)}function Fc(A){return la(A)}const Yn=[{id:"rectangle",label:"Rectangle",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(0),tags:["rectangle","box","quad"]},{id:"square",label:"Square",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(0),tags:["square","box","even"]},{id:"circle",label:"Circle",variant:"circle",maskVariant:"circle",thumb:Iu(24),tags:["circle","round"]},{id:"oval",label:"Oval",variant:"circle",maskVariant:"circle",thumb:_u(24,18),tags:["oval","ellipse"]},{id:"rounded-rectangle",label:"Rounded Rectangle",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(12),borderRadius:24,tags:["rounded","rectangle","soft"]},{id:"arch-shape",label:"Rounded Arch Frame",variant:"frame",maskVariant:"arch-shape",thumb:VA("M20 58 V30 A12 12 0 0 1 44 30 V58 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"arch-shape",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["arch","rounded","frame"]},{id:"triangle",label:"Triangle",variant:"polygon",maskVariant:"triangle",thumb:IA("32 10 10 54 54 54"),tags:["triangle","polygon"]},{id:"diamond",label:"Diamond",variant:"polygon",maskVariant:"diamond",thumb:IA("32 8 56 32 32 56 8 32"),tags:["diamond","rhombus"]},{id:"hexagon",label:"Hexagon",variant:"polygon",maskVariant:"hexagon",thumb:IA("20 10 44 10 56 32 44 54 20 54 8 32"),tags:["hexagon","polygon"]},{id:"octagon",label:"Octagon",variant:"polygon",maskVariant:"octagon",thumb:IA("22 8 42 8 56 22 56 42 42 56 22 56 8 42 8 22"),tags:["octagon","polygon"]},{id:"pentagon",label:"Pentagon",variant:"polygon",maskVariant:"pentagon",thumb:IA("32 8 56 26 46 56 18 56 8 26"),tags:["pentagon","polygon"]},{id:"parallelogram",label:"Parallelogram",variant:"polygon",maskVariant:"parallelogram",thumb:IA("18 12 56 8 46 56 8 60"),tags:["parallelogram","slanted","quadrilateral"]},{id:"trapezoid",label:"Trapezoid",variant:"polygon",maskVariant:"trapezoid",thumb:IA("16 12 48 12 56 52 8 52"),tags:["trapezoid","quadrilateral"]},{id:"rhombus",label:"Rhombus",variant:"polygon",maskVariant:"rhombus",thumb:IA("32 8 56 32 32 56 8 32"),tags:["rhombus","diamond"]},{id:"heart",label:"Heart",variant:"organic",maskVariant:"heart",thumb:VA("M32 50 L14 30 C6 20 12 8 24 12 C28 14 32 18 32 18 C32 18 36 14 40 12 C52 8 58 20 50 30 Z"),tags:["heart","love"]},{id:"cloud",label:"Cloud",variant:"organic",maskVariant:"cloud-shape",thumb:VA("M18 38 C12 38 8 34 8 28 C8 22 12 18 18 18 C20 10 28 6 36 10 C40 6 46 6 50 10 C56 10 60 14 60 20 C60 26 56 30 52 30 H18 Z"),tags:["cloud","organic"]},{id:"star",label:"Star",variant:"polygon",maskVariant:"star",thumb:IA("32 10 39 26 56 26 42 36 48 52 32 42 16 52 22 36 8 26 25 26"),tags:["star","badge"]},{id:"flower",label:"Flower / Daisy Badge",variant:"organic",maskVariant:"flower",thumb:VA("M32 8 C36 8 40 11 42 16 C48 14 54 18 56 24 C58 30 56 36 52 38 C52 44 48 50 42 52 C40 56 36 58 32 58 C28 58 24 56 22 52 C16 50 12 44 12 38 C8 36 6 30 8 24 C10 18 16 14 22 16 C24 11 28 8 32 8 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"flower",dropShadow:Fe,highlightInset:Se},tags:["flower","badge","organic"]},{id:"badge",label:"Badge Shape",variant:"polygon",maskVariant:"badge",thumb:IA("12 10 50 10 56 6 62 18 62 46 56 58 50 54 12 54 6 58 2 46 2 18 8 6"),tags:["badge","emblem"]},{id:"blob",label:"Blob / Organic Shape",variant:"organic",maskVariant:"blob",thumb:VA("M16 18 C20 8 38 6 50 14 C60 22 60 38 48 50 C36 62 18 58 10 44 C6 34 8 24 16 18 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"blob",dropShadow:Fe,highlightInset:Se},tags:["blob","organic"]},{id:"wave",label:"Wave / Curved Frame",variant:"organic",maskVariant:"wave",thumb:VA("M8 48 V22 C16 12 28 12 32 20 C40 32 52 32 56 22 V48 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"wave",dropShadow:Fe,highlightInset:Se},tags:["wave","curved","frame"]},{id:"polaroid",label:"Polaroid Frame",variant:"frame",maskVariant:"polaroid-frame",thumb:VA("M12 10 H52 V44 H40 V56 H24 V44 H12 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"polaroid-frame",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["polaroid","frame"]},{id:"film-strip",label:"Film Strip Frame",variant:"frame",maskVariant:"film-strip-frame",thumb:VA("M12 12 H52 V52 H12 Z M18 18 V46 M26 18 V46 M38 18 V46 M46 18 V46"),fill:oA,stroke:lA,metadata:{maskVariant:"film-strip-frame",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["film","strip","frame"]},{id:"torn-paper",label:"Torn Paper Edge",variant:"frame",maskVariant:"torn-paper-frame",thumb:VA("M10 14 L18 8 L26 18 L36 10 L46 20 L56 12 L58 20 L58 50 L46 46 L36 54 L26 48 L18 54 L10 46 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"torn-paper-frame",dropShadow:Fe,highlightInset:"inset 0 2px 4px rgba(255, 255, 255, 0.35)"},tags:["torn","paper","frame"]},{id:"curved-corner",label:"Curved Corner Frame",variant:"frame",maskVariant:"curved-corner-frame",thumb:VA("M16 12 Q12 12 12 20 V52 Q12 60 20 60 H44 Q52 60 52 52 V24 Q52 16 44 16 H32 Q24 16 24 12 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"curved-corner-frame",dropShadow:Fe,highlightInset:Se},tags:["curved","corner","frame"]},{id:"scalloped",label:"Scalloped Edge Frame",variant:"frame",maskVariant:"scalloped-frame",thumb:VA("M16 12 C18 8 24 8 26 12 C28 16 30 16 32 12 C34 8 38 8 40 12 C42 16 46 16 48 12 C50 8 56 8 56 12 V52 C54 56 50 56 48 52 C46 48 42 48 40 52 C38 56 34 56 32 52 C30 48 28 48 26 52 C24 56 18 56 16 52 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"scalloped-frame",dropShadow:Fe,highlightInset:Se},tags:["scalloped","frame"]},{id:"collage",label:"Photo Collage Frames",variant:"frame",maskVariant:"collage-frame",thumb:Fc(`<g stroke="${fr}" stroke-width="2" fill="${Hr}" stroke-linejoin="round"><rect x="10" y="12" width="18" height="18" rx="4" /><rect x="32" y="12" width="20" height="16" rx="4" /><rect x="20" y="34" width="28" height="18" rx="6" /></g>`),fill:oA,stroke:lA,metadata:{maskVariant:"collage-frame",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["collage","frame","grid"]},{id:"camera",label:"Camera Frame",variant:"frame",maskVariant:"camera-frame",thumb:VA("M16 22 H24 L28 16 H40 L44 22 H52 V50 H12 V22 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"camera-frame",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["camera","frame"]},{id:"phone",label:"Phone Screen Frame",variant:"frame",maskVariant:"phone-frame",thumb:VA("M22 10 H42 C46 10 48 12 48 16 V50 C48 54 46 56 42 56 H22 C18 56 16 54 16 50 V16 C16 12 18 10 22 10 Z"),borderRadius:18,fill:oA,stroke:lA,metadata:{maskVariant:"phone-frame",dropShadow:Fe,highlightInset:Se,isImageFrame:!0},tags:["phone","screen","frame"]},{id:"sun",label:"Sun",variant:"organic",maskVariant:"sun",thumb:Fc(`<circle cx="32" cy="32" r="16" fill="${Hr}" stroke="${fr}" stroke-width="2" /><g stroke="${fr}" stroke-width="2" stroke-linecap="round"><line x1="32" y1="8" x2="32" y2="2" /><line x1="32" y1="62" x2="32" y2="56" /><line x1="8" y1="32" x2="2" y2="32" /><line x1="62" y1="32" x2="56" y2="32" /><line x1="14" y1="14" x2="8" y2="8" /><line x1="50" y1="50" x2="56" y2="56" /><line x1="14" y1="50" x2="8" y2="56" /><line x1="50" y1="14" x2="56" y2="8" /></g>`),fill:oA,stroke:lA,metadata:{maskVariant:"sun",dropShadow:Fe,highlightInset:Se},tags:["sun","solar"]},{id:"moon",label:"Moon",variant:"organic",maskVariant:"moon",thumb:VA("M44 10 A22 22 0 1 1 20 54 A16 16 0 1 0 44 10 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"moon",dropShadow:Fe,highlightInset:Se},tags:["moon","night","crescent"]},{id:"butterfly",label:"Butterfly",variant:"organic",maskVariant:"butterfly",thumb:VA("M32 32 C38 24 44 12 54 16 C62 20 58 32 48 34 C58 40 60 52 48 52 C42 52 36 42 32 36 C28 42 22 52 16 52 C4 52 6 40 16 34 C6 32 2 20 10 16 C20 12 26 24 32 32 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"butterfly",dropShadow:Fe,highlightInset:Se},tags:["butterfly","organic"]},{id:"leaf",label:"Leaf",variant:"organic",maskVariant:"leaf",thumb:VA("M32 8 C46 16 56 30 54 44 C52 58 40 60 28 56 C16 52 8 40 10 26 C12 12 22 8 32 8 Z"),fill:oA,stroke:lA,metadata:{maskVariant:"leaf",dropShadow:Fe,highlightInset:Se},tags:["leaf","nature"]},{id:"gift-tag",label:"Gift Tag",variant:"tag",maskVariant:"tag-shape",thumb:IA("12 12 44 12 58 32 44 52 12 52 6 42 6 22"),fill:oA,stroke:lA,metadata:{maskVariant:"tag-shape",dropShadow:Fe,highlightInset:Se},tags:["gift","tag","label"]},{id:"ribbon-frame",label:"Ribbon Frame",variant:"frame",maskVariant:"ribbon-frame",thumb:VA("M10 22 L22 12 H42 L54 22 V46 H42 V54 H22 V46 H10 Z"),tags:["ribbon","banner","frame"]}],Vb=[{id:"natural-circle",label:"Circle",variant:"circle",maskVariant:"circle",thumb:Iu(24),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["circle","round"]},{id:"natural-ellipse",label:"Ellipse",variant:"circle",maskVariant:"circle",thumb:_u(24,18),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["ellipse","oval"]},{id:"natural-square",label:"Square",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(0),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["square","box","even"]},{id:"natural-rectangle",label:"Rectangle",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(0),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["rectangle","box","quad"]},{id:"natural-rounded-rectangle",label:"Rounded Rectangle",variant:"rectangle",maskVariant:"rectangle",thumb:Aa(12),borderRadius:24,fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["rounded","rectangle","soft"]},{id:"natural-triangle-equilateral",label:"Equilateral Triangle",variant:"polygon",maskVariant:"triangle-equilateral",thumb:IA("32 10 10 54 54 54"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["triangle","equilateral","polygon"]},{id:"natural-triangle-right",label:"Right Triangle",variant:"polygon",maskVariant:"triangle-right",thumb:IA("12 12 52 52 12 52"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["triangle","right","polygon"]},{id:"natural-triangle-isosceles",label:"Isosceles Triangle",variant:"polygon",maskVariant:"triangle-isosceles",thumb:IA("32 8 12 56 52 56"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["triangle","isosceles","polygon"]},{id:"natural-triangle-scalene",label:"Scalene Triangle",variant:"polygon",maskVariant:"triangle-scalene",thumb:IA("16 12 54 44 12 56"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["triangle","scalene","polygon"]},{id:"natural-pentagon",label:"Pentagon",variant:"polygon",maskVariant:"pentagon",thumb:IA("32 8 56 26 46 56 18 56 8 26"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["pentagon","polygon","5-sided"]},{id:"natural-hexagon",label:"Hexagon",variant:"polygon",maskVariant:"hexagon",thumb:IA("20 10 44 10 56 32 44 54 20 54 8 32"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["hexagon","polygon","6-sided"]},{id:"natural-heptagon",label:"Heptagon",variant:"polygon",maskVariant:"heptagon",thumb:IA("32 6 52 16 56 36 44 54 20 54 8 36 12 16"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["heptagon","polygon","7-sided"]},{id:"natural-octagon",label:"Octagon",variant:"polygon",maskVariant:"octagon",thumb:IA("22 8 42 8 56 22 56 42 42 56 22 56 8 42 8 22"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["octagon","polygon","8-sided"]},{id:"natural-star-5",label:"Star (5-pointed)",variant:"polygon",maskVariant:"star",thumb:IA("32 8 38 26 56 26 42 38 48 56 32 44 16 56 22 38 8 26 26 26"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["star","5-pointed","polygon"]},{id:"natural-star-6",label:"Star (6-pointed)",variant:"polygon",maskVariant:"hexagram",thumb:IA("32 6 42 18 54 18 48 30 54 42 42 36 32 48 22 36 6 42 12 30 6 18 18 18"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["star","6-pointed","hexagram","polygon"]},{id:"natural-star-8",label:"Star (8-pointed)",variant:"polygon",maskVariant:"octagram",thumb:IA("32 4 40 12 52 12 48 20 56 28 48 36 52 44 40 44 32 52 24 44 12 44 16 36 8 28 16 20 12 12 24 12"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["star","8-pointed","octagram","polygon"]},{id:"natural-heart",label:"Heart",variant:"organic",maskVariant:"heart",thumb:VA("M16 28 C16 22 12 18 8 18 C4 18 0 22 0 28 C0 32 4 36 8 40 L16 46 L24 40 C28 36 32 32 32 28 C32 22 28 18 24 18 C20 18 16 22 16 28 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["heart","love","organic"]},{id:"natural-diamond",label:"Diamond (Rhombus)",variant:"polygon",maskVariant:"diamond",thumb:IA("32 8 56 32 32 56 8 32"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["diamond","rhombus","polygon"]},{id:"natural-parallelogram",label:"Parallelogram",variant:"polygon",maskVariant:"parallelogram",thumb:IA("16 12 48 12 56 52 8 52"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["parallelogram","polygon","slanted"]},{id:"natural-trapezoid",label:"Trapezoid",variant:"polygon",maskVariant:"trapezoid",thumb:IA("18 12 46 12 56 52 8 52"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["trapezoid","polygon","trapezium"]},{id:"natural-crescent",label:"Crescent",variant:"organic",maskVariant:"crescent",thumb:VA("M32 8 A24 24 0 1 1 8 32 A16 16 0 1 0 32 8 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["crescent","moon","organic"]},{id:"natural-arrow-right",label:"Arrow (right)",variant:"polygon",maskVariant:"arrow-right",thumb:IA("8 16 40 16 40 8 56 24 40 40 40 32 8 32"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["arrow","right","direction","polygon"]},{id:"natural-arrow-left",label:"Arrow (left)",variant:"polygon",maskVariant:"arrow-left",thumb:IA("48 16 16 16 16 8 0 24 16 40 16 32 48 32"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["arrow","left","direction","polygon"]},{id:"natural-arrow-up",label:"Arrow (up)",variant:"polygon",maskVariant:"arrow-up",thumb:IA("16 48 16 16 8 16 24 0 40 16 32 16 32 48"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["arrow","up","direction","polygon"]},{id:"natural-arrow-down",label:"Arrow (down)",variant:"polygon",maskVariant:"arrow-down",thumb:IA("16 8 16 40 8 40 24 56 40 40 32 40 32 8"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["arrow","down","direction","polygon"]},{id:"natural-cross-plus",label:"Cross (plus sign)",variant:"polygon",maskVariant:"cross-plus",thumb:IA("24 8 40 8 40 24 56 24 56 40 40 40 40 56 24 56 24 40 8 40 8 24 24 24"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["cross","plus","add","polygon"]},{id:"natural-cross-x",label:"Cross (X shape)",variant:"polygon",maskVariant:"cross-x",thumb:IA("16 12 24 20 12 28 20 36 16 44 24 36 32 44 40 36 44 28 32 20 40 12 32 20"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["cross","x","multiply","polygon"]},{id:"natural-cloud",label:"Cloud shape",variant:"organic",maskVariant:"cloud-shape",thumb:VA("M44 32 C44 24 38 18 30 18 C26 18 22 20 20 24 C18 20 14 18 10 18 C4 18 0 24 0 30 C0 36 4 40 10 40 L34 40 C40 40 44 36 44 32 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["cloud","weather","organic"]},{id:"natural-speech-bubble-rounded",label:"Speech bubble (rounded rectangle)",variant:"organic",maskVariant:"speech-bubble-rounded",thumb:VA("M8 16 L8 40 Q8 48 16 48 L40 48 Q48 48 48 40 L48 16 Q48 8 40 8 L32 8 L28 0 L24 8 L16 8 Q8 8 8 16 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["speech","bubble","chat","rounded","organic"]},{id:"natural-speech-bubble-oval",label:"Speech bubble (oval)",variant:"organic",maskVariant:"speech-bubble-oval",thumb:VA("M16 8 Q8 8 8 16 L8 32 Q8 40 16 40 L32 40 Q40 40 40 32 L40 16 Q40 8 32 8 L24 8 L28 0 L20 0 L24 8 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["speech","bubble","chat","oval","organic"]},{id:"natural-polygon-custom",label:"Polygon (custom n-sides)",variant:"polygon",maskVariant:"polygon-custom",thumb:IA("32 4 56 16 52 44 32 56 12 44 8 16"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["polygon","custom","n-sides","variable"]},{id:"natural-spiral",label:"Spiral",variant:"organic",maskVariant:"spiral",thumb:VA("M32 32 Q40 32 40 24 Q40 16 48 16 Q56 16 56 24 Q56 32 48 32 Q40 32 40 40 Q40 48 32 48 Q24 48 24 40 Q24 32 32 32 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["spiral","coil","organic"]},{id:"natural-wave",label:"Wave",variant:"organic",maskVariant:"wave",thumb:VA("M0 32 Q16 16 32 32 T64 32 L64 64 L0 64 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["wave","sine","organic"]},{id:"natural-chevron",label:"Chevron",variant:"polygon",maskVariant:"chevron",thumb:IA("8 16 24 8 40 16 56 8 56 24 40 32 24 24 8 32 8 16"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["chevron","zigzag","polygon"]},{id:"natural-hexagram",label:"Hexagram (Star of David shape)",variant:"polygon",maskVariant:"hexagram",thumb:IA("32 6 42 18 54 18 48 30 54 42 42 36 32 48 22 36 6 42 12 30 6 18 18 18"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["hexagram","star of david","jewish","polygon"]},{id:"natural-kite",label:"Kite shape",variant:"polygon",maskVariant:"kite",thumb:IA("32 8 48 32 32 56 16 32"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["kite","diamond","polygon"]},{id:"natural-teardrop",label:"Teardrop",variant:"organic",maskVariant:"teardrop",thumb:VA("M32 8 Q48 8 48 24 Q48 40 32 56 Q16 40 16 24 Q16 8 32 8 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["teardrop","drop","organic"]},{id:"natural-lightning",label:"Lightning bolt",variant:"polygon",maskVariant:"lightning",thumb:IA("16 8 24 8 20 20 32 20 16 40 24 32 12 32 20 20 8 20"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["lightning","bolt","thunder","polygon"]},{id:"natural-banner-ribbon",label:"Banner/Ribbon shape",variant:"organic",maskVariant:"ribbon-banner",thumb:IA("8 16 24 8 40 16 56 24 40 32 24 24 8 24"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["banner","ribbon","organic"]},{id:"natural-gear",label:"Gear shape",variant:"organic",maskVariant:"gear",thumb:VA("M32 4 L36 12 L44 8 L40 16 L48 20 L40 24 L44 32 L36 28 L32 36 L28 28 L20 32 L24 24 L16 20 L24 16 L20 8 L28 12 Z"),fill:oA,stroke:lA,metadata:{isImageFrame:!1,allowImageFill:!1,allowColorFill:!0},tags:["gear","cog","mechanical","organic"]}];function So(A){const e={id:`default-shape-${A.id}`,thumbUrl:A.thumb,previewUrl:A.thumb,downloadUrl:A.thumb,description:A.label,provider:"default",providerLabel:"",credit:"",variant:A.variant,maskVariant:A.maskVariant,placeholderFill:Rt,placeholderStroke:Kt};return A.fill!==void 0&&(e.fill=A.fill),A.stroke!==void 0&&(e.stroke=A.stroke),A.borderRadius!==void 0&&(e.borderRadius=A.borderRadius),A.metadata&&(e.metadata={...A.metadata}),A.tags&&(e.tags=[...A.tags]),e}function Su(){return Yn.map(A=>So(A))}function Wb(){return Vb.map(A=>So(A))}function zb(A,e=Yn.length){const t=(A||"").trim().toLowerCase();if(!t)return Su().slice(0,e);const r=Yn.filter(n=>[n.label,...n.tags||[]].filter(Boolean).map(o=>o.toLowerCase()).some(o=>o.includes(t)));return(r.length>0?r:Yn).slice(0,e).map(n=>So(n))}const Yb=[{id:"all",label:"All images",value:null},{id:"photos",label:"Photos",value:"photos"},{id:"illustrations",label:"Illustrations",value:"illustrations"},{id:"vectors",label:"Vectors",value:"vectors"},{id:"3d",label:"3D Models",value:"3d"},{id:"gifs",label:"GIFs",value:"gifs"}],Hu={unsplash:"Unsplash",pixabay:"Pixabay"},Xb="53250708-d3f88461e75cb0c2c5366a181",Kn={unsplash:20,pixabay:30,flaticon:50},vc={all:{imageType:"all"},photos:{imageType:"photo"},illustrations:{imageType:"illustration"},vectors:{imageType:"vector"},"3d":{querySuffix:"3d model render",category:"computer"},gifs:{querySuffix:"animated gif loop",order:"popular"}},$b=(A=[])=>A.filter(Boolean).map(e=>{var t,r,a,n,s,o,l,d,g,B;return{id:`unsplash-${e.id}`,thumbUrl:((t=e==null?void 0:e.urls)==null?void 0:t.thumb)??((r=e==null?void 0:e.urls)==null?void 0:r.small)??((a=e==null?void 0:e.urls)==null?void 0:a.regular),previewUrl:((n=e==null?void 0:e.urls)==null?void 0:n.small)??((s=e==null?void 0:e.urls)==null?void 0:s.regular)??((o=e==null?void 0:e.urls)==null?void 0:o.full),downloadUrl:((l=e==null?void 0:e.urls)==null?void 0:l.regular)??((d=e==null?void 0:e.urls)==null?void 0:d.full)??((g=e==null?void 0:e.urls)==null?void 0:g.small),description:(e==null?void 0:e.alt_description)??(e==null?void 0:e.description)??"Unsplash photo",provider:"unsplash",providerLabel:Hu.unsplash,credit:(B=e==null?void 0:e.user)!=null&&B.name?`Photo by ${e.user.name} on Unsplash`:"Unsplash",raw:e}}),Zb=(A=[])=>A.filter(Boolean).map(e=>({id:`pixabay-${e.id}`,thumbUrl:(e==null?void 0:e.previewURL)??(e==null?void 0:e.webformatURL),previewUrl:(e==null?void 0:e.webformatURL)??(e==null?void 0:e.largeImageURL)??(e==null?void 0:e.previewURL),downloadUrl:(e==null?void 0:e.largeImageURL)??(e==null?void 0:e.webformatURL)??(e==null?void 0:e.previewURL),description:(e==null?void 0:e.tags)??"Pixabay image",provider:"pixabay",providerLabel:Hu.pixabay,credit:e!=null&&e.user?`${e.user} on Pixabay`:"Pixabay",raw:e}));function Jb({isSidebarHidden:A,onToggleSidebar:e}){const[t,r]=f.useState("layers"),[a,n]=f.useState(""),[s,o]=f.useState([]),[l,d]=f.useState(!1),[g,B]=f.useState(1),[p,C]=f.useState(!1),[y,Q]=f.useState(!0),[Y,x]=f.useState("all"),T=f.useRef(1),eA=f.useRef(""),Z=f.useRef(!1),[M,N]=f.useState([]),[E,V]=f.useState(!1),[R,nA]=f.useState(""),[rA,S]=f.useState(""),[U,H]=f.useState(""),[I,k]=f.useState(!1),D=f.useRef(null),$=f.useRef([]),iA=f.useRef(0),[xA,L]=f.useState("birthday"),[BA,MA]=f.useState("#ffffff"),[PA,EA]=f.useState(!1),[mA,zA]=f.useState("gradient"),[NA,ne]=f.useState("#ffffff"),[xe,W]=f.useState("#ffffff"),[F,_]=f.useState(["#F3E3C9","#FFFDF4"]),[fA,wA]=f.useState(["#F3E3C9","#FFFDF4"]),[aA,hA]=f.useState("linear"),[pA,UA]=f.useState(120),[YA,ZA]=f.useState(0),[Ee,KA]=f.useState("layers"),[fe,Ae]=f.useState(0),[cA,Ge]=f.useState(100),Ze=f.useRef(null),[ft,Mt]=f.useState(["#FFFFFF","#000000","#EF4444","#22C55E","#3B82F6"]),me=f.useCallback(u=>{if(typeof u!="string")return;const c=u.trim().match(/^#([0-9a-f]{6})$/i);if(!c)return;const h=`#${c[1].toUpperCase()}`;Mt(w=>{const b=w.filter(P=>P!==h);return[h,...b].slice(0,8)})},[]),ke=f.useMemo(()=>[{id:"birthday-pop",label:"Birthday Pop",keywords:["birthday","party","celebration","fun","kids"],colors:["#FDE68A","#F97316","#EA580C","#B45309","#78350F"]},{id:"corporate-cool",label:"Corporate Cool",keywords:["corporate","business","office","modern","tech"],colors:["#E0E7FF","#6366F1","#312E81","#0F172A","#8B5CF6"]},{id:"wedding-rose",label:"Wedding Rose",keywords:["wedding","romantic","rose","love","pastel","pink"],colors:["#FDECF3","#FBCFE8","#F472B6","#DB2777","#831843"]},{id:"baptism-serene",label:"Baptism Serene",keywords:["baptism","faith","calm","serene","baby"],colors:["#E0F2FE","#CFFAFE","#A5F3FC","#67E8F9","#22D3EE"]},{id:"organic-fern",label:"Organic Fern",keywords:["organic","earth","nature","green","eco"],colors:["#F0FDF4","#A7F3D0","#34D399","#10B981","#065F46"]},{id:"citrus-splash",label:"Citrus Splash",keywords:["citrus","summer","tropical","bright","sunny"],colors:["#FFF7ED","#FDE68A","#FCD34D","#F59E0B","#B45309"]},{id:"tropical-punch",label:"Tropical Punch",keywords:["tropical","beach","island","vacation","sunset"],colors:["#FFEDD5","#FDBA74","#FB7185","#F472B6","#C084FC"]},{id:"pastel-dream",label:"Pastel Dream",keywords:["pastel","soft","gentle","dreamy","baby","pink"],colors:["#F3E8FF","#FDE68A","#C7D2FE","#BFDBFE","#FBCFE8"]},{id:"luxe-midnight",label:"Luxe Midnight",keywords:["luxury","midnight","event","formal","black tie"],colors:["#0F172A","#1E293B","#475569","#64748B","#FACC15"]},{id:"neon-future",label:"Neon Future",keywords:["neon","retro","future","nightlife","electric"],colors:["#0F172A","#0EA5E9","#22D3EE","#F472B6","#F97316"]},{id:"pink-blush",label:"Pink Blush",keywords:["pink","blush","soft","romantic","pastel"],colors:["#FCE7F3","#FBCFE8","#F472B6","#DB2777","#831843"]},{id:"hot-pink",label:"Hot Pink",keywords:["pink","hot","bright","vibrant","energetic"],colors:["#FCE7F3","#F472B6","#EC4899","#BE185D","#831843"]},{id:"dusty-pink",label:"Dusty Pink",keywords:["pink","dusty","muted","soft","vintage"],colors:["#FDF2F8","#FCE7F3","#FBCFE8","#F9A8D4","#F472B6"]},{id:"neon-pink",label:"Neon Pink",keywords:["pink","neon","bright","electric","modern"],colors:["#FCE7F3","#F472B6","#EC4899","#BE185D","#9D174D"]},{id:"pink-sunset",label:"Pink Sunset",keywords:["pink","sunset","warm","evening","romantic"],colors:["#FDE2E2","#FCA5A5","#F87171","#EF4444","#DC2626"]}],[]),ht=f.useMemo(()=>[],[]);f.useMemo(()=>["#ffffff","#000000","#1f2937","#8f384b","#c97a8c","#f9c5d1"],[]);const Je=f.useMemo(()=>["linear-gradient(90deg, #FF73B9, #FFE66D)","linear-gradient(90deg, #6ECFFF, #D2B7FF)","linear-gradient(90deg, #A6F6C1, #FFB89A)","linear-gradient(90deg, #FF4FA7, #9C5CFF)","linear-gradient(90deg, #FF9C42, #FF6FAE)","linear-gradient(90deg, #4BB3FF, #A7FF57)","linear-gradient(90deg, #FF7A6E, #FFF07A)","linear-gradient(90deg, #54F3DA, #FF7EC7)","linear-gradient(90deg, #A46BFF, #6CFCFF)","linear-gradient(90deg, #FFB5E8, #BDE0FE)","linear-gradient(90deg, #0A1A3F, #1E4FFF)","linear-gradient(90deg, #232323, #C8C8C8)","linear-gradient(90deg, #0F6D72, #7C9AAF)","linear-gradient(90deg, #002B55, #6EB8FF)","linear-gradient(90deg, #000000, #5A5A5A)","linear-gradient(90deg, #054B41, #7CE7E0)","linear-gradient(90deg, #485767, #5C8BC6)","linear-gradient(90deg, #1B1F5F, #ADB5C1)","linear-gradient(90deg, #0C112B, #64748B)","linear-gradient(90deg, #4C5C68, #FFFFFF)","linear-gradient(90deg, #A3D8FF, #FFFFFF)","linear-gradient(90deg, #F9C6D3, #FFF8E7)","linear-gradient(90deg, #C6F7DF, #FFFFFF)","linear-gradient(90deg, #D8C9FF, #CAE9FF)","linear-gradient(90deg, #F3E3C9, #FFFDF4)","linear-gradient(90deg, #FFEEA9, #FFD6C5)","linear-gradient(90deg, #C8FAF4, #B3E5FF)","linear-gradient(90deg, #E5D4FF, #FFFFFF)","linear-gradient(90deg, #C6E8FF, #C9FDE6)","linear-gradient(90deg, #FFD5E3, #EBD6FF)","linear-gradient(90deg, #F9E7CF, #FFFDF4)","linear-gradient(90deg, #E8B7A5, #FAD6D6)","linear-gradient(90deg, #EAC56C, #FFFFFF)","linear-gradient(90deg, #FFF1DD, #FFD7E5)","linear-gradient(90deg, #8CAAC8, #DDE3EA)","linear-gradient(90deg, #C9A7B8, #F5CCD6)","linear-gradient(90deg, #FFFFFF, #F6E9C7)","linear-gradient(90deg, #FFFBE7, #E9DCC3)","linear-gradient(90deg, #FFD9C4, #F8CDB8)","linear-gradient(90deg, #D5DCE3, #FFFFFF)"],[]),Br=f.useMemo(()=>["#FFFFFF","#000000","#F8F9FA","#E9ECEF","#DEE2E6","#CED4DA","#ADB5BD","#6C757D","#495057","#343A40","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2","#AED6F1","#A3E4D7","#F9E79F","#D2B4DE","#A9DFBF","#FAD7A0","#ABEBC6","#F5B7B1","#AED6F1","#D7BDE2","#A9CCE3","#A2D9CE","#F7DC6F","#C39BD3","#7DCEA0","#F8C471","#58D68D","#EC7063","#5DADE2","#AF7AC5"],[]),Gt=f.useMemo(()=>["Celebrate this moment with usyour presence makes it complete.","Join us as we turn today into a memory we'll treasure forever.","A special day becomes sweeter when shared with the people we love.","Let's gather, celebrate, and create moments that last a lifetime.","Because every joy is greater when sharedcome celebrate with us.","Together is the best place to bejoin us on our special day.","Your presence is our greatest giftcome and celebrate this milestone.","A day of love, joy, and gratitudemade brighter with you there.","Celebrate with us as we mark a new chapter filled with hope and happiness.","You are warmly invited to witness a moment we will cherish forever."],[]),Me=f.useMemo(()=>[{id:"linear",label:"Linear",description:"Directional blend",icon:"fa-solid fa-arrows-left-right",supportsAngle:!0,generator:(u,c=135)=>`linear-gradient(${c}deg, ${u.join(", ")})`},{id:"radial",label:"Radial",description:"Soft center glow",icon:"fa-solid fa-circle-dot",supportsAngle:!1,generator:u=>`radial-gradient(circle at center, ${u.join(", ")})`},{id:"conic",label:"Angle",description:"Sweeping burst",icon:"fa-solid fa-rotate",supportsAngle:!0,generator:(u,c=0)=>`conic-gradient(from ${c}deg, ${u.join(", ")})`}],[]),Ve=f.useCallback(u=>{if(typeof u!="string")return"#ffffff";const c=u.trim();return c.startsWith("linear-gradient")?"#ffffff":/^#([0-9a-f]{3,4})$/i.test(c)?`#${c.slice(1).split("").map(b=>b+b).join("").slice(0,6)}`:/^#([0-9a-f]{6})([0-9a-f]{2})?$/i.test(c)?c.slice(0,7):"#ffffff"},[]),GA=f.useCallback((u,c,h=120,w=1)=>{const b=(Array.isArray(c)&&c.length?c:["#f472b6","#9333ea"]).map(z=>{const K=Ve(z),uA=Pb(w,0,1);return uA<1?`rgba(${ps(K)}, ${uA})`:K}),P=Me[0];return(Me.find(z=>z.id===u)??P).generator(b,h)},[Me,Ve]),ee=f.useMemo(()=>GA(aA,F,pA,cA/100),[cA,GA,pA,F,aA]),ce=f.useMemo(()=>Me.find(u=>u.id===aA)??Me[0],[Me,aA]);f.useMemo(()=>`linear-gradient(0deg, rgba(0, 0, 0, 1), transparent), linear-gradient(90deg, rgba(${ps(NA)}, ${cA/100}), ${NA})`,[NA,cA]);const yA=5,Te=f.useCallback(u=>{const c=u==null?void 0:u.trim().toLowerCase();return c?ke.filter(h=>{var P;const w=h.label.toLowerCase().includes(c),b=(P=h.keywords)==null?void 0:P.some(O=>O.includes(c));return w||b}).map(h=>({id:`curated-${h.id}`,label:h.label,colors:[...h.colors],source:"curated"})):[]},[ke]),Ne=f.useCallback(u=>{$.current=u?Te(u):[],iA.current=0},[Te]),Bt=f.useCallback(u=>{var w;if(!((w=$.current)!=null&&w.length))return[];const c=iA.current,h=$.current.slice(c,c+u);return iA.current=c+h.length,h},[]);f.useEffect(()=>{const u=D.current||document.querySelector(".builder-sidebar__palette-scroll");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]);const Ie=f.useCallback(()=>{if(!(ke!=null&&ke.length))return null;const u=Math.floor(Math.random()*ke.length),c=ke[u];return c?{id:`curated-${c.id}-${Math.random().toString(36).slice(2,7)}`,label:c.label,colors:[...c.colors],source:"curated"}:null},[ke]),dA=f.useCallback(async u=>{const c=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"default"})});if(!c.ok)throw new Error(`Colormind responded with ${c.status}`);const h=await c.json();if(!(h!=null&&h.result)||!Array.isArray(h.result))throw new Error("Colormind response missing result array");return h.result.map(w=>{if(!Array.isArray(w)||w.length!==3)return"#000000";const[b,P,O]=w.map(z=>Math.max(0,Math.min(255,Number(z)||0)));return`rgb(${b}, ${P}, ${O})`})},[]),bA=f.useCallback(async({normalizedQuery:u,startIndex:c=0})=>{const h=["https://colormind.io/api/","https://corsproxy.io/?https://colormind.io/api/"],w=[];let b=!1;const P=Bt(yA);for(P.length&&w.push(...P);w.length<yA;){let O=null;for(let K=0;K<h.length;K++)try{if(O=await dA(h[K]),O&&O.length)break}catch(uA){K===h.length-1&&console.warn("Colormind endpoint failed",uA)}if(!O||!O.length){b=!0;const K=Ie();w.push({id:(K==null?void 0:K.id)??`fallback-${c+w.length}`,label:(K==null?void 0:K.label)??"Designer Fallback",colors:(K==null?void 0:K.colors)??["#e2e8f0","#cbd5f5","#a5b4fc","#818cf8","#4c1d95"],source:"curated"});continue}const z=c+w.length;w.push({id:`colormind-${Date.now()}-${z}-${Math.random().toString(36).slice(2,6)}`,label:u?`AI Blend ${z+1}`:`Colormind ${z+1}`,colors:O,source:"colormind"})}if(!w.length){const O=Ie();w.push({id:(O==null?void 0:O.id)??`fallback-${Math.random().toString(36).slice(2,6)}`,label:(O==null?void 0:O.label)??"Designer Fallback",colors:(O==null?void 0:O.colors)??["#e2e8f0","#cbd5f5","#a5b4fc","#818cf8","#4c1d95"],source:"curated"})}return{paletteSets:w,usedFallback:b}},[dA,Ie,Bt]),[FA,TA]=f.useState(""),[ie,De]=f.useState([]),[he,at]=f.useState(!1),[yt,We]=f.useState(1),[XA,qe]=f.useState(!1),[Be,Re]=f.useState(!0),we=f.useRef(1),Ft=f.useRef(""),pt=f.useRef(!1),[G,se]=f.useState([]),[be,ca]=f.useState(""),[Lr,pr]=f.useState(!1),[da,mr]=f.useState(1),[At,rn]=f.useState(!1),[mt,Vt]=f.useState(!0),Wt=f.useRef(1),an=f.useRef(""),ua=f.useRef(!1),[No,Do]=f.useState(""),[zt,kr]=f.useState([]),[ga,Mr]=f.useState(!1),[vi,Tr]=f.useState(1),[ze,fa]=f.useState(!1),[nt,vt]=f.useState(!0),wr=f.useRef(1),m=f.useRef(""),v=f.useRef(!1),j=12,[q,gA]=f.useState([]),[HA,LA]=f.useState(1),[OA,Qt]=f.useState(!1),[Ce,Yt]=f.useState(!0),Xt=f.useRef(null),ha=f.useRef(null),it=[{id:"combo-aurora-atelier",label:"Aurora Atelier",description:"Playfair Display headline with Source Sans Pro narrative subcopy.",align:"center",layers:[{role:"heading",content:"Aurora Atelier",family:"Playfair Display",fallback:"serif",fontSize:44,fontWeight:"600",transform:"uppercase",letterSpacing:2,offsetY:0},{role:"subheading",content:"Visual storytelling & editorial craft",family:"Source Sans Pro",fallback:"sans-serif",fontSize:18,fontWeight:"400",letterSpacing:.6,offsetY:58}]},{id:"combo-lumina-forge",label:"Lumina Forge",description:"DM Serif Display hero matched with crisp Inter labels.",align:"left",layers:[{role:"heading",content:"Lumina Forge",family:"DM Serif Display",fallback:"serif",fontSize:42,fontWeight:"600",offsetY:0},{role:"subheading",content:"Product strategy & venture labs",family:"Inter",fallback:"sans-serif",fontSize:17,fontWeight:"500",letterSpacing:.5,offsetY:56}]},{id:"combo-saffron-harbor",label:"Saffron Harbor",description:"Cormorant Garamond headline with welcoming Nunito Sans body.",align:"center",layers:[{role:"heading",content:"Saffron Harbor",family:"Cormorant Garamond",fallback:"serif",fontSize:48,fontWeight:"500",letterSpacing:1,offsetY:0},{role:"subheading",content:"Artisanal markets & seaside residencies",family:"Nunito Sans",fallback:"sans-serif",fontSize:19,fontWeight:"400",offsetY:64}]},{id:"combo-meridian-labs",label:"Meridian Labs",description:"Libre Baskerville deck titles with Manrope research notes.",align:"left",layers:[{role:"heading",content:"Meridian Labs",family:"Libre Baskerville",fallback:"serif",fontSize:40,fontWeight:"700",offsetY:0},{role:"subheading",content:"Insight decks  Research memos",family:"Manrope",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-celestial-grid",label:"Celestial Grid",description:"Cinzel monograms paired with Space Grotesk captions.",align:"center",layers:[{role:"heading",content:"Celestial Grid",family:"Cinzel",fallback:"serif",fontSize:46,fontWeight:"600",letterSpacing:1.2,offsetY:0},{role:"subheading",content:"Futurist observatory narratives",family:"Space Grotesk",fallback:"sans-serif",fontSize:17,fontWeight:"500",offsetY:60}]},{id:"combo-radiant-market",label:"Radiant Market",description:"Abril Fatface display balanced by Work Sans merchandising notes.",align:"center",layers:[{role:"heading",content:"Radiant Market",family:"Abril Fatface",fallback:"serif",fontSize:50,fontWeight:"600",offsetY:0},{role:"subheading",content:"Seasonal florals & gifting studio",family:"Work Sans",fallback:"sans-serif",fontSize:18,fontWeight:"400",offsetY:66}]},{id:"combo-atelier-north",label:"Atelier North",description:"Lora type paired with crisp Poppins service line.",align:"left",layers:[{role:"heading",content:"Atelier North",family:"Lora",fallback:"serif",fontSize:42,fontWeight:"600",offsetY:0},{role:"subheading",content:"Boutique identity consultancy",family:"Poppins",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60}]},{id:"combo-solstice-audio",label:"Solstice Audio",description:"Volkhov warmth with Mulish modernity.",align:"center",layers:[{role:"heading",content:"Solstice Audio",family:"Volkhov",fallback:"serif",fontSize:44,fontWeight:"700",offsetY:0},{role:"subheading",content:"Soundscapes for modern retreats",family:"Mulish",fallback:"sans-serif",fontSize:17,fontWeight:"500",letterSpacing:.4,offsetY:62}]},{id:"combo-harvest-lane",label:"Harvest Lane",description:"Cardo editorial serif with Questrial market notes.",align:"left",layers:[{role:"heading",content:"Harvest Lane",family:"Cardo",fallback:"serif",fontSize:43,fontWeight:"600",offsetY:0},{role:"subheading",content:"Slow food residencies & journals",family:"Questrial",fallback:"sans-serif",fontSize:18,fontWeight:"400",offsetY:60}]},{id:"combo-paragon-museum",label:"Paragon Museum",description:"Marcellus title with IBM Plex Sans itinerary details.",align:"center",layers:[{role:"heading",content:"Paragon Museum",family:"Marcellus",fallback:"serif",fontSize:45,fontWeight:"600",letterSpacing:1,offsetY:0},{role:"subheading",content:"Annual symposium schedule",family:"IBM Plex Sans",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60},{role:"detail",content:"Tickets  Archives  Tours",family:"IBM Plex Sans",fallback:"sans-serif",fontSize:14,fontWeight:"400",letterSpacing:1,offsetY:110}]},{id:"combo-velvet-horizon",label:"Velvet Horizon",description:"Rosarivo curves with airy Raleway notes.",align:"center",layers:[{role:"heading",content:"Velvet Horizon",family:"Rosarivo",fallback:"serif",fontSize:46,fontWeight:"600",offsetY:0},{role:"subheading",content:"Sunset editorials & travel essays",family:"Raleway",fallback:"sans-serif",fontSize:17,fontWeight:"500",offsetY:62}]},{id:"combo-meteora-studio",label:"Meteora Studio",description:"Prata elegance with grounded Figtree descriptors.",align:"left",layers:[{role:"heading",content:"Meteora Studio",family:"Prata",fallback:"serif",fontSize:44,fontWeight:"600",letterSpacing:1.2,offsetY:0},{role:"subheading",content:"Speculative interiors & lighting labs",family:"Figtree",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60}]},{id:"combo-ember-studio",label:"Ember Studio",description:"Spectral prose headlines with Karla annotations.",align:"left",layers:[{role:"heading",content:"Ember Studio",family:"Spectral",fallback:"serif",fontSize:42,fontWeight:"600",offsetY:0},{role:"subheading",content:"Culinary films & sonic diaries",family:"Karla",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60}]},{id:"combo-glasshouse",label:"Glasshouse",description:"Gloock statement paired with Montserrat details.",align:"center",layers:[{role:"heading",content:"Glasshouse",family:"Gloock",fallback:"serif",fontSize:48,fontWeight:"600",offsetY:0},{role:"subheading",content:"Greenhouse culture & creative labs",family:"Montserrat",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:64}]},{id:"combo-nova-lounge",label:"Nova Lounge",description:"Noto Serif Display paired with Urbanist lounge notes.",align:"center",layers:[{role:"heading",content:"Nova Lounge",family:"Noto Serif Display",fallback:"serif",fontSize:46,fontWeight:"600",letterSpacing:1,offsetY:0},{role:"subheading",content:"Midnight tastings & listening rooms",family:"Urbanist",fallback:"sans-serif",fontSize:18,fontWeight:"400",offsetY:62}]},{id:"combo-terrace-agency",label:"Terrace Agency",description:"Quattrocento headlines with DM Sans service info.",align:"left",layers:[{role:"heading",content:"Terrace Agency",family:"Quattrocento",fallback:"serif",fontSize:41,fontWeight:"700",offsetY:0},{role:"subheading",content:"Landscape narratives & brand sites",family:"DM Sans",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-lucid-canvas",label:"Lucid Canvas",description:"Ysabeau contrasts with approachable Cabin body.",align:"center",layers:[{role:"heading",content:"Lucid Canvas",family:"Ysabeau",fallback:"serif",fontSize:45,fontWeight:"600",offsetY:0},{role:"subheading",content:"Immersive art fair programming",family:"Cabin",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:62}]},{id:"combo-citrine-summit",label:"Citrine Summit",description:"Crimson Pro titles with Open Sans agenda text.",align:"center",layers:[{role:"heading",content:"Citrine Summit",family:"Crimson Pro",fallback:"serif",fontSize:43,fontWeight:"600",offsetY:0},{role:"subheading",content:"Sustainability briefings & labs",family:"Open Sans",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60}]},{id:"combo-frame-factory",label:"Frame Factory",description:"Fraunces curves with minimalist Outfit copy.",align:"left",layers:[{role:"heading",content:"Frame Factory",family:"Fraunces",fallback:"serif",fontSize:42,fontWeight:"600",offsetY:0},{role:"subheading",content:"Gallery systems & product drops",family:"Outfit",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-indigo-manor",label:"Indigo Manor",description:"EB Garamond editorial voice with Hind Madurai support.",align:"center",layers:[{role:"heading",content:"Indigo Manor",family:"EB Garamond",fallback:"serif",fontSize:45,fontWeight:"600",offsetY:0},{role:"subheading",content:"Cultural residences & salons",family:"Hind Madurai",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:62}]},{id:"combo-marble-coast",label:"Marble Coast",description:"Tenor Sans structure with Gentium Plus narrative.",align:"center",layers:[{role:"heading",content:"Marble Coast",family:"Tenor Sans",fallback:"sans-serif",fontSize:42,fontWeight:"600",letterSpacing:.8,offsetY:0},{role:"subheading",content:"Coastal architecture dossiers",family:"Gentium Plus",fallback:"serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-orchid-bureau",label:"Orchid Bureau",description:"Newsreader gravitas with Heebo clarity.",align:"left",layers:[{role:"heading",content:"Orchid Bureau",family:"Newsreader",fallback:"serif",fontSize:43,fontWeight:"600",offsetY:0},{role:"subheading",content:"Trend reports  Field interviews",family:"Heebo",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-lux-atelier",label:"Lux Atelier",description:"Baskervville elegance with utilitarian Lato captions.",align:"center",layers:[{role:"heading",content:"Lux Atelier",family:"Baskervville",fallback:"serif",fontSize:44,fontWeight:"600",letterSpacing:1,offsetY:0},{role:"subheading",content:"Made-to-measure wardrobe plans",family:"Lato",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:60}]},{id:"combo-cobalt-grove",label:"Cobalt Grove",description:"Zilla Slab hero text with Rubik supporting copy.",align:"left",layers:[{role:"heading",content:"Cobalt Grove",family:"Zilla Slab",fallback:"serif",fontSize:42,fontWeight:"700",offsetY:0},{role:"subheading",content:"Botanical research & residency notes",family:"Rubik",fallback:"sans-serif",fontSize:18,fontWeight:"500",offsetY:58}]},{id:"combo-lobster-spark-joy",label:"Lobster",description:'Lobster script font with "Spark Joy" text.',align:"center",layers:[{role:"heading",content:"Spark Joy",family:"Lobster",fallback:"cursive",fontSize:48,fontWeight:"400",offsetY:0}]},{id:"combo-fredoka-one-party-mode",label:"Fredoka One",description:'Fredoka One rounded font with "Party Mode" text.',align:"center",layers:[{role:"heading",content:"Party Mode",family:"Fredoka One",fallback:"sans-serif",fontSize:44,fontWeight:"400",offsetY:0}]},{id:"combo-pacifico-sweet-vibes",label:"Pacifico",description:'Pacifico brush script with "Sweet Vibes" text.',align:"center",layers:[{role:"heading",content:"Sweet Vibes",family:"Pacifico",fallback:"cursive",fontSize:46,fontWeight:"400",offsetY:0}]},{id:"combo-baloo-two-happy-day",label:"Baloo 2",description:'Baloo 2 playful font with "Happy Day" text.',align:"center",layers:[{role:"heading",content:"Happy Day",family:"Baloo 2",fallback:"cursive",fontSize:45,fontWeight:"600",offsetY:0}]},{id:"combo-poppins-bold-fun-time",label:"Poppins Bold",description:'Poppins Bold with "Fun Time" text.',align:"center",layers:[{role:"heading",content:"Fun Time",family:"Poppins",fallback:"sans-serif",fontSize:42,fontWeight:"700",offsetY:0}]},{id:"combo-anton-big-wish",label:"Anton",description:'Anton condensed font with "Big Wish" text.',align:"center",layers:[{role:"heading",content:"Big Wish",family:"Anton",fallback:"sans-serif",fontSize:44,fontWeight:"400",offsetY:0}]},{id:"combo-gochi-hand-playful-mood",label:"Gochi Hand",description:'Gochi Hand handwritten font with "Playful Mood" text.',align:"center",layers:[{role:"heading",content:"Playful Mood",family:"Gochi Hand",fallback:"cursive",fontSize:42,fontWeight:"400",offsetY:0}]},{id:"combo-bangers-color-pop",label:"Bangers",description:'Bangers comic font with "Color Pop" text.',align:"center",layers:[{role:"heading",content:"Color Pop",family:"Bangers",fallback:"cursive",fontSize:46,fontWeight:"400",offsetY:0}]},{id:"combo-chewy-bright-fun",label:"Chewy",description:'Chewy rounded font with "Bright Fun" text.',align:"center",layers:[{role:"heading",content:"Bright Fun",family:"Chewy",fallback:"cursive",fontSize:44,fontWeight:"400",offsetY:0}]},{id:"combo-rubik-extrabold-joy-burst",label:"Rubik ExtraBold",description:'Rubik ExtraBold with "Joy Burst" text.',align:"center",layers:[{role:"heading",content:"Joy Burst",family:"Rubik",fallback:"sans-serif",fontSize:43,fontWeight:"800",offsetY:0}]},{id:"combo-montserrat-prime-edge",label:"Montserrat SemiBold",description:'Montserrat SemiBold with "Prime Edge" text.',align:"center",layers:[{role:"heading",content:"Prime Edge",family:"Montserrat",fallback:"sans-serif",fontSize:42,fontWeight:"600",offsetY:0}]},{id:"combo-helvetica-core-vision",label:"Helvetica Neue",description:'Helvetica Neue with "Core Vision" text.',align:"center",layers:[{role:"heading",content:"Core Vision",family:"Helvetica Neue",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-lato-solid-mark",label:"Lato Bold",description:'Lato Bold with "Solid Mark" text.',align:"center",layers:[{role:"heading",content:"Solid Mark",family:"Lato",fallback:"sans-serif",fontSize:41,fontWeight:"700",offsetY:0}]},{id:"combo-source-sans-blue-line",label:"Source Sans Pro",description:'Source Sans Pro with "Blue Line" text.',align:"center",layers:[{role:"heading",content:"Blue Line",family:"Source Sans Pro",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-poppins-medium-clean-form",label:"Poppins Medium",description:'Poppins Medium with "Clean Form" text.',align:"center",layers:[{role:"heading",content:"Clean Form",family:"Poppins",fallback:"sans-serif",fontSize:40,fontWeight:"500",offsetY:0}]},{id:"combo-roboto-condensed-sharp-fit",label:"Roboto Condensed",description:'Roboto Condensed with "Sharp Fit" text.',align:"center",layers:[{role:"heading",content:"Sharp Fit",family:"Roboto Condensed",fallback:"sans-serif",fontSize:41,fontWeight:"600",offsetY:0}]},{id:"combo-open-sans-pure-focus",label:"Open Sans",description:'Open Sans with "Pure Focus" text.',align:"center",layers:[{role:"heading",content:"Pure Focus",family:"Open Sans",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-oswald-bold-scope",label:"Oswald",description:'Oswald with "Bold Scope" text.',align:"center",layers:[{role:"heading",content:"Bold Scope",family:"Oswald",fallback:"sans-serif",fontSize:43,fontWeight:"700",offsetY:0}]},{id:"combo-nunito-sans-next-phase",label:"Nunito Sans",description:'Nunito Sans with "Next Phase" text.',align:"center",layers:[{role:"heading",content:"Next Phase",family:"Nunito Sans",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-inter-true-value",label:"Inter SemiBold",description:'Inter SemiBold with "True Value" text.',align:"center",layers:[{role:"heading",content:"True Value",family:"Inter",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-quicksand-pure-grace",label:"Quicksand Light",description:'Quicksand Light with "Pure Grace" text.',align:"center",layers:[{role:"heading",content:"Pure Grace",family:"Quicksand",fallback:"sans-serif",fontSize:39,fontWeight:"300",offsetY:0}]},{id:"combo-great-vibes-little-bless",label:"Great Vibes",description:'Great Vibes script with "Little Bless" text.',align:"center",layers:[{role:"heading",content:"Little Bless",family:"Great Vibes",fallback:"cursive",fontSize:48,fontWeight:"400",offsetY:0}]},{id:"combo-parisienne-soft-light",label:"Parisienne",description:'Parisienne script with "Soft Light" text.',align:"center",layers:[{role:"heading",content:"Soft Light",family:"Parisienne",fallback:"cursive",fontSize:47,fontWeight:"400",offsetY:0}]},{id:"combo-nunito-gentle-love",label:"Nunito Light",description:'Nunito Light with "Gentle Love" text.',align:"center",layers:[{role:"heading",content:"Gentle Love",family:"Nunito",fallback:"sans-serif",fontSize:39,fontWeight:"300",offsetY:0}]},{id:"combo-cormorant-garamond-sacred-hope",label:"Cormorant Garamond",description:'Cormorant Garamond with "Sacred Hope" text.',align:"center",layers:[{role:"heading",content:"Sacred Hope",family:"Cormorant Garamond",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-playfair-display-new-faith",label:"Playfair Display",description:'Playfair Display with "New Faith" text.',align:"center",layers:[{role:"heading",content:"New Faith",family:"Playfair Display",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-allura-sweet-peace",label:"Allura",description:'Allura script with "Sweet Peace" text.',align:"center",layers:[{role:"heading",content:"Sweet Peace",family:"Allura",fallback:"cursive",fontSize:47,fontWeight:"400",offsetY:0}]},{id:"combo-dm-sans-calm-flow",label:"DM Sans",description:'DM Sans with "Calm Flow" text.',align:"center",layers:[{role:"heading",content:"Calm Flow",family:"DM Sans",fallback:"sans-serif",fontSize:40,fontWeight:"500",offsetY:0}]},{id:"combo-satisfy-angel-glow",label:"Satisfy",description:'Satisfy script with "Angel Glow" text.',align:"center",layers:[{role:"heading",content:"Angel Glow",family:"Satisfy",fallback:"cursive",fontSize:47,fontWeight:"400",offsetY:0}]},{id:"combo-karla-tender-joy",label:"Karla",description:'Karla with "Tender Joy" text.',align:"center",layers:[{role:"heading",content:"Tender Joy",family:"Karla",fallback:"sans-serif",fontSize:40,fontWeight:"600",offsetY:0}]},{id:"combo-cinzel-eternal-love",label:"Cinzel",description:'Cinzel with "Eternal Love" text.',align:"center",layers:[{role:"heading",content:"Eternal Love",family:"Cinzel",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-cormorant-infant-golden-vow",label:"Cormorant Infant",description:'Cormorant Infant with "Golden Vow" text.',align:"center",layers:[{role:"heading",content:"Golden Vow",family:"Cormorant Infant",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-playfair-display-sweet-promise",label:"Playfair Display Italic",description:'Playfair Display italic styling with "Sweet Promise" text.',align:"center",layers:[{role:"heading",content:"Sweet Promise",family:"Playfair Display",fallback:"serif",fontSize:43,fontWeight:"500",offsetY:0}]},{id:"combo-great-vibes-forever-us",label:"Great Vibes Duo",description:'Great Vibes script with "Forever Us" text.',align:"center",layers:[{role:"heading",content:"Forever Us",family:"Great Vibes",fallback:"cursive",fontSize:48,fontWeight:"400",offsetY:0}]},{id:"combo-alex-brush-soft-romance",label:"Alex Brush",description:'Alex Brush script with "Soft Romance" text.',align:"center",layers:[{role:"heading",content:"Soft Romance",family:"Alex Brush",fallback:"cursive",fontSize:47,fontWeight:"400",offsetY:0}]},{id:"combo-montserrat-light-true-bond",label:"Montserrat Light",description:'Montserrat Light with "True Bond" text.',align:"center",layers:[{role:"heading",content:"True Bond",family:"Montserrat",fallback:"sans-serif",fontSize:40,fontWeight:"300",offsetY:0}]},{id:"combo-bodoni-moda-classic-heart",label:"Bodoni Moda",description:'Bodoni Moda with "Classic Heart" text.',align:"center",layers:[{role:"heading",content:"Classic Heart",family:"Bodoni Moda",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-parisienne-pure-bliss",label:"Parisienne Delight",description:'Parisienne script with "Pure Bliss" text.',align:"center",layers:[{role:"heading",content:"Pure Bliss",family:"Parisienne",fallback:"cursive",fontSize:47,fontWeight:"400",offsetY:0}]},{id:"combo-cormorant-upright-duo-dream",label:"Cormorant Upright",description:'Cormorant Upright with "Duo Dream" text.',align:"center",layers:[{role:"heading",content:"Duo Dream",family:"Cormorant Upright",fallback:"serif",fontSize:44,fontWeight:"600",offsetY:0}]},{id:"combo-libre-baskerville-ever-after",label:"Libre Baskerville Italic",description:'Libre Baskerville italic styling with "Ever After" text.',align:"center",layers:[{role:"heading",content:"Ever After",family:"Libre Baskerville",fallback:"serif",fontSize:43,fontWeight:"500",offsetY:0}]},{id:"combo-bright-joy",label:"Bright Joy",description:"Comic Neue Bold pops with cheerful energy.",align:"center",layers:[{role:"heading",content:"Bright Joy",family:"Comic Neue",fallback:"sans-serif",fontSize:56,fontWeight:"700",letterSpacing:1.2,offsetY:0}]},{id:"combo-fun-burst",label:"Fun Burst",description:"Amatic SC Bold delivers tall, joyful headlines.",align:"center",layers:[{role:"heading",content:"Fun Burst",family:"Amatic SC",fallback:"cursive",fontSize:60,fontWeight:"700",letterSpacing:2,offsetY:0}]},{id:"combo-party-pop",label:"Party Pop",description:"Luckiest Guy makes party invites feel loud and bold.",align:"center",layers:[{role:"heading",content:"Party Pop",family:"Luckiest Guy",fallback:"sans-serif",fontSize:54,fontWeight:"700",letterSpacing:.8,offsetY:0}]},{id:"combo-happy-glow",label:"Happy Glow",description:"Kalam Bold handwriting with warm friendly charm.",align:"center",layers:[{role:"heading",content:"Happy Glow",family:"Kalam",fallback:"cursive",fontSize:52,fontWeight:"700",letterSpacing:.6,offsetY:0}]},{id:"combo-sugar-fun",label:"Sugar Fun",description:"Bubblegum Sans delivers soft rounded sweetness.",align:"center",layers:[{role:"heading",content:"Sugar Fun",family:"Bubblegum Sans",fallback:"cursive",fontSize:50,fontWeight:"400",letterSpacing:.6,offsetY:0}]},{id:"combo-big-cheer",label:"Big Cheer",description:"Shrikhand brings oversized celebratory impact.",align:"center",layers:[{role:"heading",content:"Big Cheer",family:"Shrikhand",fallback:"cursive",fontSize:58,fontWeight:"400",letterSpacing:1,offsetY:0}]},{id:"combo-color-wave",label:"Color Wave",description:"Jua keeps bold all-caps lettering friendly and bright.",align:"center",layers:[{role:"heading",content:"Color Wave",family:"Jua",fallback:"sans-serif",fontSize:52,fontWeight:"400",letterSpacing:1,offsetY:0}]},{id:"combo-cute-spark",label:"Cute Spark",description:"DynaPuff bursts with bubbly motion and bounce.",align:"center",layers:[{role:"heading",content:"Cute Spark",family:"DynaPuff",fallback:"sans-serif",fontSize:54,fontWeight:"700",letterSpacing:1,offsetY:0}]},{id:"combo-fun-scribble",label:"Fun Scribble",description:"Cabin Sketch channels playful pencil energy.",align:"center",layers:[{role:"heading",content:"Fun Scribble",family:"Cabin Sketch",fallback:"cursive",fontSize:56,fontWeight:"700",letterSpacing:1.4,offsetY:0}]},{id:"combo-mega-fun",label:"Mega Fun",description:"Titan One makes every headline feel like a billboard.",align:"center",layers:[{role:"heading",content:"Mega Fun",family:"Titan One",fallback:"cursive",fontSize:55,fontWeight:"400",letterSpacing:1,offsetY:0}]},{id:"combo-core-line",label:"Core Line",description:"Futura PT brings geometric corporate clarity.",align:"center",layers:[{role:"heading",content:"Core Line",family:"Futura PT",fallback:"sans-serif",fontSize:46,fontWeight:"600",letterSpacing:1,offsetY:0}]},{id:"combo-prime-grid",label:"Prime Grid",description:"Avenir Next keeps tech-forward layouts refined.",align:"center",layers:[{role:"heading",content:"Prime Grid",family:"Avenir Next",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.8,offsetY:0}]},{id:"combo-clean-slate",label:"Clean Slate",description:"Work Sans Medium introduces crisp editorial tone.",align:"center",layers:[{role:"heading",content:"Clean Slate",family:"Work Sans",fallback:"sans-serif",fontSize:44,fontWeight:"500",letterSpacing:.6,offsetY:0}]},{id:"combo-lead-focus",label:"Lead Focus",description:"Proxima Nova stays neutral for product decks.",align:"center",layers:[{role:"heading",content:"Lead Focus",family:"Proxima Nova",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.6,offsetY:0}]},{id:"combo-firm-base",label:"Firm Base",description:"IBM Plex Sans looks confident and precise.",align:"center",layers:[{role:"heading",content:"Firm Base",family:"IBM Plex Sans",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.6,offsetY:0}]},{id:"combo-true-form",label:"True Form",description:"Barlow Semi Condensed adds agile modern structure.",align:"center",layers:[{role:"heading",content:"True Form",family:"Barlow Semi Condensed",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.6,offsetY:0}]},{id:"combo-sharp-flow",label:"Sharp Flow",description:"Sora balances futuristic branding and clarity.",align:"center",layers:[{role:"heading",content:"Sharp Flow",family:"Sora",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.8,offsetY:0}]},{id:"combo-next-line",label:"Next Line",description:"Metropolis delivers clean presentation headers.",align:"center",layers:[{role:"heading",content:"Next Line",family:"Metropolis",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.8,offsetY:0}]},{id:"combo-clear-frame",label:"Clear Frame",description:"Urbanist keeps product UI notes legible and fresh.",align:"center",layers:[{role:"heading",content:"Clear Frame",family:"Urbanist",fallback:"sans-serif",fontSize:44,fontWeight:"600",letterSpacing:.6,offsetY:0}]},{id:"default-user",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",description:"User",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"}];f.useEffect(()=>{if(q.length>0)return;const u=[...it];gA(u),LA(u.length>0?Math.ceil(u.length/j)+1:1),Yt(!1)},[it,j,q.length]);const $t=f.useCallback(u=>{const c=u??HA;if(!(OA||!Ce)){Qt(!0);try{const h=(c-1)*j,w=it.slice(h,h+j);if(w.length===0){Yt(!1);return}gA(P=>{const O=new Set(P.map(K=>K.id)),z=[...P];return w.forEach(K=>{O.has(K.id)||z.push(K)}),z});const b=h+j<it.length;Yt(b),LA(c+1)}finally{Qt(!1)}}},[Ce,OA,HA,j]);f.useEffect(()=>{t==="text"&&q.length===0&&$t(1)},[t,q.length,$t]),f.useEffect(()=>{const u=Xt.current||document.querySelector(".text-panel__styled-presets"),c=u==null?void 0:u.querySelector(".styled-loading-indicator");if(!u||!c||!Ce)return;const h=new IntersectionObserver(w=>{const[b]=w;b.isIntersecting&&!OA&&Ce&&$t(HA)},{root:u,rootMargin:"50px",threshold:.1});return h.observe(c),ha.current=h,()=>{var w;try{(w=ha.current)==null||w.disconnect()}catch{}}},[HA,OA,Ce,$t]);const[Ro,oy]=f.useState(""),[Ba,Qi]=f.useState(()=>Su()),[Nu,Ko]=f.useState(!1),[ly,nn]=f.useState(1),[br,Po]=f.useState(!1),[Zt,Nr]=f.useState(!1),Dr=f.useRef(1),Oo=f.useRef(""),sn=f.useRef(!1),jo=f.useRef(new Set),{state:JA,dispatch:de}=kt(),Go=f.useRef(null),Vo=f.useRef(null),Du=f.useRef(null),X=f.useMemo(()=>{var u,c;return((u=JA.pages)==null?void 0:u.find(h=>h.id===JA.activePageId))??((c=JA.pages)==null?void 0:c[0])},[JA.pages,JA.activePageId]),Ut=f.useMemo(()=>Kb(X==null?void 0:X.safeZone),[X==null?void 0:X.safeZone]),Wo="Unsplash + Pixabay";f.useMemo(()=>ht.find(u=>u.id===xA)??ht[0],[ht,xA]),f.useEffect(()=>{MA(Ve((X==null?void 0:X.background)??"#ffffff"))},[X==null?void 0:X.background,Ve]),f.useEffect(()=>{if(typeof(X==null?void 0:X.background)!="string")return;const u=X.background.match(/gradient\([^,]+,\s*([^,]+),\s*([^)]+)\)/i);if(u){const c=[u[1].trim(),u[2].trim()].map(h=>h.toUpperCase());_(c)}},[X==null?void 0:X.background]),f.useEffect(()=>{ne(BA)},[BA]),f.useEffect(()=>{W(NA.toUpperCase())},[NA]),f.useEffect(()=>{wA(F.map(u=>{if(typeof u!="string")return"#FFFFFF";const c=u.trim();return(c.startsWith("#")?c:`#${c}`).substring(0,7).toUpperCase()}))},[F]),f.useEffect(()=>{const{h:u}=Ob(NA);Ae(u)},[NA]),f.useEffect(()=>{if(!PA)return;const u=h=>{var b,P;const w=(P=(b=h.target)==null?void 0:b.closest)==null?void 0:P.call(b,".builder-sidebar__color-button");Ze.current&&!Ze.current.contains(h.target)&&!w&&EA(!1)},c=h=>{h.key==="Escape"&&EA(!1)};return document.addEventListener("mousedown",u),document.addEventListener("keydown",c),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("keydown",c)}},[PA]);const Ui=u=>{if(!X)return;const c=ot("text",X,{name:u.name,content:u.content,fontSize:u.fontSize,textAlign:u.align??"center"});c.frame&&(c.frame=Dt(c.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:c})};f.useEffect(()=>{try{const u=Mb(it,{perCategory:24});u&&u.length&&gA(c=>{if(!(c!=null&&c.length))return u;const h=new Set(c.map(b=>b.id)),w=[...c];return u.forEach(b=>{h.has(b.id)||w.push(b)}),w})}catch(u){console.warn("Failed to generate font presets",u)}},[]);const Ru=(u,c=null)=>{var CA,te;if(!X)return;const h=typeof u=="string"||!u?{variant:u||"rectangle"}:u,w=h.variant??"rectangle",b=Gb[w]||{},P=b.variant??w,O=h.maskVariant||b.mask||w||"shape",z=typeof O=="string"?O.replace(/[-_]+/g," ").replace(/\b\w/g,ae=>ae.toUpperCase()):"Shape",K=h.description||h.label||h.name||z||"Shape";let uA=h.borderRadius;uA==null&&(P==="circle"?uA=9999:P==="rectangle"?uA=16:uA=0);const sA=ot("shape",X,{name:K,variant:P,borderRadius:uA,fill:h.fill??h.placeholderFill??void 0,stroke:h.stroke??h.placeholderStroke??void 0,metadata:{...h.metadata??{}}}),vA={...sA.metadata??{}},QA=h.maskVariant??vA.maskVariant??b.mask??P,$A=vA.isImageFrame??h.isImageFrame??b.isImageFrame,tA=$A===void 0?!0:$A;if(tA){const ae=h.placeholderFill??vA.placeholderFill??sA.fill??Rt,ye=h.placeholderStroke??vA.placeholderStroke??sA.stroke??Kt,wt=h.placeholderLabel??vA.placeholderLabel??"Add image",Cr=h.placeholderIcon??vA.placeholderIcon??"fa-solid fa-image";sA.metadata={...vA,placeholderFill:ae,placeholderStroke:ye,placeholderLabel:wt,placeholderIcon:Cr,maskVariant:QA,isImageFrame:!0,objectFit:vA.objectFit??"cover",imageScale:Number.isFinite(vA.imageScale)?vA.imageScale:1,imageOffsetX:Number.isFinite(vA.imageOffsetX)?vA.imageOffsetX:0,imageOffsetY:Number.isFinite(vA.imageOffsetY)?vA.imageOffsetY:0,originalVariant:w},sA.fill=ae,sA.stroke=ye}else sA.metadata={...vA,maskVariant:QA,isImageFrame:!1,allowImageFill:vA.allowImageFill??!1,allowColorFill:vA.allowColorFill??!0,originalVariant:w},sA.fill===void 0&&(sA.fill=Rt),sA.stroke===void 0&&(sA.stroke=Kt);sA.shape={id:QA,variant:P,borderRadius:uA},P==="circle"&&(sA.frame={...sA.frame,width:Math.min(X.width*.3,((CA=sA.frame)==null?void 0:CA.width)??280),height:Math.min(X.width*.3,((te=sA.frame)==null?void 0:te.height)??280)});const re=typeof c=="string"&&c?c:typeof h.imageDataUrl=="string"&&h.imageDataUrl?h.imageDataUrl:typeof h.content=="string"&&h.content?h.content:null;re&&tA?(sA.content=re,sA.fill="transparent",sA.stroke="transparent"):sA.content="",sA.frame&&(sA.frame=Dt(sA.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:sA})},Ku=async u=>{console.log("handleFileSelect called with event:",u),console.log("Files selected:",u.target.files);const c=u.target.files[0];if(!c||!X){console.log("No file selected or no active page",{file:c,activePage:X});return}if(console.log("File selected:",c.name,"Size:",c.size,"Type:",c.type),!c.type.startsWith("image/")){alert("Please select an image file.");return}const h=10*1024*1024;if(c.size>h){alert("Image file is too large. Please select an image smaller than 10MB.");return}const w=new FileReader;w.onload=async b=>{try{const P=b.target.result;if(console.log("Image loaded, data URL length:",(P==null?void 0:P.length)??0),!P||!P.startsWith("data:image/")){console.error("Invalid data URL:",P),alert("Failed to read the image file. Please try again.");return}const O=new Image;O.onload=async()=>{try{const z=O.naturalWidth||O.width,K=O.naturalHeight||O.height,uA=Math.round(X.width*.85),sA=Math.round(X.height*.85),vA=Math.min(1,uA/z,sA/K),QA=Math.max(1,Math.round(z*vA)),$A=Math.max(1,Math.round(K*vA)),tA=Math.round((X.width-QA)/2),re=Math.round((X.height-$A)/2),CA=ot("image",X,{name:c.name||"Uploaded image",content:P,metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0}});CA.frame={x:tA,y:re,width:QA,height:$A,rotation:0},CA.frame&&(CA.frame=Dt(CA.frame,X,Ut)),console.log("Adding layer to canvas:",CA),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:CA});try{de({type:"SET_PANEL_IMAGE",panelId:JA.activePanelId,imageData:{dataUrl:P,fileName:c.name}}),console.log("Panel image dispatched to store")}catch(te){console.error("Error dispatching panel image:",te),alert("Failed to add image to panel. Please try again.")}try{const te=await li(()=>import("./recentImagesDB-CO6kquVm.js"),[]),ae=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await te.saveImage(ae,c.name,c),te.pruneOld(10).catch(()=>{});const ye=URL.createObjectURL(c);de({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:ye,fileName:c.name,id:ae})}catch(te){console.error("Failed to persist or dispatch recent image from sidebar:",te)}}catch(z){console.error("Error creating layer from uploaded image:",z),alert("An error occurred while processing the image. Please try again.")}},O.onerror=()=>{console.error("Failed to load image for sizing"),alert("Uploaded image could not be loaded. Try a different file.")},O.src=P}catch(P){console.error("Error processing uploaded image:",P),alert("An error occurred while processing the image. Please try again.")}},w.onerror=()=>{console.error("Error reading file"),alert("Failed to read the image file. Please try again.")},console.log("Starting to read file as data URL"),w.readAsDataURL(c),u.target.value=""},Pu=u=>{if(X)try{de({type:"SET_PANEL_IMAGE",panelId:JA.activePanelId,imageData:{dataUrl:u.dataUrl,fileName:u.fileName}}),console.log("Recent image set to active panel")}catch(c){console.error("Failed to set recent image to panel:",c),alert("Could not add image to panel. Check console for details.")}},on=f.useCallback(async(u,c)=>{const h=u==null?void 0:u.trim();if(!h)return{items:[],hasMore:!1};const w=Kn.unsplash,b=Y!=="all"?`&content_filter=${Y}`:"",P=fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(h)}&client_id=iFpUZ_6aTnLGz0Voz0MYlprq9i_RBl83ux9DzV6EMOs&per_page=${w}&page=${c}${b}`).then(async CA=>{if(!CA.ok)throw new Error(`Unsplash API error: ${CA.status}`);const te=await CA.json(),ae=$b(te.results||[]),ye=te.total_pages??(ae.length===w?c+1:c);return{items:ae,hasMore:c<ye&&ae.length>0}}).catch(CA=>(console.warn("Unsplash fetch failed",CA),{items:[],hasMore:!1})),O=Kn.pixabay,z=vc[Y]??vc.all,uA=[h,z==null?void 0:z.querySuffix].filter(Boolean).join(" "),sA=new URLSearchParams({key:Xb,q:uA||h,safesearch:"true",page:String(c),per_page:String(O)});z!=null&&z.imageType&&z.imageType!=="all"&&sA.set("image_type",z.imageType),z!=null&&z.category&&sA.set("category",z.category),z!=null&&z.order&&sA.set("order",z.order);const vA=fetch(`https://pixabay.com/api/?${sA.toString()}`).then(async CA=>{if(!CA.ok)throw new Error(`Pixabay API error: ${CA.status}`);const te=await CA.json(),ae=Zb(te.hits||[]),ye=Math.min(te.totalHits??0,500),wt=(c-1)*O+ae.length;return{items:ae,hasMore:ye>0&&wt<ye}}).catch(CA=>(console.warn("Pixabay fetch failed",CA),{items:[],hasMore:!1})),[QA,$A]=await Promise.all([P,vA]),tA=[...QA.items,...$A.items],re=(QA.hasMore||$A.hasMore)&&tA.length>0;return{items:tA,hasMore:re}},[Y]),ln=f.useCallback(async u=>{const c=(u??"").trim();if(c){Z.current=!0,eA.current=c,d(!0),B(1),T.current=1,Q(!0);try{const{items:h,hasMore:w}=await on(c,1);o(h);const b=h.length>0?2:1;B(b),T.current=b,Q(w)}catch(h){console.error("Search failed:",h),alert("Search failed. Please try again."),o([]),Q(!1)}finally{d(!1)}}},[on]),xi=f.useCallback(async()=>{if(p||!y)return;const u=eA.current.trim();if(u){C(!0);try{const{items:c,hasMore:h}=await on(u,T.current);if(c.length>0){o(b=>[...b,...c]);const w=T.current+1;B(w),T.current=w}Q(h&&c.length>0)}catch(c){console.error("Load more failed:",c),alert("Failed to load more images. Please try again."),Q(!1)}finally{C(!1)}}},[on,y,p]),zo=f.useRef(xi);f.useEffect(()=>{zo.current=xi},[xi]);const cn=f.useCallback(async(u,c)=>{const h=u==null?void 0:u.trim();if(!h)return{items:[],hasMore:!1};const w=Kn.flaticon;console.log("Fetching icons:",{query:h,pageNumber:c,perPage:w});const b=[{name:"Iconify",searchUrl:`https://api.iconify.design/search?query=${encodeURIComponent(h)}&limit=${w}&start=${(c-1)*w}`,noAuth:!0,type:"iconify"},{name:"Simple Icons Search",searchUrl:`https://api.github.com/search/code?q=${encodeURIComponent(h)}+repo:simple-icons/simple-icons&per_page=${Math.min(w,30)}&page=${c}`,noAuth:!0,type:"github"}];for(const K of b)try{console.log(`Trying ${K.name} API...`);const uA=await fetch(K.searchUrl);if(!uA.ok){const tA=await uA.text();console.log(`${K.name} search failed:`,uA.status,tA);continue}const sA=await uA.json();console.log(`${K.name} search successful:`,sA);let vA=[],QA=0;K.name==="Iconify"?(vA=(sA==null?void 0:sA.icons)||[],QA=(sA==null?void 0:sA.total)||0,QA=Math.min(QA,1e3)):K.name==="Simple Icons Search"&&(vA=sA.items||[],QA=sA.total_count||0);const $A=vA.map((tA,re)=>{var Cr;let CA="",te="",ae="",ye="",wt="";if(K.name==="Iconify"){const[Pe,yr]=tA.split(":");CA=`https://api.iconify.design/${tA}.svg?width=64&height=64`,te=`https://api.iconify.design/${tA}.svg?width=128&height=128`,ae=`https://api.iconify.design/${tA}.svg`,ye=yr.replace(/([A-Z])/g," $1").trim()||tA,wt=`Iconify (${Pe})`}else if(K.name==="Simple Icons Search"){let Pe="";tA.path&&(Pe=tA.path.split("/").pop().replace(".svg","")),Pe=Pe||tA.name||((Cr=tA.path)==null?void 0:Cr.split("/").pop())||`icon-${re}`;const yr=String(Pe).toLowerCase().replace(/[^a-z0-9]/g,"");CA=`https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/${encodeURIComponent(yr)}.svg`,te=CA,ae=CA,ye=Pe.replace(/([A-Z])/g," $1").trim()||"Simple Icon",wt="Simple Icons"}return{id:`${K.name.toLowerCase()}-${tA}-${re}`,thumbUrl:CA,previewUrl:te,downloadUrl:ae,description:ye,provider:K.name.toLowerCase(),providerLabel:K.name,credit:wt,raw:tA}}).filter(tA=>tA.thumbUrl);if($A.length>0){console.log(`Returning ${$A.length} results from ${K.name}`);const tA=Math.ceil(QA/w),re=c<tA&&$A.length===w&&QA>c*w;return console.log(`Pagination info: page ${c}/${tA}, hasMore: ${re}, totalItems: ${QA}`),{items:$A,hasMore:re}}else console.log(`${K.name} returned no valid results`)}catch(uA){console.log(`${K.name} API error:`,uA.message);continue}console.log("All APIs failed, providing fallback icons");const z=[{name:"heart",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",tags:["love","favorite","like"]},{name:"star",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",tags:["favorite","rating","bookmark"]},{name:"home",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",tags:["house","building","property"]},{name:"user",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",tags:["person","profile","account"]},{name:"search",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",tags:["find","magnify","lookup"]},{name:"settings",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",tags:["gear","config","preferences"]},{name:"mail",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/mail.svg",tags:["email","message","envelope"]},{name:"phone",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/phone.svg",tags:["call","contact","telephone"]},{name:"camera",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/camera.svg",tags:["photo","picture","image"]},{name:"music",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/music.svg",tags:["audio","sound","note"]},{name:"play",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/play.svg",tags:["start","begin","media"]},{name:"pause",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/pause.svg",tags:["stop","wait","media"]},{name:"arrowright",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/arrowright.svg",tags:["next","forward","direction"]},{name:"arrowleft",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/arrowleft.svg",tags:["back","previous","direction"]},{name:"check",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/check.svg",tags:["yes","confirm","tick"]},{name:"close",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/close.svg",tags:["x","cancel","exit"]},{name:"plus",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/plus.svg",tags:["add","new","create"]},{name:"minus",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/minus.svg",tags:["remove","subtract","delete"]},{name:"menu",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/menu.svg",tags:["hamburger","navigation","list"]},{name:"calendar",url:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/calendar.svg",tags:["date","schedule","event"]}].filter(K=>K.name.toLowerCase().includes(h.toLowerCase())||K.tags.some(uA=>uA.toLowerCase().includes(h.toLowerCase()))).slice(0,Math.min(w,20)).map((K,uA)=>({id:`fallback-${uA}`,thumbUrl:K.url,previewUrl:K.url,downloadUrl:K.url,description:K.name.replace(/([A-Z])/g," $1").trim(),provider:"fallback",providerLabel:"Simple Icons",credit:"Simple Icons",raw:K}));return console.log(`Returning ${z.length} filtered fallback icons for query "${h}"`),{items:z,hasMore:!1}},[]),dn=f.useCallback(async(u,c)=>{const h=u==null?void 0:u.trim();if(!h)return{items:[],hasMore:!1};const w=Kn.flaticon;console.log("Fetching shapes:",{query:h,pageNumber:c,perPage:w});const b=[{name:"Iconify",searchUrl:`https://api.iconify.design/search?query=${encodeURIComponent(h)}&limit=${w}&start=${(c-1)*w}`,noAuth:!0,type:"iconify"},{name:"Simple Icons Search",searchUrl:`https://api.github.com/search/code?q=${encodeURIComponent(h)}+repo:simple-icons/simple-icons&per_page=${Math.min(w,30)}&page=${c}`,noAuth:!0,type:"github"}];for(const K of b)try{console.log(`Trying ${K.name} API for shapes...`);const uA=await fetch(K.searchUrl);if(!uA.ok){const tA=await uA.text();console.log(`${K.name} search failed:`,uA.status,tA);continue}const sA=await uA.json();console.log(`${K.name} search successful:`,sA);let vA=[],QA=0;K.name==="Iconify"?(vA=(sA==null?void 0:sA.icons)||[],QA=(sA==null?void 0:sA.total)||0,QA=Math.min(QA,1e3)):K.name==="Simple Icons Search"&&(vA=sA.items||[],QA=sA.total_count||0);const $A=vA.map((tA,re)=>{var Cr;let CA="",te="",ae="",ye="",wt="";if(K.name==="Iconify"){const[Pe,yr]=tA.split(":");CA=`https://api.iconify.design/${tA}.svg?width=64&height=64`,te=`https://api.iconify.design/${tA}.svg?width=128&height=128`,ae=`https://api.iconify.design/${tA}.svg`,ye=yr.replace(/([A-Z])/g," $1").trim()||tA,wt=`Iconify (${Pe})`}else if(K.name==="Simple Icons Search"){let Pe="";tA.path&&(Pe=tA.path.split("/").pop().replace(".svg","")),Pe=Pe||tA.name||((Cr=tA.path)==null?void 0:Cr.split("/").pop())||`shape-${re}`;const yr=String(Pe).toLowerCase().replace(/[^a-z0-9]/g,"");CA=`https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/${encodeURIComponent(yr)}.svg`,te=CA,ae=CA,ye=Pe.replace(/([A-Z])/g," $1").trim()||"Shape",wt="Simple Icons"}return{id:`${K.name.toLowerCase()}-${tA}-${re}`,thumbUrl:CA,previewUrl:te,downloadUrl:ae,description:ye,provider:K.name.toLowerCase(),providerLabel:K.name,credit:wt,raw:tA}}).filter(tA=>tA.thumbUrl);if($A.length>0){console.log(`Returning ${$A.length} results from ${K.name}`);const tA=Math.ceil(QA/w),re=c<tA&&$A.length===w&&QA>c*w;return console.log(`Pagination info: page ${c}/${tA}, hasMore: ${re}, totalItems: ${QA}`),{items:$A,hasMore:re}}else console.log(`${K.name} returned no valid results`)}catch(uA){console.log(`${K.name} API error:`,uA.message);continue}console.log("All APIs failed, providing fallback shapes");const z=[{name:"square",variant:"rectangle",maskVariant:"rectangle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB4PSI4IiB5PSI4IiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",tags:["rectangle","square","box"],placeholderFill:Rt,placeholderStroke:Kt},{name:"circle",variant:"circle",maskVariant:"circle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMjQiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",tags:["circle","round","oval"],placeholderFill:Rt,placeholderStroke:Kt},{name:"triangle",variant:"polygon",maskVariant:"triangle",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiw4IDgsNTYgNTYsNTYiIGZpbGw9IiMzNzQxNTEiIHN0cm9rZT0iIzFhMWEwYSIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==",tags:["triangle","polygon","geometric"],placeholderFill:Rt,placeholderStroke:Kt},{name:"star",variant:"polygon",maskVariant:"star",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIyMCwxNiAzMiwzNiA0MiwzNiA0OCwzNiA0OCwxNiAzOCwxNiAzOCwyNiAyMCwyNiIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",tags:["star","rating","favorite"],placeholderFill:Rt,placeholderStroke:Kt},{name:"hexagon",variant:"polygon",maskVariant:"hexagon",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIxNiwyMCA4LDM2IDI0LDUyIDQwLDUyIDQ4LDM2IDQwLDIwIiBmaWxsPSIjMzc0MTUxIiBzdHJva2U9IiMxYTFhMWEiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=",tags:["hexagon","polygon","geometric"],placeholderFill:Rt,placeholderStroke:Kt},{name:"diamond",variant:"polygon",maskVariant:"diamond",url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBvbHlnb24gcG9pbnRzPSIzMiwyMCAyMCw4IDQ0LDg1MiA0NCIgZmlsbD0iIzM3NDE1MSIgc3Ryb2tlPSIjMWExYTBhIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+",tags:["diamond","rhombus","geometric"],placeholderFill:Rt,placeholderStroke:Kt}].filter(K=>K.name.toLowerCase().includes(h.toLowerCase())||K.tags.some(uA=>uA.toLowerCase().includes(h.toLowerCase()))).slice(0,Math.min(w,20)).map((K,uA)=>({id:`fallback-shape-${uA}`,thumbUrl:K.url,previewUrl:K.url,downloadUrl:K.url,description:K.name.replace(/([A-Z])/g," $1").trim(),provider:"fallback",providerLabel:"Basic Shapes",credit:"Basic Shapes",variant:K.variant,maskVariant:K.maskVariant,placeholderFill:K.placeholderFill,placeholderStroke:K.placeholderStroke,raw:K}));return console.log(`Returning ${z.length} filtered fallback shapes for query "${h}"`),{items:z,hasMore:!1}},[]);f.useCallback(async u=>{const c=(u??"").trim(),h=zb(c);if(Qi(h),!c){sn.current=!1,nn(1),Dr.current=1,Nr(!1);return}sn.current=!0,Oo.current=c,Ko(!0),nn(1),Dr.current=1,Nr(!0);try{const{items:w,hasMore:b}=await dn(c,1);w.length>0&&Qi(O=>{const z=new Set(O.map(uA=>uA.id)),K=[...O];for(const uA of w)z.has(uA.id)||K.push(uA);return K});const P=w.length>0?2:1;nn(P),Dr.current=P,Nr(b)}catch(w){console.error("Shape search failed:",w),console.error("Showing default shape results due to provider failure."),Nr(!1)}finally{Ko(!1)}},[dn]);const Ei=f.useCallback(async()=>{if(br||!Zt)return;const u=Oo.current.trim();if(u){Po(!0);try{const{items:c,hasMore:h}=await dn(u,Dr.current);if(c.length>0){Qi(b=>{const P=new Set(b.map(z=>z.id)),O=[...b];for(const z of c)P.has(z.id)||O.push(z);return O});const w=Dr.current+1;nn(w),Dr.current=w}Nr(h&&c.length>0)}catch(c){console.error("Load more shapes failed:",c),alert("Unable to load more shapes. Using available shapes."),Nr(!1)}finally{Po(!1)}}},[dn,Zt,br]),Ii=f.useRef(Ei);f.useEffect(()=>{Ii.current=Ei},[Ei]),f.useEffect(()=>{if(Ba.length===0||!Zt)return;const u=document.querySelector(".shape-loading-indicator"),c=document.querySelector(".builder-sidebar__shape-results");if(!u||!c){console.log("Shape loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for shape loading indicator");const h=new IntersectionObserver(w=>{const[b]=w;console.log("Shape IntersectionObserver triggered:",{isIntersecting:b.isIntersecting,isLoadingMoreShapes:br,hasMoreShapes:Zt,shapeSearchResultsLength:Ba.length}),b.isIntersecting&&!br&&Zt&&(console.log("Loading more shapes via IntersectionObserver..."),Ii.current())},{root:c,rootMargin:"50px",threshold:.1});return h.observe(u),()=>{console.log("Cleaning up shape IntersectionObserver"),h.disconnect()}},[Ba.length,Zt,br]),f.useEffect(()=>{const u=document.querySelector(".builder-sidebar__shape-results");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]),f.useCallback(()=>{!br&&Zt&&Ii.current()},[br,Zt]);const Yo=f.useCallback(async u=>{const c=(u??"").trim();if(!c){De([{id:"default-heart",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/heart.svg",description:"Heart",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-star",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/star.svg",description:"Star",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-home",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/home.svg",description:"Home",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-user",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/user.svg",description:"User",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-search",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/search.svg",description:"Search",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"},{id:"default-settings",thumbUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",previewUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",downloadUrl:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/settings.svg",description:"Settings",provider:"default",providerLabel:"Simple Icons",credit:"Simple Icons"}]),pt.current=!1,We(1),we.current=1,Re(!1);return}pt.current=!0,Ft.current=c,at(!0),We(1),we.current=1,Re(!0);try{const{items:h,hasMore:w}=await cn(c,1);De(h);const b=h.length>0?2:1;We(b),we.current=b,Re(w)}catch(h){console.error("Icon search failed:",h),alert("Some icon providers are unavailable. Showing fallback icons instead."),Re(!1)}finally{at(!1)}},[cn]),_i=f.useCallback(async()=>{if(XA||!Be)return;const u=Ft.current.trim();if(u){qe(!0);try{const{items:c,hasMore:h}=await cn(u,we.current);if(c.length>0){De(b=>[...b,...c]);const w=we.current+1;We(w),we.current=w}Re(h&&c.length>0)}catch(c){console.error("Load more icons failed:",c),alert("Unable to load more icons. Using available icons."),Re(!1)}finally{qe(!1)}}},[cn,Be,XA]),Si=f.useRef(_i);f.useEffect(()=>{Si.current=_i},[_i]),f.useEffect(()=>{if(ie.length===0||!Be)return;const u=document.querySelector(".icon-loading-indicator"),c=document.querySelector(".builder-sidebar__icon-results");if(!u||!c){console.log("Icon loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for icon loading indicator");const h=new IntersectionObserver(w=>{const[b]=w;console.log("Icon IntersectionObserver triggered:",{isIntersecting:b.isIntersecting,isLoadingMoreIcons:XA,hasMoreIcons:Be,iconSearchResultsLength:ie.length}),b.isIntersecting&&!XA&&Be&&(console.log("Loading more icons via IntersectionObserver..."),Si.current())},{root:c,rootMargin:"50px",threshold:.1});return h.observe(u),()=>{console.log("Cleaning up icon IntersectionObserver"),h.disconnect()}},[ie.length,Be,XA]),f.useEffect(()=>{const u=document.querySelector(".builder-sidebar__icon-results");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]);const Ou=f.useCallback(()=>{!XA&&Be&&Si.current()},[XA,Be]),Xo=async u=>{if(X)if(u.variant)Ru(u);else{const c=(u==null?void 0:u.downloadUrl)||(u==null?void 0:u.previewUrl)||(u==null?void 0:u.thumbUrl);if(!c){alert("Unable to load the selected shape. Please choose another one.");return}try{const h=await fetch(c);if(!h.ok)throw new Error(`Network error: ${h.status}`);const w=await h.blob(),b=new FileReader;b.onload=()=>{const P=b.result,O=new Image;O.onload=()=>{const z=O.naturalWidth||O.width,K=O.naturalHeight||O.height,uA=Math.round(X.width*.2),sA=Math.round(X.height*.2),vA=Math.min(1,uA/z,sA/K),QA=Math.max(1,Math.round(z*vA)),$A=Math.max(1,Math.round(K*vA)),tA=Math.round((X.width-QA)/2),re=Math.round((X.height-$A)/2),CA=ot("image",X,{name:(u==null?void 0:u.description)||"Shape",content:P,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0,attribution:u==null?void 0:u.credit,isShape:!0}});CA.frame={x:tA,y:re,width:QA,height:$A,rotation:0},CA.frame&&(CA.frame=Dt(CA.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:CA})},O.src=P},b.readAsDataURL(w)}catch(h){console.error("Failed to load shape:",h),alert("Failed to load shape. Please try again.")}}},Hi=f.useCallback(async({append:u=!1}={})=>{const c=rA.trim(),h=c.toLowerCase();if(u){if(!M.length||E||I)return;k(!0),H("Loading more palettes...")}else Ne(h),V(!0),nA(""),H("Generating palettes...");try{const{paletteSets:w,usedFallback:b}=await bA({normalizedQuery:h,startIndex:u?M.length:0});N(O=>u?[...O,...w]:w),u||nA("");const P=c?`Showing palettes for ${c}`:"";H(P)}catch(w){if(console.error("Failed to generate color palettes:",w),u)nA("Unable to load more palettes right now. Scroll again to retry.");else{nA("Colormind is unavailable. Showing designer-picked palettes.");const b=Array.from({length:yA},()=>Ie()||{id:`fallback-${Math.random().toString(36).slice(2,6)}`,label:"Designer Fallback",colors:["#e2e8f0","#cbd5f5","#a5b4fc","#818cf8","#4c1d95"],source:"curated"});N(b),H(c?`Showing curated palettes for ${c}.`:"Showing curated palettes.")}}finally{u?k(!1):V(!1)}},[rA,M.length,bA,E,I,Ie,Ne]);f.useEffect(()=>{const u=D.current;if(!u)return;const c=()=>{u.scrollTop+u.clientHeight>=u.scrollHeight-80&&Hi({append:!0})},h=w=>{const b=u.scrollTop<=0&&w.deltaY<0,P=u.scrollTop+u.clientHeight>=u.scrollHeight-1&&w.deltaY>0;(b||P)&&(w.preventDefault(),w.stopPropagation())};return u.addEventListener("scroll",c),u.addEventListener("wheel",h,{passive:!1}),()=>{u.removeEventListener("scroll",c),u.removeEventListener("wheel",h)}},[Hi,M.length,t]);const _e=f.useCallback(u=>{var b;if(!X)return"none";const c=JA.selectedLayerId,h=c?(b=X.nodes)==null?void 0:b.find(P=>P.id===c):null;return h&&h.type==="shape"?(de({type:"UPDATE_LAYER_PROPS",pageId:X.id,layerId:c,props:{fill:u}}),me(u),nA(""),"layer"):(de({type:"UPDATE_PAGE_PROPS",pageId:X.id,props:{background:u}}),nA(""),"background")},[X,de,me,JA.selectedLayerId]),$o=f.useCallback(u=>{_e(u)},[_e]),Ke=f.useCallback((u,c=1)=>{if(!u)return;const h=Ve(u);MA(h),ne(h),W(h.toUpperCase()),me(h);const w=c<1?`rgba(${ps(h)}, ${c})`:h;_e(w)},[_e,Ve,me]),Zo=f.useCallback(u=>{if(!u){W("");return}const c=(u.startsWith("#")?u:`#${u}`).toUpperCase();W(c),/^#([0-9A-F]{3}|[0-9A-F]{6})$/.test(c)&&Ke(c,cA/100)},[cA,Ke]),ju=f.useCallback(u=>{const c=Number(u);Ae(c);const h=jb(c,100,50);ne(h),W(h),Ke(h,cA/100)},[cA,Ke]),Gu=f.useCallback(u=>{if(zA(u),u==="gradient"){_e(GA(aA,F,pA,cA/100));return}Ke(NA,cA/100)},[_e,cA,GA,pA,F,Ke,aA,NA]),un=f.useCallback((u,c)=>{const h=Ve(c);_(w=>{const b=[...w];return b[u]=h,mA==="gradient"&&_e(GA(aA,b,pA,cA/100)),b}),me(h)},[_e,cA,GA,mA,pA,Ve,me,aA]),Vu=f.useCallback(u=>{hA(u),zA("gradient"),_e(GA(u,F,pA,cA/100))},[_e,cA,GA,pA,F]);f.useCallback(()=>{_(u=>{if(u.length>=3)return u;const c=u[u.length-1]??"#ffffff";return[...u,c]})},[]);const Wu=f.useCallback((u,c)=>{const w=`#${(c??"").replace(/[^0-9a-fA-F]/g,"").slice(0,6)}`.toUpperCase();wA(b=>{const P=[...b];return P[u]=w,P}),/^#([0-9A-F]{6})$/.test(w)&&un(u,w)},[un]),zu=f.useCallback(u=>{const c=Math.max(0,Math.min(360,Number(u)));UA(c),mA==="gradient"&&_e(GA(aA,F,c,cA/100))},[_e,cA,GA,mA,F,aA]),Yu=f.useCallback(u=>{const c=Math.max(0,Math.min(100,Number(u)));Ge(c),mA==="gradient"?_e(GA(aA,F,pA,c/100)):Ke(NA,c/100)},[_e,GA,mA,pA,F,Ke,aA,NA]),Xu=f.useCallback(u=>{if(mA==="solid"){Ke(u,cA/100);return}un(YA,u)},[YA,cA,mA,un,Ke]),Jo=f.useCallback(()=>{if(mA==="gradient"){_e(GA(aA,F,pA,cA/100)),F.forEach(u=>me(u));return}Ke(NA,cA/100)},[_e,cA,GA,mA,pA,F,Ke,me,aA,NA]),$u=f.useCallback(u=>{const c=u.match(/linear-gradient\(90deg, ([^,]+), ([^)]+)\)/);if(!c)return;const h=c[1].trim(),w=c[2].trim();_([h,w]),hA("linear"),UA(90),Ge(100),zA("gradient"),Jo()},[Jo]),Zu=f.useCallback(u=>{ne(u),W(u),Ke(u,cA/100)},[cA,Ke]);f.useCallback(()=>{EA(u=>!u)},[]),f.useCallback(()=>{EA(!1)},[]);const Ju=({placeholder:u="Search palette type (e.g. birthday, pastel, wedding)",buttonLabel:c="Generate Colors",helperInstruction:h="Click a swatch to color the selected layer.",onApply:w=$o}={})=>i.jsxs(i.Fragment,{children:[i.jsxs("form",{className:"builder-sidebar__search palette-search",onSubmit:b=>{b.preventDefault(),Hi()},children:[i.jsx("input",{type:"text",placeholder:u,value:rA,onChange:b=>S(b.target.value)}),i.jsx("button",{type:"submit",disabled:E,children:E?"Generating...":c})]}),M.length>0&&i.jsx("div",{className:"builder-sidebar__palette-list builder-sidebar__palette-scroll",ref:D,role:"region","aria-label":"Generated palettes",tabIndex:0,style:{maxHeight:"320px",overflowY:"auto",paddingRight:"8px"},children:M.map((b,P)=>{var O;return i.jsxs("div",{className:"builder-sidebar__palette",children:[i.jsxs("div",{className:"builder-sidebar__palette-header",children:[i.jsx("h3",{children:b.label??`Palette ${P+1}`}),i.jsxs("span",{children:[b.source==="colormind"?"AI generated palette":"Curated palette","  ",h]})]}),i.jsx("div",{className:"builder-sidebar__palette-colors",children:(O=b.colors)==null?void 0:O.map((z,K)=>{var uA;return i.jsxs("div",{className:"builder-sidebar__palette-item",children:[i.jsx("button",{type:"button",className:"builder-sidebar__palette-swatch",style:{backgroundColor:z},title:`Apply ${z}`,onClick:()=>w(z)}),i.jsx("span",{className:"builder-sidebar__palette-code",children:((uA=z==null?void 0:z.toUpperCase)==null?void 0:uA.call(z))??z})]},`${P}-${K}`)})})]},b.id??`palette-${P}`)})}),U&&i.jsx("div",{className:"builder-sidebar__hint",style:{color:"#0f172a",fontWeight:600},children:U}),R&&i.jsx("div",{className:"builder-sidebar__hint",style:{color:"#b45309",fontWeight:600},children:R})]}),pa=f.useCallback((u={})=>{const{family:c,weights:h}=u;if(!c)return;const w=Array.isArray(h)&&h.length>0?Array.from(new Set(h.map(z=>{if(typeof z=="number")return String(z);if(typeof z=="string"){const K=z.match(/\d+/);return K?K[0]:z.toLowerCase().includes("bold")?"700":"400"}return"400"}))):["400"],b=w.length>0?w.join(";"):"400",P=`${c}-${b}`;if(jo.current.has(P))return;const O=document.createElement("link");O.rel="stylesheet",O.href=`https://fonts.googleapis.com/css2?family=${encodeURIComponent(c)}:wght@${b}&display=swap`,document.head.appendChild(O),jo.current.add(P)},[]),qu=f.useCallback(u=>{var c;!X||!((c=u==null?void 0:u.layers)!=null&&c.length)||(u.layers.forEach(h=>{pa({family:h.family,weights:[h.fontWeight??"400"]})}),u.layers.forEach((h,w)=>{const b=ot("text",X,{name:`${u.label??"Font Combo"} ${h.role??w+1}`,content:h.content,fontSize:h.fontSize??32,fontWeight:h.fontWeight??"400",fontFamily:`${h.family}, ${h.fallback??"sans-serif"}`,textAlign:h.align??u.align??"center",textTransform:h.transform??"none",letterSpacing:h.letterSpacing??0});if(b.frame){const P=h.offsetY??w*64;b.frame={...b.frame,width:h.width??b.frame.width,height:h.height??b.frame.height,x:b.frame.x,y:b.frame.y+P},b.frame=Dt(b.frame,X,Ut)}de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:b})}))},[X,de,pa,Ut]);f.useEffect(()=>{q.forEach(u=>{var c;(c=u.layers)==null||c.forEach(h=>{pa({family:h.family,weights:[h.fontWeight??"400"]})})})},[q,pa]);const Ag=async u=>{if(!X)return;const c=(u==null?void 0:u.downloadUrl)||(u==null?void 0:u.previewUrl)||(u==null?void 0:u.thumbUrl);if(!c){alert("Unable to load the selected icon. Please choose another one.");return}try{const h=await fetch(c);if(!h.ok)throw new Error(`Network error: ${h.status}`);const w=await h.blob(),b=new FileReader;b.onload=()=>{const P=b.result,O=new Image;O.onload=()=>{const z=O.naturalWidth||O.width,K=O.naturalHeight||O.height,uA=Math.round(X.width*.15),sA=Math.round(X.height*.15),vA=Math.min(1,uA/z,sA/K),QA=Math.max(1,Math.round(z*vA)),$A=Math.max(1,Math.round(K*vA)),tA=Math.round((X.width-QA)/2),re=Math.round((X.height-$A)/2),CA=ot("image",X,{name:(u==null?void 0:u.description)||"Icon",content:P,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0,attribution:u==null?void 0:u.credit,isIcon:!0}});CA.frame={x:tA,y:re,width:QA,height:$A,rotation:0},CA.frame&&(CA.frame=Dt(CA.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:CA})},O.src=P},b.readAsDataURL(w)}catch(h){console.error("Failed to load icon:",h),alert("Failed to load icon. Please try again.")}},gn=f.useCallback(async(u,c)=>{const h=u==null?void 0:u.trim();if(!h)return{items:[],hasMore:!1};const w=20,b=(c-1)*w;try{const P=Rb.REACT_APP_GOOGLE_FONTS_API_KEY||"AIzaSyB8AzfLkq8VwHq5t5n5n5n5n5n5n5n5n5",O=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${P}&sort=popularity`);if(!O.ok)throw new Error(`Google Fonts API error: ${O.status}`);const uA=((await O.json()).items||[]).filter(tA=>tA.family.toLowerCase().includes(h.toLowerCase())||tA.category&&tA.category.toLowerCase().includes(h.toLowerCase())),sA=b,vA=sA+w;return{items:uA.slice(sA,vA).map(tA=>({id:`font-${tA.family.replace(/\s+/g,"-").toLowerCase()}`,family:tA.family,category:tA.category,variants:tA.variants,subsets:tA.subsets,version:tA.version,lastModified:tA.lastModified,files:tA.files,provider:"google-fonts",providerLabel:"Google Fonts",credit:"Google Fonts"})),hasMore:vA<uA.length}}catch(P){console.error("Google Fonts API failed:",P);const z=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["300","400","500","700"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lato",category:"sans-serif",variants:["300","400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["300","400","500","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"Playfair Display",category:"serif",variants:["400","700"]},{family:"Merriweather",category:"serif",variants:["300","400","700"]},{family:"Crimson Text",category:"serif",variants:["400","600"]}].filter(QA=>QA.family.toLowerCase().includes(h.toLowerCase())||QA.category.toLowerCase().includes(h.toLowerCase())),K=b,uA=K+w;return{items:z.slice(K,uA).map(QA=>({id:`font-${QA.family.replace(/\s+/g,"-").toLowerCase()}`,family:QA.family,category:QA.category,variants:QA.variants,subsets:["latin"],provider:"fallback",providerLabel:"System Fonts",credit:"System Fonts"})),hasMore:uA<z.length}}},[]);f.useCallback(async u=>{const c=(u??"").trim();if(!c){se([]),ua.current=!1,mr(1),Wt.current=1,Vt(!1);return}ua.current=!0,an.current=c,pr(!0),mr(1),Wt.current=1,Vt(!0);try{const{items:h,hasMore:w}=await gn(c,1);se(h);const b=h.length>0?2:1;mr(b),Wt.current=b,Vt(w)}catch(h){console.error("Font search failed:",h),alert("Some font providers are unavailable. Showing fallback fonts instead."),Vt(!1)}finally{pr(!1)}},[gn]);const Li=f.useCallback(async()=>{if(At||!mt)return;const u=an.current.trim();if(u){rn(!0);try{const{items:c,hasMore:h}=await gn(u,Wt.current);if(c.length>0){se(b=>[...b,...c]);const w=Wt.current+1;mr(w),Wt.current=w}Vt(h&&c.length>0)}catch(c){console.error("Load more fonts failed:",c),alert("Unable to load more fonts. Using available fonts."),Vt(!1)}finally{rn(!1)}}},[gn,mt,At]),ki=f.useRef(Li);f.useEffect(()=>{ki.current=Li},[Li]),f.useEffect(()=>{if(G.length===0||!mt)return;const u=document.querySelector(".font-loading-indicator"),c=document.querySelector(".builder-sidebar__font-results");if(!u||!c){console.log("Font loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for font loading indicator");const h=new IntersectionObserver(w=>{const[b]=w;console.log("Font IntersectionObserver triggered:",{isIntersecting:b.isIntersecting,isLoadingMoreFonts:At,hasMoreFonts:mt,fontSearchResultsLength:G.length}),b.isIntersecting&&!At&&mt&&(console.log("Loading more fonts via IntersectionObserver..."),ki.current())},{root:c,rootMargin:"50px",threshold:.1});return h.observe(u),()=>{console.log("Cleaning up font IntersectionObserver"),h.disconnect()}},[G.length,mt,At]),f.useEffect(()=>{const u=document.querySelector(".builder-sidebar__font-results");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]);const eg=f.useCallback(()=>{!At&&mt&&ki.current()},[At,mt]),tg=u=>{if(!X)return;pa({family:u.family,weights:u.variants});const c=ot("text",X,{name:`${u.family} Text`,content:"Sample text with new font",fontSize:32,fontFamily:`${u.family}, ${u.category}`,fontWeight:"400"});c.frame&&(c.frame=Dt(c.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:c})},rg=f.useCallback(async u=>{const c=(u??"").trim();if(!c){v.current=!0,Mr(!0),Tr(1),wr.current=1,vt(!0);try{const h=await fetch("https://zenquotes.io/api/random/6");if(!h.ok)throw new Error(`API request failed: ${h.status}`);const w=await h.json();let b=[];Array.isArray(w)&&(b=w.map((O,z)=>({id:`random-quote-${wr.current}-${z}`,content:O.q||"",author:O.a||"Unknown",category:"inspiration"})).filter(O=>O.content.trim()!=="")),b.length===0&&(b=[{id:"fallback-quote-1",content:"The only way to do great work is to love what you do.",author:"Steve Jobs",category:"motivation"},{id:"fallback-quote-2",content:"Believe you can and you're halfway there.",author:"Theodore Roosevelt",category:"inspiration"},{id:"fallback-quote-3",content:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt",category:"dreams"},{id:"fallback-quote-4",content:"You miss 100% of the shots you don't take.",author:"Wayne Gretzky",category:"opportunity"},{id:"fallback-quote-5",content:"The best way to predict the future is to create it.",author:"Peter Drucker",category:"future"},{id:"fallback-quote-6",content:"Keep your face always toward the sunshineand shadows will fall behind you.",author:"Walt Whitman",category:"positivity"}]),kr(O=>[...O,...b]);const P=b.length>0?2:1;Tr(P),wr.current=P,vt(!0)}catch(h){console.error("Quote generation failed:",h);const w=[{id:"error-fallback-1",content:"The only way to do great work is to love what you do.",author:"Steve Jobs",category:"motivation"},{id:"error-fallback-2",content:"Believe you can and you're halfway there.",author:"Theodore Roosevelt",category:"inspiration"},{id:"error-fallback-3",content:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt",category:"dreams"}];kr(b=>[...b,...w]),vt(!0)}finally{Mr(!1)}return}v.current=!0,m.current=c,Mr(!0),Tr(1),wr.current=1,vt(!1);try{alert('Quote search is not currently supported. Use "Generate Quotes" for random inspirational quotes.');const h=[{id:"search-quote-1",content:"Success is not final, failure is not fatal: It is the courage to continue that counts.",author:"Winston Churchill",category:"perseverance"},{id:"search-quote-2",content:"The only impossible journey is the one you never begin.",author:"Tony Robbins",category:"journey"},{id:"search-quote-3",content:"Your time is limited, so don't waste it living someone else's life.",author:"Steve Jobs",category:"life"},{id:"search-quote-4",content:"The way to get started is to quit talking and begin doing.",author:"Walt Disney",category:"action"},{id:"search-quote-5",content:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson",category:"persistence"}],w=h.filter(b=>b.content.toLowerCase().includes(c.toLowerCase())||b.author.toLowerCase().includes(c.toLowerCase())||b.category.toLowerCase().includes(c.toLowerCase()));kr(w.length>0?w:h)}catch(h){console.error("Quote search failed:",h),vt(!1)}finally{Mr(!1)}},[]),Mi=f.useCallback(async()=>{if(ze||!nt)return;if(m.current.trim())alert('Quote search is not currently supported. Use "Generate Quotes" for random inspirational quotes.');else{fa(!0);try{const c=await fetch("https://zenquotes.io/api/random/6");if(!c.ok)throw new Error(`API request failed: ${c.status}`);const h=await c.json();let w=[];Array.isArray(h)&&(w=h.map((b,P)=>({id:`random-quote-more-${Date.now()}-${P}`,content:b.q||"",author:b.a||"Unknown",category:"inspiration"})).filter(b=>b.content.trim()!=="")),w.length===0&&(w=[{id:`additional-quote-${Date.now()}-1`,content:"The only limit to our realization of tomorrow will be our doubts of today.",author:"Franklin D. Roosevelt",category:"doubts"},{id:`additional-quote-${Date.now()}-2`,content:"What lies behind us and what lies before us are tiny matters compared to what lies within us.",author:"Ralph Waldo Emerson",category:"inner strength"}]),kr(b=>[...b,...w]),vt(!0)}catch(c){console.error("Load more quotes failed:",c),vt(!0)}finally{fa(!1)}}},[nt,ze]),Ti=f.useRef(Mi);f.useEffect(()=>{Ti.current=Mi},[Mi]),f.useEffect(()=>{if(zt.length===0||!nt)return;const u=document.querySelector(".quote-loading-indicator"),c=document.querySelector(".builder-sidebar__quote-results");if(!u||!c){console.log("Quote loading indicator or scroll container not found");return}console.log("Setting up IntersectionObserver for quote loading indicator");const h=new IntersectionObserver(w=>{const[b]=w;console.log("Quote IntersectionObserver triggered:",{isIntersecting:b.isIntersecting,isLoadingMoreQuotes:ze,hasMoreQuotes:nt,quoteSearchResultsLength:zt.length}),b.isIntersecting&&!ze&&nt&&(console.log("Loading more quotes via IntersectionObserver..."),Ti.current())},{root:c,rootMargin:"50px",threshold:.1});return h.observe(u),()=>{console.log("Cleaning up quote IntersectionObserver"),h.disconnect()}},[zt.length,nt,ze]),f.useEffect(()=>{const u=document.querySelector(".builder-sidebar__quote-results");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]);const ag=f.useCallback(()=>{!ze&&nt&&Ti.current()},[ze,nt]),ng=u=>{if(!X)return;const c=ot("text",X,{name:"Quote",content:`"${u.content}"

 ${u.author}`,fontSize:28,fontFamily:"Georgia, serif",fontWeight:"400",textAlign:"center"});c.frame&&(c.frame=Dt(c.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:c})},ig=u=>{if(!X)return;const c=ot("text",X,{name:"Quote",content:u,fontSize:28,fontFamily:"Georgia, serif",fontWeight:"400",textAlign:"center"});c.frame&&(c.frame=Dt(c.frame,X,Ut)),de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:c})};f.useEffect(()=>{!Z.current||!eA.current||ln(eA.current)},[ln,Y]),f.useEffect(()=>{if(s.length===0||!y)return;const u=document.querySelector(".loading-indicator");if(!u){console.log("Loading indicator not found");return}console.log("Setting up IntersectionObserver for loading indicator");const c=new IntersectionObserver(h=>{const[w]=h;console.log("IntersectionObserver triggered:",{isIntersecting:w.isIntersecting,isLoadingMore:p,hasMore:y}),w.isIntersecting&&!p&&y&&a.trim()&&(console.log("Loading more images via IntersectionObserver..."),zo.current())},{root:document.querySelector(".builder-sidebar__search-results"),rootMargin:"100px",threshold:.1});return c.observe(u),()=>{console.log("Cleaning up IntersectionObserver"),c.disconnect()}},[s.length,y,p,a]),f.useEffect(()=>{const u=document.querySelector(".builder-sidebar__search-results");if(!u)return;const c=h=>{const{scrollTop:w,scrollHeight:b,clientHeight:P}=h.target,O=w===0,z=w+P>=b;O&&h.deltaY<0||z&&h.deltaY>0||h.stopPropagation()};return u.addEventListener("wheel",c,{passive:!0}),u.addEventListener("touchmove",c,{passive:!0}),()=>{u.removeEventListener("wheel",c),u.removeEventListener("touchmove",c)}},[]);const sg=async u=>{if(!X)return;const c=(u==null?void 0:u.downloadUrl)||(u==null?void 0:u.previewUrl)||(u==null?void 0:u.thumbUrl);if(!c){alert("Unable to load the selected image. Please choose another one.");return}try{const h=await fetch(c);if(!h.ok)throw new Error(`Network error: ${h.status}`);const w=await h.blob(),b=new FileReader;b.onload=()=>{const P=b.result,O=ot("image",X,{content:P,name:(u==null?void 0:u.description)||`${(u==null?void 0:u.providerLabel)??"Stock"} image`});de({type:"ADD_LAYER",pageId:X.id,panelId:JA.activePanelId,layer:O}),console.log("Photo added as layer")},b.readAsDataURL(w)}catch(h){console.error("Failed to load photo:",h),alert("Failed to load photo. Please try again.")}},og=()=>{var u;if(!X)return i.jsx("div",{className:"builder-sidebar__empty-state",children:"Create a page to start designing."});switch(t){case"text":return i.jsxs("div",{className:"builder-sidebar__content builder-sidebar__content--text",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Text"}),i.jsx("p",{children:"Add quick headings, stylized blocks, or browse the full font library."})]}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("div",{className:"text-panel",children:i.jsxs("div",{className:"text-panel__canvas",ref:Du,children:[i.jsx("div",{className:"text-panel__quick",style:{marginBottom:"1rem"},children:i.jsxs("div",{className:"text-panel__quick-actions",style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[i.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Ui({name:"Heading",content:"Add header",fontSize:52}),onMouseEnter:c=>c.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:c=>c.target.style.background="rgba(37, 99, 235, 0.08)",children:"add header"}),i.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Ui({name:"Subheading",content:"Add sub header",fontSize:34}),onMouseEnter:c=>c.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:c=>c.target.style.background="rgba(37, 99, 235, 0.08)",children:"add sub header"}),i.jsx("button",{type:"button",className:"text-panel__quick-btn",style:{borderRadius:"0.5rem",border:"1px solid rgba(37, 99, 235, 0.25)",background:"rgba(37, 99, 235, 0.08)",color:"var(--builder-text)",padding:"0.4rem 0.8rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.15s ease",width:"100%"},onClick:()=>Ui({name:"Body text",content:"Add body text",fontSize:26,align:"left"}),onMouseEnter:c=>c.target.style.background="rgba(37, 99, 235, 0.15)",onMouseLeave:c=>c.target.style.background="rgba(37, 99, 235, 0.08)",children:"add body text"})]})}),i.jsxs("div",{className:"text-panel__styled-presets",ref:Xt,children:[i.jsx("div",{className:"text-panel__styled-grid",children:q.map(c=>{var h;return i.jsx("button",{type:"button",className:"styled-text-preset",onClick:()=>qu(c),title:`Add styled combo: ${c.label}`,children:i.jsxs("div",{className:"styled-text-preview multi-layer",children:[(h=c.layers)==null?void 0:h.map((w,b)=>i.jsx("div",{className:"styled-text-preview__line",style:{fontFamily:`${w.family}, ${w.fallback??"sans-serif"}`,fontSize:`${(w.fontSize??28)*.6}px`,fontWeight:w.fontWeight??"400",textAlign:w.align??c.align??"center",textTransform:w.transform??"none",letterSpacing:`${w.letterSpacing??0}px`},children:w.content},`${c.id}-${w.role??b}`)),c.description&&i.jsx("div",{className:"styled-text-preview__description",children:c.description})]})},c.id)})}),i.jsx("div",{className:"styled-loading-indicator",children:(OA||Ce)&&i.jsx("span",{children:OA?"Loading styled presets...":"Scroll for more presets"})})]}),G.length>0?i.jsxs("div",{className:"builder-sidebar__font-results",children:[G.map(c=>i.jsxs("button",{type:"button",className:"search-result-thumb font-result-thumb",onClick:()=>tg(c),title:`${c.family} (${c.category}) - ${c.providerLabel}`,children:[i.jsx("div",{className:"font-preview",style:{fontFamily:`${c.family}, ${c.category}`,fontSize:"16px",fontWeight:"400",textAlign:"center",padding:"8px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"4px",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.family}),i.jsx("span",{className:"search-result-provider-tag",children:c.providerLabel})]},c.id)),mt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"font-loading-indicator",children:[i.jsx("div",{className:`spinner ${At?"loading":""}`}),i.jsx("span",{children:At?"Loading more fonts...":"Scroll for more fonts"})]}),i.jsx("div",{className:"load-more-container",children:i.jsx("button",{type:"button",className:"load-more-btn",onClick:eg,disabled:At,children:At?"Loading...":"Load More Fonts"})})]})]}):ua.current?i.jsx("div",{className:"builder-sidebar__empty-state",children:Lr?"Searching for fonts...":"No fonts found. Try a different search term."}):null]})})]});case"frames":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Frames"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Choose from a variety of frames and shapes."}),i.jsx("div",{className:"builder-sidebar__provider-note",children:"Built-in frames for your designs."}),!sn.current&&i.jsx("div",{className:"builder-sidebar__hint",style:{marginBottom:"10px",fontSize:"12px",color:"#666"},children:"Available frames:"}),Ba.length>0?i.jsx("div",{className:"builder-sidebar__shape-results",children:Ba.map(c=>i.jsxs("button",{type:"button",className:"search-result-thumb",onClick:()=>Xo(c),children:[i.jsx("img",{src:c.thumbUrl,alt:"",style:{width:64,height:64,objectFit:"contain",backgroundColor:"#fff"},onError:h=>{try{h.target.onerror=null;const b=`<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23f3f4f6'/><text x='50%' y='50%' font-size='14' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(c.description||"sh").toUpperCase().slice(0,2)}</text></svg>`;h.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(b)}catch{}}}),c.providerLabel!=="Iconify"&&i.jsx("span",{className:"search-result-provider-tag",children:c.providerLabel})]},c.id))}):sn.current?i.jsx("div",{className:"builder-sidebar__empty-state",children:Nu?"Searching for shapes...":"No shapes found. Try a different search term."}):null]});case"shapes":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Shape"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Add basic geometric shapes to your design."}),i.jsx("div",{className:"builder-sidebar__shape-results",children:Wb().map(c=>i.jsx("button",{type:"button",className:"search-result-thumb",onClick:()=>Xo(c),children:i.jsx("img",{src:c.thumbUrl,alt:"",style:{width:64,height:64,objectFit:"contain",backgroundColor:"#fff"},onError:h=>{try{h.target.onerror=null;const b=`<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23f3f4f6'/><text x='50%' y='50%' font-size='14' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(c.description||"sh").toUpperCase().slice(0,2)}</text></svg>`;h.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(b)}catch{}}})},c.id))})]});case"images":{const c=Array.isArray(JA.recentlyUploadedImages)?JA.recentlyUploadedImages:[],h=c.length;return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Upload"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsxs("div",{className:"builder-upload-card",children:[i.jsx("div",{className:"builder-upload-card__icon","aria-hidden":"true",children:i.jsx("i",{className:"fa-solid fa-cloud-arrow-up"})}),i.jsxs("div",{className:"builder-upload-card__body",children:[i.jsx("h3",{className:"builder-upload-card__title",children:"Add photos & artwork"}),i.jsx("div",{className:"builder-upload-card__actions",children:i.jsx("button",{type:"button",className:"tool-action-btn builder-upload-card__button",onClick:()=>{var w;console.log("Upload button clicked"),(w=Go.current)==null||w.click()},children:"Upload image"})}),i.jsxs("ul",{className:"builder-upload-card__guidelines",children:[i.jsx("li",{children:"Supports PNG, JPG, and SVG"}),i.jsx("li",{children:"Recommended up to 10MB per file"})]})]})]}),i.jsx("div",{className:"builder-upload-divider",role:"presentation"}),i.jsxs("div",{className:"builder-sidebar__recently-uploaded",children:[i.jsxs("div",{className:"builder-sidebar__section-heading",children:[i.jsx("h3",{children:"Recent uploads"}),h>0&&i.jsx("span",{className:"builder-sidebar__section-count","aria-label":`${h} recent uploads`,children:h})]}),i.jsx("p",{className:"builder-sidebar__section-help",children:"Click any image to place it back onto the canvas."}),i.jsx("div",{className:"builder-sidebar__recent-items",children:h>0?i.jsx("div",{className:"builder-recent-upload-grid",children:c.map(w=>i.jsxs("div",{className:"builder-recent-upload-grid__item",children:[i.jsx("button",{type:"button",className:"builder-recent-upload-grid__button",onClick:()=>Pu(w),title:w.fileName||"Uploaded image","aria-label":`Use recent upload ${w.fileName||"image"}`,children:i.jsx("img",{src:w.dataUrl,alt:w.fileName||"Uploaded image",className:"builder-recent-upload-grid__thumb",onError:b=>{b.target.style.visibility="hidden"}})}),i.jsxs("div",{className:"builder-recent-upload-grid__footer",children:[i.jsx("span",{className:"builder-recent-upload-grid__name",title:w.fileName||"Uploaded image",children:w.fileName||"Uploaded image"}),i.jsx("button",{type:"button",className:"builder-recent-upload-grid__delete",title:"Delete recent upload","aria-label":`Delete recent upload ${w.fileName||"image"}`,onClick:async b=>{b.stopPropagation();try{const P=await li(()=>import("./recentImagesDB-CO6kquVm.js"),[]);if(w.dataUrl&&w.dataUrl.startsWith("blob:"))try{URL.revokeObjectURL(w.dataUrl)}catch{}await P.deleteImage(w.id),de({type:"DELETE_RECENTLY_UPLOADED_IMAGE",id:w.id})}catch(P){console.error("Failed to delete recent image",P),alert("Failed to delete recent image. See console for details.")}},children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),i.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),i.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),i.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})]})]},w.id))}):i.jsxs("div",{className:"builder-sidebar__empty-state builder-upload-empty",children:[i.jsx("i",{className:"fa-solid fa-image","aria-hidden":"true"}),i.jsx("p",{children:"No uploads yet. Use the button above to add your first image."})]})})]}),i.jsx("div",{className:"builder-sidebar__hint",children:"Image uploads will connect to the asset library in a future release."})]})}case"photos":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Photos"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Searches Unsplash and Pixabay together automatically."}),i.jsx("div",{className:"builder-sidebar__provider-note",children:"Showing combined results from Unsplash + Pixabay. Please display attribution when publishing your design."}),i.jsx("div",{className:"builder-sidebar__filters",role:"group","aria-label":"Filter results",children:Yb.map(c=>i.jsx("button",{type:"button",className:`filter-btn ${Y===c.id?"active":""}`,onClick:()=>x(c.id),children:c.label},c.id))}),i.jsxs("div",{className:"builder-sidebar__search",children:[i.jsx("input",{type:"text",placeholder:"Search for photos...",value:a,onChange:c=>n(c.target.value),onKeyDown:c=>c.key==="Enter"&&ln(c.target.value)}),i.jsx("button",{type:"button",onClick:()=>ln(a),disabled:l,children:l?"Searching...":"Search"})]}),s.length>0&&i.jsxs("div",{className:"builder-sidebar__search-results",children:[s.map(c=>i.jsx("button",{type:"button",className:"search-result-thumb",onClick:()=>sg(c),title:`${c.description} (${c.providerLabel})`,children:i.jsx("img",{src:c.thumbUrl,alt:c.description,style:{width:96,height:96,objectFit:"cover",backgroundColor:"#f3f4f6"},onError:h=>{try{h.target.onerror=null;const b=`<svg xmlns='http://www.w3.org/2000/svg' width='96' height='96'><rect width='100%' height='100%' fill='%23e5e7eb'/><text x='50%' y='50%' font-size='12' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(c.description||"img").toUpperCase().slice(0,3)}</text></svg>`;h.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(b)}catch{}}})},c.id)),y&&i.jsxs("div",{className:"loading-indicator",children:[i.jsx("div",{className:`spinner ${p?"loading":""}`}),i.jsx("span",{children:p?`Loading more ${Wo} images...`:`Scroll for more ${Wo} images`})]})]})]});case"background":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Colors"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsxs("div",{className:"background-panel",children:[i.jsx("p",{className:"background-panel__subtitle",children:"Define a clean canvas foundation with precise color, gradient, and opacity controls."}),i.jsx("div",{className:"background-panel__toggle",role:"group","aria-label":"Background mode",children:["solid","gradient"].map(c=>i.jsx("button",{type:"button",className:`background-panel__toggle-btn ${mA===c?"is-active":""}`,onClick:()=>Gu(c),"aria-pressed":mA===c,children:c==="solid"?"Solid":"Gradient"},c))}),i.jsx("div",{className:"background-panel__preview-card",children:mA==="solid"?i.jsx("input",{type:"range",min:"0",max:"360",value:fe,onChange:c=>ju(c.target.value),className:"background-panel__spectrum-slider","aria-label":"Color spectrum slider"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"background-panel__preview",style:{background:ee}}),i.jsxs("div",{className:"background-panel__preview-info",children:[i.jsx("span",{children:"Gradient preview"}),i.jsxs("span",{children:[fA[0],"  ",fA[1]]})]})]})}),mA==="gradient"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"background-panel__section",children:i.jsx("div",{className:"background-panel__color-grid",children:fA.slice(0,2).map((c,h)=>i.jsxs("div",{className:"background-panel__color-field",children:[i.jsx("label",{htmlFor:`gradient-color-input-${h}`,children:h===0?"Start color":"End color"}),i.jsx("div",{className:"background-panel__color-input",children:i.jsx("input",{id:`gradient-color-input-${h}`,type:"text",value:c,onFocus:()=>ZA(h),onChange:w=>Wu(h,w.target.value),"aria-label":`Hex value for ${h===0?"start":"end"} color`})})]},`gradient-color-${h}`))})}),i.jsxs("div",{className:"background-panel__section",children:[i.jsx("span",{className:"background-panel__label",children:"Direction"}),i.jsx("div",{className:"background-panel__direction-tabs",children:Me.map(c=>i.jsxs("button",{type:"button",className:`background-panel__direction-btn ${aA===c.id?"is-active":""}`,onClick:()=>Vu(c.id),children:[i.jsxs("span",{className:"background-panel__direction-btn-label",children:[i.jsx("i",{className:c.icon,"aria-hidden":"true"}),c.label]}),i.jsx("small",{children:c.description})]},c.id))}),(ce==null?void 0:ce.supportsAngle)&&i.jsxs("div",{className:"background-panel__slider-block",children:[i.jsxs("div",{className:"background-panel__slider-header",children:[i.jsx("span",{children:"Angle"}),i.jsxs("span",{children:[pA,""]})]}),i.jsx("input",{type:"range",min:"0",max:"360",value:pA,onChange:c=>zu(c.target.value),className:"background-panel__slider","aria-label":"Gradient angle"})]})]})]}):i.jsx("div",{className:"background-panel__section",children:i.jsxs("div",{className:"background-panel__color-field",children:[i.jsx("label",{htmlFor:"solid-color-hex",children:"Hex value"}),i.jsx("div",{className:"background-panel__color-input",children:i.jsx("input",{id:"solid-color-hex",type:"text",value:xe,onChange:c=>Zo(c.target.value),"aria-label":"Solid hex color"})})]})}),i.jsxs("div",{className:"background-panel__section",children:[i.jsx("span",{className:"background-panel__label",children:"Opacity"}),i.jsxs("div",{className:"background-panel__slider-block",children:[i.jsxs("div",{className:"background-panel__slider-header",children:[i.jsx("span",{children:"Background opacity"}),i.jsxs("span",{children:[cA,"%"]})]}),i.jsx("input",{type:"range",min:"0",max:"100",value:cA,onChange:c=>Yu(c.target.value),className:"background-panel__slider background-panel__slider--accent","aria-label":"Background opacity"})]})]}),i.jsxs("div",{className:"background-panel__section",children:[i.jsx("span",{className:"background-panel__label",children:"Recent colors"}),ft.length?i.jsx("div",{className:"background-panel__swatches",role:"list",children:ft.slice(0,8).map(c=>i.jsx("button",{type:"button",className:"background-panel__swatch",style:{background:c},title:c,onClick:()=>Xu(c),"aria-label":`Apply ${c} to ${mA==="solid"?"solid fill":"gradient stop"}`},c))}):i.jsx("div",{className:"background-panel__recent-empty",children:"Pick colors to populate your quick history."})]}),mA==="gradient"?i.jsxs("div",{className:"background-panel__section",children:[i.jsx("span",{className:"background-panel__label",children:"Default gradients"}),i.jsx("div",{className:"background-panel__swatches",role:"list",children:Je.map((c,h)=>i.jsx("button",{type:"button",className:"background-panel__swatch",style:{background:c},title:c,onClick:()=>$u(c),"aria-label":`Apply default gradient ${h+1}`},h))})]}):i.jsxs("div",{className:"background-panel__section",children:[i.jsx("span",{className:"background-panel__label",children:"Default solid colors"}),i.jsx("div",{className:"background-panel__swatches",role:"list",children:Br.map((c,h)=>i.jsx("button",{type:"button",className:"background-panel__swatch",style:{background:c},title:c,onClick:()=>Zu(c),"aria-label":`Apply default solid color ${c}`},h))})]})]})]});case"colors":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Palette Color"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Generate beautiful color palettes and access color tools for your designs."}),Ju({buttonLabel:"Generate Colors",helperInstruction:"Click a swatch to color the selected layer.",onApply:$o,placeholder:"Search palette type (e.g. birthday, pastel, wedding)"})]});case"quotes":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Quotes"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Generate inspirational quotes to add to your design."}),i.jsx("div",{className:"builder-sidebar__provider-note",children:"Quotes powered by ZenQuotes API. Please display attribution when publishing your design."}),i.jsx("div",{className:"builder-sidebar__tool-actions",children:i.jsx("button",{type:"button",className:"tool-action-btn",onClick:()=>rg(""),disabled:ga,children:ga?"Generating...":zt.length>0?"Load More Quotes":"Generate Quotes"})}),!v.current&&i.jsx("div",{className:"builder-sidebar__section",children:i.jsx("div",{className:"builder-sidebar__quote-list",children:Gt.map((c,h)=>i.jsx("button",{type:"button",className:"quote-result-item",onClick:()=>ig(c),title:c,children:i.jsx("div",{className:"quote-content",children:i.jsxs("blockquote",{children:['"',c,'"']})})},h))})}),!v.current&&i.jsx("div",{className:"builder-sidebar__hint",style:{marginBottom:"10px",fontSize:"12px",color:"#666"},children:'Click "Generate Quotes" to get inspirational quotes:'}),zt.length>0?i.jsxs("div",{className:"builder-sidebar__quote-results",children:[zt.map(c=>i.jsx("button",{type:"button",className:"quote-result-item",onClick:()=>ng(c),title:`"${c.content}"  ${c.author}`,children:i.jsxs("div",{className:"quote-content",children:[i.jsxs("blockquote",{children:['"',c.content,'"']}),i.jsxs("cite",{children:[" ",c.author]})]})},c.id)),nt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"quote-loading-indicator",children:[i.jsx("div",{className:`spinner ${ze?"loading":""}`}),i.jsx("span",{children:ze?"Loading more quotes...":"Scroll for more quotes"})]}),i.jsx("div",{className:"load-more-container",children:i.jsx("button",{type:"button",className:"load-more-btn",onClick:ag,disabled:ze,children:ze?"Loading...":"Load More Quotes"})})]})]}):v.current?i.jsx("div",{className:"builder-sidebar__empty-state",children:ga?"Generating quotes...":"No quotes available. Try generating again."}):null]});case"icons":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Icons"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Search for icons from multiple providers."}),i.jsx("div",{className:"builder-sidebar__provider-note",children:"Icons from Simple Icons, IconFinder, Iconify, and Flaticon. Please display attribution when publishing your design."}),i.jsxs("div",{className:"builder-sidebar__search",children:[i.jsx("input",{ref:c=>{Vo.current=c},type:"text",placeholder:"Search for icons...",value:FA,onChange:c=>TA(c.target.value),onKeyDown:c=>c.key==="Enter"&&Yo(c.target.value)}),i.jsx("button",{type:"button",onClick:()=>{var c;return Yo(((c=Vo.current)==null?void 0:c.value)||FA)},disabled:he,children:he?"Searching...":"Search"})]}),ie.length>0?i.jsxs("div",{className:"builder-sidebar__icon-results",children:[ie.map(c=>i.jsxs("button",{type:"button",className:"search-result-thumb",onClick:()=>Ag(c),title:`${c.description} (${c.providerLabel})`,children:[i.jsx("img",{src:c.thumbUrl,alt:c.description,style:{width:64,height:64,objectFit:"contain",backgroundColor:"#fff"},onError:h=>{try{h.target.onerror=null;const b=`<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%23f3f4f6'/><text x='50%' y='50%' font-size='14' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-family='Arial,Helvetica,sans-serif'>${(c.description||"ic").toUpperCase().slice(0,2)}</text></svg>`;h.target.src="data:image/svg+xml;utf8,"+encodeURIComponent(b)}catch{}}}),c.providerLabel!=="Iconify"&&i.jsx("span",{className:"search-result-provider-tag",children:c.providerLabel})]},c.id)),Be&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"icon-loading-indicator",children:[i.jsx("div",{className:`spinner ${XA?"loading":""}`}),i.jsx("span",{children:XA?"Loading more icons...":""})]}),i.jsx("div",{className:"load-more-container",children:i.jsx("button",{type:"button",className:"load-more-btn",onClick:Ou,disabled:XA,children:XA?"Loading...":""})})]})]}):pt.current?i.jsx("div",{className:"builder-sidebar__empty-state",children:he?"Searching for icons...":"No icons found. Try a different search term."}):null]});case"canvas":return i.jsxs("div",{className:"builder-sidebar__content builder-sidebar__content--background",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Canvas Color"}),i.jsx("p",{children:"Adjust the background color without affecting other elements."})]}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsxs("div",{className:"builder-sidebar__section",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("label",{className:"inspector-field",style:{margin:0},children:[i.jsx("span",{className:"inspector-field__label",children:"Background color"}),i.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:BA,onChange:c=>Ke(c.target.value,cA/100),"aria-label":"Canvas background color",style:{width:"100%",maxWidth:"140px"}})]}),i.jsx("input",{type:"text",className:"inspector-field__control",value:xe,onChange:c=>Zo(c.target.value),"aria-label":"Hex color",placeholder:"#FFFFFF"})]})]});case"layers":return i.jsxs("div",{className:"builder-sidebar__content builder-sidebar__content--layers",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Layers"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx(Db,{})]});case"sizes":return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:"Sizes"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsxs("div",{className:"sizes-panel",children:[i.jsx("p",{className:"sizes-panel__subtitle",children:"Select the available sizes for this template. Staff users can choose from these options when creating orders."}),i.jsx("div",{className:"sizes-panel__list",children:JA.sizes.map(c=>i.jsx("div",{className:"sizes-panel__item",children:i.jsxs("label",{className:"sizes-panel__label",children:[i.jsx("input",{type:"checkbox",checked:JA.selectedSizes.includes(c.id),onChange:h=>{h.target.checked?de({type:"SELECT_SIZE",sizeId:c.id}):de({type:"DESELECT_SIZE",sizeId:c.id})},className:"sizes-panel__checkbox"}),i.jsxs("span",{className:"sizes-panel__name",children:[c.size," ",c.type&&`(${c.type})`,c.material&&i.jsxs("small",{className:"sizes-panel__material",children:[c.material.name," ",c.material.type&&`(${c.material.type})`]})]}),c.price&&i.jsxs("span",{className:"sizes-panel__price",children:["$",c.price]})]})},c.id))}),JA.sizes.length===0&&i.jsx("p",{className:"sizes-panel__empty",children:"No sizes available. Add sizes in the admin panel first."})]})]});default:return i.jsxs("div",{className:"builder-sidebar__content",children:[i.jsxs("div",{className:"builder-sidebar__header",children:[i.jsx("h2",{children:((u=yc.find(c=>c.id===t))==null?void 0:u.label)??"Tools"}),i.jsx("button",{type:"button",className:"builder-sidebar-toggle",onClick:e,"aria-label":"Hide sidebar",title:"Hide sidebar",children:i.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})]}),i.jsx("p",{children:"Additional creative resources will appear here soon."}),i.jsx("div",{className:"builder-sidebar__empty-state",children:"Tool-specific controls will render here as the builder matures."})]})}};return i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:`builder-sidebar ${A?"is-collapsed":""}`,"aria-label":"Primary design tools",children:[i.jsxs("div",{className:"builder-sidebar__tabs",role:"tablist","aria-orientation":"vertical",children:[yc.map(u=>i.jsxs("button",{type:"button",role:"tab","aria-selected":t===u.id,className:`builder-sidebar__tab ${t===u.id?"is-active":""}`,onClick:()=>r(u.id),children:[i.jsx("i",{className:u.icon,"aria-hidden":"true"}),i.jsx("span",{children:u.label})]},u.id)),A&&i.jsx("button",{type:"button",className:"builder-sidebar__expand-toggle",onClick:e,"aria-label":"Expand sidebar",title:"Expand sidebar",children:i.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})]}),!A&&i.jsx("div",{className:"builder-sidebar__panel",role:"tabpanel","aria-live":"polite",children:og()})]}),i.jsx("input",{type:"file",id:"image-upload-input",ref:Go,onChange:Ku,accept:"image/*",style:{display:"none"}})]})}var lo=ug();function qb(A){if(!A)return{top:0,right:0,bottom:0,left:0};const e=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const a=parseFloat(r);return Number.isNaN(a)?0:a}return 0},t=e(A.margin??A.all??0);return{top:e(A.top??t),right:e(A.right??t),bottom:e(A.bottom??t),left:e(A.left??t)}}function Lu(A,e,t){const r=t.left,a=e.width-t.right-A.width,n=t.top,s=e.height-t.bottom-A.height;return{...A,x:Math.max(r,Math.min(a,A.x)),y:Math.max(n,Math.min(s,A.y))}}function AC(A,e,t,r){const a=Math.max(0,t.width-r.left-r.right),n=Math.max(0,t.height-r.top-r.bottom),s=Math.min(A,a),o=Math.min(e,n),l=r.left+Math.round((a-s)/2),d=r.top+Math.round((n-o)/2);return{x:l,y:d,width:Math.max(24,s),height:Math.max(24,o),rotation:0}}function eC(A,e,t,r,a){const n=A.x+A.width/2,s=A.y+A.height/2,o={x:Math.round(n-e/2),y:Math.round(s-t/2),width:e,height:t,rotation:A.rotation??0};return Lu(o,r,a)}const tC=[{id:"rectangle",group:"basic",label:"Rectangle",description:"Standard invitation rectangle",preview:"rectangle",variant:"rectangle",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(110,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"square",group:"basic",label:"Square",description:"Even sides for balanced layouts",preview:"square",variant:"rectangle",borderRadius:8,getSize:({page:A,safeInsets:e})=>{const t=Math.min(A.width-e.left-e.right,A.height-e.top-e.bottom),r=Math.max(120,Math.round(t*.55));return{width:r,height:r}}},{id:"circle",group:"basic",label:"Circle",description:"Perfect circular badge or avatar",preview:"circle",variant:"circle",borderRadius:9999,getSize:({page:A,safeInsets:e})=>{const t=Math.min(A.width-e.left-e.right,A.height-e.top-e.bottom),r=Math.max(120,Math.round(t*.5));return{width:r,height:r}}},{id:"oval",group:"basic",label:"Oval",description:"Elongated oval for decorative layouts",preview:"oval",variant:"rectangle",borderRadius:9999,getSize:({page:A,safeInsets:e})=>{const t=A.width-e.left-e.right,r=Math.max(200,Math.round(t*.7)),a=Math.max(110,Math.round(r*.44));return{width:r,height:a}}},{id:"rounded-rectangle",group:"basic",label:"Rounded Rectangle",description:"Rectangle with soft rounded corners",preview:"rounded-rectangle",variant:"rectangle",borderRadius:16,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(100,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"half-circle",group:"basic",label:"Half Circle",description:"Semi-circle for modern accents",preview:"half-circle",variant:"rectangle",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.5)),height:Math.max(90,Math.round((A.height-e.top-e.bottom)*.18))})},{id:"triangle",group:"basic",label:"Triangle",description:"Simple triangle for pointers or accents",preview:"triangle",variant:"polygon",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.4)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"diamond",group:"basic",label:"Diamond (rhombus)",description:"Rhombus shape for badges",preview:"diamond",variant:"polygon",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(120,Math.round((A.width-e.left-e.right)*.38)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.38))})},{id:"scalloped-rectangle",group:"decorative",label:"Scalloped Edge Rectangle",description:"Decorative scalloped border",preview:"scalloped-rectangle",variant:"rectangle",borderRadius:12,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"wavy-edge-rectangle",group:"decorative",label:"Wavy Edge Rectangle",description:"Soft wavy edges for a playful look",preview:"wavy-edge-rectangle",variant:"rectangle",borderRadius:10,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"curved-edge-square",group:"decorative",label:"Curved Edge Square",description:"Square with curved edges",preview:"curved-edge-square",variant:"rectangle",borderRadius:18,getSize:({page:A,safeInsets:e})=>{const t=Math.min(A.width-e.left-e.right,A.height-e.top-e.bottom),r=Math.max(120,Math.round(t*.45));return{width:r,height:r}}},{id:"cloud-shape",group:"decorative",label:"Cloud Shape",description:"Soft cloud-like outline",preview:"cloud-shape",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(200,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(130,Math.round((A.height-e.top-e.bottom)*.44))})},{id:"hexagon",group:"decorative",label:"Hexagon",description:"Geometric hexagon",preview:"hexagon",variant:"polygon",borderRadius:8,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.42))})},{id:"octagon",group:"decorative",label:"Octagon",description:"Eight-sided geometric shape",preview:"octagon",variant:"polygon",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(140,Math.round((A.height-e.top-e.bottom)*.45))})},{id:"heart",group:"decorative",label:"Heart",description:"Romantic heart shape",preview:"heart",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>{const t=Math.min(A.width-e.left-e.right,A.height-e.top-e.bottom),r=Math.max(140,Math.round(t*.45));return{width:r,height:r}}},{id:"star",group:"decorative",label:"Star",description:"Five-pointed star",preview:"star",variant:"polygon",borderRadius:4,getSize:({page:A,safeInsets:e})=>({width:Math.max(130,Math.round((A.width-e.left-e.right)*.38)),height:Math.max(130,Math.round((A.height-e.top-e.bottom)*.38))})},{id:"flower",group:"decorative",label:"Flower / Petal Shape",description:"Petal-style decorative shape",preview:"flower",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(150,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(150,Math.round((A.height-e.top-e.bottom)*.45))})},{id:"bracket-frame",group:"decorative",label:"Bracket Frame",description:"Classic bracket-style frame",preview:"bracket-frame",variant:"frame",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(130,Math.round((A.height-e.top-e.bottom)*.4))})},{id:"ornate-frame",group:"decorative",label:"Ornate Frame",description:"Vintage ornate border",preview:"ornate-frame",variant:"frame",borderRadius:8,getSize:({page:A,safeInsets:e})=>({width:Math.max(200,Math.round((A.width-e.left-e.right)*.65)),height:Math.max(150,Math.round((A.height-e.top-e.bottom)*.45))})},{id:"shield",group:"decorative",label:"Shield Shape",description:"Heraldic shield-style shape",preview:"shield",variant:"polygon",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(150,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(170,Math.round((A.height-e.top-e.bottom)*.5))})},{id:"tag-shape",group:"decorative",label:"Tag Shape",description:"Gift-tag with a notch",preview:"tag-shape",variant:"tag",borderRadius:8,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(90,Math.round((A.height-e.top-e.bottom)*.28))})},{id:"arch-top-rectangle",group:"decorative",label:"Arch Top Rectangle",description:"Rectangle with an arched top",preview:"arch-top-rectangle",variant:"rectangle",borderRadius:18,getSize:({page:A,safeInsets:e})=>({width:Math.max(160,Math.round((A.width-e.left-e.right)*.55)),height:Math.max(110,Math.round((A.height-e.top-e.bottom)*.34))})},{id:"half-arch",group:"decorative",label:"Half Arch",description:"Modern half-arch accent",preview:"half-arch",variant:"rectangle",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.55)),height:Math.max(90,Math.round((A.height-e.top-e.bottom)*.18))})},{id:"gate-fold",group:"folded",label:"Gate Fold",description:"Double door fold layout",preview:"gate-fold",variant:"layout",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(240,Math.round((A.width-e.left-e.right)*.75)),height:Math.max(200,Math.round((A.height-e.top-e.bottom)*.65))})},{id:"tri-fold",group:"folded",label:"Tri-Fold",description:"Three-panel fold",preview:"tri-fold",variant:"layout",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(240,Math.round((A.width-e.left-e.right)*.75)),height:Math.max(200,Math.round((A.height-e.top-e.bottom)*.65))})},{id:"z-fold",group:"folded",label:"Z-Fold",description:"Z-style folding panels",preview:"z-fold",variant:"layout",borderRadius:0,getSize:({page:A,safeInsets:e})=>({width:Math.max(240,Math.round((A.width-e.left-e.right)*.75)),height:Math.max(200,Math.round((A.height-e.top-e.bottom)*.65))})},{id:"pocket-fold",group:"folded",label:"Pocket Fold",description:"Pocket fold for inserts",preview:"pocket-fold",variant:"layout",borderRadius:4,getSize:({page:A,safeInsets:e})=>({width:Math.max(220,Math.round((A.width-e.left-e.right)*.7)),height:Math.max(180,Math.round((A.height-e.top-e.bottom)*.6))})},{id:"tent-fold",group:"folded",label:"Tent Fold",description:"Greeting-card / tent-style",preview:"tent-fold",variant:"layout",borderRadius:4,getSize:({page:A,safeInsets:e})=>({width:Math.max(220,Math.round((A.width-e.left-e.right)*.7)),height:Math.max(180,Math.round((A.height-e.top-e.bottom)*.6))})},{id:"layered-rectangle",group:"folded",label:"Layered Rectangle",description:"Stacked rectangle borders for layered look",preview:"layered-rectangle",variant:"rectangle",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.6)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"butterfly",group:"creative",label:"Butterfly",description:"Delicate butterfly silhouette",preview:"butterfly",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.5)),height:Math.max(130,Math.round((A.height-e.top-e.bottom)*.38))})},{id:"leaf",group:"creative",label:"Leaf",description:"Natural leaf motif",preview:"leaf",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(160,Math.round((A.width-e.left-e.right)*.45)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"balloon",group:"creative",label:"Balloon",description:"Party balloon outline",preview:"balloon",variant:"organic",borderRadius:9999,getSize:({page:A,safeInsets:e})=>({width:Math.max(120,Math.round((A.width-e.left-e.right)*.35)),height:Math.max(150,Math.round((A.height-e.top-e.bottom)*.45))})},{id:"crown",group:"creative",label:"Crown",description:"Royal crown silhouette",preview:"crown",variant:"organic",borderRadius:4,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.4)),height:Math.max(90,Math.round((A.height-e.top-e.bottom)*.28))})},{id:"ticket-shape",group:"creative",label:"Ticket Shape",description:"Event ticket outline",preview:"ticket-shape",variant:"tag",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(160,Math.round((A.width-e.left-e.right)*.5)),height:Math.max(90,Math.round((A.height-e.top-e.bottom)*.28))})},{id:"puzzle-piece",group:"creative",label:"Puzzle Piece",description:"Fun puzzle piece shape",preview:"puzzle-piece",variant:"organic",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(140,Math.round((A.width-e.left-e.right)*.4)),height:Math.max(140,Math.round((A.height-e.top-e.bottom)*.4))})},{id:"envelope-outline",group:"creative",label:"Envelope Outline",description:"Envelope silhouette",preview:"envelope-outline",variant:"rectangle",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(180,Math.round((A.width-e.left-e.right)*.55)),height:Math.max(120,Math.round((A.height-e.top-e.bottom)*.36))})},{id:"ribbon-banner",group:"creative",label:"Ribbon Banner",description:"Decorative ribbon banner",preview:"ribbon-banner",variant:"organic",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(200,Math.round((A.width-e.left-e.right)*.65)),height:Math.max(80,Math.round((A.height-e.top-e.bottom)*.2))})},{id:"polaroid-frame",group:"creative",label:"Polaroid Frame",description:"Photo-style Polaroid frame",preview:"polaroid-frame",variant:"frame",borderRadius:6,getSize:({page:A,safeInsets:e})=>({width:Math.max(170,Math.round((A.width-e.left-e.right)*.5)),height:Math.max(210,Math.round((A.height-e.top-e.bottom)*.62))})}],rC=[{id:"align-left",icon:"fa-solid fa-align-left",label:"Align left",apply:A=>({x:0})},{id:"align-center-horizontal",icon:"fa-solid fa-align-center",label:"Center horizontally",apply:(A,e)=>({x:Math.round((e.width-A.width)/2)})},{id:"align-right",icon:"fa-solid fa-align-right",label:"Align right",apply:(A,e)=>({x:Math.round(e.width-A.width)})},{id:"align-top",icon:"fa-solid fa-arrow-up",label:"Align top",apply:()=>({y:0})},{id:"align-center-vertical",icon:"fa-solid fa-arrows-up-down",label:"Center vertically",apply:(A,e)=>({y:Math.round((e.height-A.height)/2)})},{id:"align-bottom",icon:"fa-solid fa-arrow-down",label:"Align bottom",apply:(A,e)=>({y:Math.round(e.height-A.height)})}],aC=[{value:"left",label:"Left",icon:"fa-solid fa-align-left"},{value:"center",label:"Center",icon:"fa-solid fa-align-center"},{value:"right",label:"Right",icon:"fa-solid fa-align-right"},{value:"justify",label:"Justified",icon:"fa-solid fa-align-justify"}],nC=[{value:"all",label:"All Shapes"},{value:"basic",label:"Basic Shapes"},{value:"decorative",label:"Decorative / Fancy Shapes"},{value:"folded",label:"Folded or Layered Shapes"},{value:"creative",label:"Creative / Themed Shapes"}],iC=["AIzaSyCSdMyA37wm0nt9gJIZSjTrxEHgXwxBMeM","AIzaSyBRCDdZjTcR4brOsHV_OBsDO11We11BVi0".replace("BRCD","BRCD")];function sC(A){return`https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&fields=items(family,category,variants)&key=${A}`}const ku=[{family:"Inter",category:"sans-serif",variants:["400","500","600","700"]},{family:"Poppins",category:"sans-serif",variants:["400","500","600","700"]},{family:"Roboto",category:"sans-serif",variants:["400","500","700"]},{family:"Lato",category:"sans-serif",variants:["400","700"]},{family:"Playfair Display",category:"serif",variants:["400","600"]},{family:"Oswald",category:"sans-serif",variants:["400","500","600"]},{family:"Merriweather",category:"serif",variants:["400","700"]},{family:"Montserrat",category:"sans-serif",variants:["400","500","600"]},{family:"Open Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Source Sans Pro",category:"sans-serif",variants:["300","400","600","700"]},{family:"Raleway",category:"sans-serif",variants:["300","400","600","700"]},{family:"Nunito",category:"sans-serif",variants:["300","400","600","700"]},{family:"PT Sans",category:"sans-serif",variants:["400","700"]},{family:"PT Serif",category:"serif",variants:["400","700"]},{family:"Ubuntu",category:"sans-serif",variants:["300","400","500","700"]},{family:"Rubik",category:"sans-serif",variants:["300","400","500","700"]},{family:"Fira Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Work Sans",category:"sans-serif",variants:["300","400","600","700"]},{family:"Quicksand",category:"sans-serif",variants:["300","400","700"]},{family:"Bebas Neue",category:"display",variants:["400"]},{family:"Bitter",category:"serif",variants:["400","700"]},{family:"Cabin",category:"sans-serif",variants:["400","700"]},{family:"Cormorant Garamond",category:"serif",variants:["400","500","600"]},{family:"Dosis",category:"sans-serif",variants:["300","400","600"]},{family:"EB Garamond",category:"serif",variants:["400","700"]},{family:"Exo 2",category:"sans-serif",variants:["300","400","600","700"]},{family:"Inconsolata",category:"monospace",variants:["400","700"]},{family:"Indie Flower",category:"handwriting",variants:["400"]},{family:"Karla",category:"sans-serif",variants:["400","700"]},{family:"Kanit",category:"sans-serif",variants:["300","400","600","700"]},{family:"Lobster",category:"display",variants:["400"]},{family:"Manrope",category:"sans-serif",variants:["300","400","600","700"]},{family:"Merriweather Sans",category:"sans-serif",variants:["300","400","700"]},{family:"Noto Sans",category:"sans-serif",variants:["400","700"]},{family:"Oxygen",category:"sans-serif",variants:["300","400","700"]},{family:"Play",category:"sans-serif",variants:["400","700"]},{family:"Proza Libre",category:"sans-serif",variants:["400","700"]},{family:"Roboto Slab",category:"serif",variants:["300","400","700"]},{family:"Saira",category:"sans-serif",variants:["300","400","600","700"]},{family:"Titillium Web",category:"sans-serif",variants:["200","400","600","700"]},{family:"Varela Round",category:"sans-serif",variants:["400"]},{family:"Zilla Slab",category:"serif",variants:["400","700"]}],Pn=new Map(ku.map(A=>[A.family,A]));function oC(){var vi,Tr,ze,fa,nt,vt,wr;const{state:A,dispatch:e}=kt(),t=((vi=A.pages)==null?void 0:vi.find(m=>m.id===A.activePageId))??((Tr=A.pages)==null?void 0:Tr[0]);String((ze=A.template)==null?void 0:ze.id);const r=f.useMemo(()=>qb(t==null?void 0:t.safeZone),[t==null?void 0:t.safeZone]),a=f.useMemo(()=>{var m;return t?((m=t.nodes)==null?void 0:m.find(v=>v.id===A.selectedLayerId))??null:null},[t,A.selectedLayerId]),n=(a==null?void 0:a.side)??"front",[s,o]=f.useState(()=>{const m=localStorage.getItem("inspector-panel-width");return m?parseInt(m,10):340}),[l,d]=f.useState(!1),g=f.useRef(null),B=f.useRef(new Set),p=f.useRef(!1),[C,y]=f.useState([]),[Q,Y]=f.useState([]),[x,T]=f.useState(!1),[eA,Z]=f.useState(!1),[M,N]=f.useState(!1),[E,V]=f.useState(""),[R,nA]=f.useState("all"),rA=f.useRef(null),S=f.useRef(null),[U,H]=f.useState(null),I=f.useRef(null),[k,D]=f.useState(!1),[$,iA]=f.useState(""),[xA,L]=f.useState("all"),BA=f.useRef(null),MA=f.useRef(null),[PA,EA]=f.useState(null),[mA,zA]=f.useState(null),[NA,ne]=f.useState(""),[xe,W]=f.useState(()=>{var m;return((m=a==null?void 0:a.fontSize)==null?void 0:m.toString())??"48"}),[F,_]=f.useState(()=>({position:!1,layout:!1,typography:!1,image:!1,appearance:!1,actions:!1}));f.useEffect(()=>{var m;(a==null?void 0:a.fontSize)!==void 0?W(((m=a.fontSize)==null?void 0:m.toString())??"48"):a||W("48")},[a==null?void 0:a.fontSize,a]);const fA=f.useCallback((m,v)=>{const j=ms(m);if(!j||B.current.has(j))return;const q=cC(j,v);if(!q)return;const gA=document.createElement("link");gA.rel="stylesheet",gA.href=q,document.head.appendChild(gA),B.current.add(j)},[]),wA=f.useMemo(()=>{const m=new Map;return C.forEach(v=>{v!=null&&v.family&&m.set(v.family,v)}),m},[C]),aA=f.useMemo(()=>ms((a==null?void 0:a.fontFamily)||""),[a==null?void 0:a.fontFamily]),hA=f.useMemo(()=>wA.get(aA)??Pn.get(aA)??null,[wA,aA]),pA=f.useMemo(()=>{const m=Q.length>0?Q:ku,v=(hA==null?void 0:hA.category)??Qc(a==null?void 0:a.fontFamily),j=(hA==null?void 0:hA.variants)??[],gA=[...aA?[{family:aA,category:v,variants:j}]:[],...m],HA=new Set,LA=[];for(const OA of gA)if(!(!OA||!OA.family)&&!HA.has(OA.family)&&(HA.add(OA.family),LA.push(OA),LA.length>=120))break;return LA},[Q,hA,aA,a==null?void 0:a.fontFamily]),UA=f.useMemo(()=>{const m=new Set;return pA.forEach(v=>{v!=null&&v.category&&m.add(v.category)}),["all",...Array.from(m)]},[pA]),YA=f.useMemo(()=>{const m=E.trim().toLowerCase();return pA.filter(v=>!(v!=null&&v.family)||R!=="all"&&(v.category??"").toLowerCase()!==R.toLowerCase()?!1:m?v.family.toLowerCase().includes(m):!0)},[pA,E,R]),ZA=f.useMemo(()=>{const m=$.trim().toLowerCase();return tC.filter(v=>xA!=="all"&&v.group!==xA?!1:m?v.label.toLowerCase().includes(m)||v.description.toLowerCase().includes(m):!0)},[$,xA]);f.useEffect(()=>{localStorage.setItem("inspector-panel-width",s.toString())},[s]),f.useEffect(()=>{if(!M)return;const m=j=>{j.key==="Escape"&&N(!1)},v=j=>{const q=rA.current,gA=S.current;!q||!gA||!q.contains(j.target)&&!gA.contains(j.target)&&N(!1)};return document.addEventListener("keydown",m),document.addEventListener("mousedown",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousedown",v)}},[M]),f.useEffect(()=>{if(!k)return;const m=j=>{j.key==="Escape"&&D(!1)},v=j=>{const q=BA.current,gA=MA.current;q&&(q.contains(j.target)||gA&&gA.contains(j.target)||D(!1))};return document.addEventListener("keydown",m),document.addEventListener("mousedown",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousedown",v)}},[k]),f.useEffect(()=>{if(!M)return;function m(){if(!(!S.current||!g.current))try{const v=S.current.getBoundingClientRect(),j=g.current.getBoundingClientRect(),q=Math.min(320,Math.max(200,v.width*1.6));let gA=j.left-q-12+window.scrollX,HA=v.top+window.scrollY-6;gA<8&&(gA=j.right+12+window.scrollX);const LA=window.scrollY+window.innerHeight-48;HA>LA&&(HA=Math.max(window.scrollY+8,LA-8)),HA<window.scrollY+8&&(HA=window.scrollY+8),H({top:HA,left:gA,width:q})}catch{}}return m(),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("resize",m),()=>{window.removeEventListener("scroll",m),window.removeEventListener("resize",m)}},[M]),f.useEffect(()=>{if(!k)return;function m(){if(!(!MA.current||!g.current))try{const v=MA.current.getBoundingClientRect(),j=g.current.getBoundingClientRect(),q=Math.min(320,Math.max(200,v.width*1.6));let gA=j.left-q-12+window.scrollX,HA=v.top+window.scrollY-6;gA<8&&(gA=j.right+12+window.scrollX);const LA=window.scrollY+window.innerHeight-48;HA>LA&&(HA=Math.max(window.scrollY+8,LA-8)),HA<window.scrollY+8&&(HA=window.scrollY+8),EA({top:HA,left:gA,width:q})}catch{}}return m(),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("resize",m),()=>{window.removeEventListener("scroll",m),window.removeEventListener("resize",m)}},[k]),f.useEffect(()=>{if(p.current)return;p.current=!0;const m=new AbortController;Z(!0);async function v(){let j=!1;for(const q of iC){if(m.signal.aborted)break;try{const gA=sC(q),HA=await fetch(gA,{signal:m.signal});if(!HA.ok)continue;const LA=await HA.json(),OA=Array.isArray(LA==null?void 0:LA.items)?LA.items.slice(0,250):[];y(OA),Y(OA.slice(0,50)),j=!0;break}catch{if(m.signal.aborted)break;continue}}j||console.error("[InkWise Builder] Failed to load Google Fonts with provided API keys."),m.signal.aborted||Z(!1)}return v(),()=>{m.abort()}},[]);const Ee=f.useCallback(()=>{x||Q.length>=C.length||(T(!0),Y(m=>{const v=C.slice(m.length,m.length+100);return[...m,...v]}),T(!1))},[C,Q.length,x]);f.useEffect(()=>{if(!aA)return;const m=wA.get(aA)??Pn.get(aA);m&&fA(aA,m.variants)},[aA,wA,fA]),f.useEffect(()=>{const m=new Set;A.pages.forEach(v=>{(v.nodes??[]).forEach(j=>{if((j==null?void 0:j.type)==="text"&&j.fontFamily){const q=ms(j.fontFamily);q&&m.add(q)}})}),m.forEach(v=>{const j=wA.get(v)??Pn.get(v);j&&fA(v,j.variants)})},[A.pages,wA,fA]),f.useEffect(()=>{M&&YA.slice(0,24).forEach(m=>{m!=null&&m.family&&fA(m.family,m.variants)})},[M,YA,fA]),f.useEffect(()=>{!M||x||Q.length>=C.length||Q.length<100&&Ee()},[M,Q.length,C.length,x,Ee]);const KA=m=>{d(!0),m.preventDefault()},fe=m=>{if(!l)return;const v=Math.max(280,Math.min(600,window.innerWidth-m.clientX));o(v)},Ae=()=>{d(!1)};if(f.useEffect(()=>(l?(document.addEventListener("mousemove",fe),document.addEventListener("mouseup",Ae),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",Ae),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",Ae),document.body.style.cursor="",document.body.style.userSelect=""}),[l]),!t)return null;const cA=a?Uc(a.frame,t):null,Ge=(a==null?void 0:a.type)==="text",Ze=(a==null?void 0:a.type)==="image",ft=(a==null?void 0:a.type)==="shape",Mt=ft&&!!((fa=a==null?void 0:a.metadata)!=null&&fa.isImageFrame),me=Ze||Mt,ke=!!((nt=a==null?void 0:a.metadata)!=null&&nt.clipContent),ht=!!((vt=a==null?void 0:a.metadata)!=null&&vt.flipHorizontal),Je=!!((wr=a==null?void 0:a.metadata)!=null&&wr.flipVertical);typeof(a==null?void 0:a.fill)=="string"&&a.fill,f.useEffect(()=>{try{A.recentlyUploadedImages&&A.recentlyUploadedImages.length>0&&(console.debug("[Inspector] recentlyUploadedImages count=",A.recentlyUploadedImages.length),A.recentlyUploadedImages.forEach((m,v)=>{console.debug(`[Inspector] recent[${v}]`,m.fileName,(m.dataUrl||"").slice(0,80))}))}catch{}},[A.recentlyUploadedImages]);const Br=()=>{e({type:"ADD_PAGE",page:null})},Gt=m=>{e({type:"SELECT_PAGE",pageId:m})},Me=(m,v)=>{v.stopPropagation(),e({type:"DELETE_PAGE",pageId:m})},Ve=(m,v)=>{zA(m),ne(v)},GA=m=>{ne(m.target.value)},ee=m=>{NA.trim()&&e({type:"UPDATE_PAGE_PROPS",pageId:m,props:{name:NA.trim()}}),zA(null),ne("")},ce=(m,v)=>{m.key==="Enter"?ee(v):m.key==="Escape"&&(zA(null),ne(""))},yA=m=>{if(!a)return;const v={...m};m.metadata&&(v.metadata={...a.metadata??{},...m.metadata}),e({type:"UPDATE_LAYER_PROPS",pageId:t.id,layerId:a.id,props:v})},Te=()=>{yA({visible:a.visible===!1})},Ne=()=>{yA({locked:!a.locked})},Bt=m=>{!a||!t||(yA({side:m}),e({type:"REORDER_LAYER",pageId:t.id,layerId:a.id,direction:m==="front"?"FRONT":"BACK"}))},Ie=m=>{if(!t)return;const v=m.getSize?m.getSize({page:t,safeInsets:r}):{width:200,height:160};if((a==null?void 0:a.type)==="shape"){const j=Uc(a.frame,t),q=eC(j,v.width,v.height,t,r);yA({name:m.label,variant:m.variant??a.variant,borderRadius:m.borderRadius??a.borderRadius,metadata:{...a.metadata??{},...m.metadata??{}},frame:q})}else if(a){const j=ot("shape",t,{name:m.label,variant:m.variant??"rectangle",borderRadius:m.borderRadius??16,metadata:m.metadata??{}});if(j.frame){const q=AC(v.width,v.height,t,r);j.frame=Lu(q,t,r)}e({type:"ADD_LAYER",pageId:t.id,layer:j}),e({type:"SELECT_LAYER",layerId:j.id})}else{const j={id:m.id,variant:m.variant??"rectangle",borderRadius:m.borderRadius??0};e({type:"UPDATE_PAGE_PROPS",pageId:t.id,props:{shape:j}})}D(!1),iA(""),L("all")},dA=m=>v=>{const j=Number.parseFloat(v.target.value);if(!Number.isFinite(j)||!cA)return;const q={...cA,[m]:m==="width"||m==="height"?Math.max(1,j):j};yA({frame:q})},bA=m=>{_(v=>({...v,[m]:!v[m]}))},FA=m=>{if(!Number.isFinite(m))return;const v=ws(m,0,100);yA({opacity:v/100})},TA=m=>{FA(Number.parseInt(m.target.value,10))},ie=m=>{FA(Number.parseInt(m.target.value,10))},De=m=>{yA({fill:m.target.value})},he=m=>{const v=Number.parseInt(m.target.value,10);Number.isFinite(v)&&yA({borderRadius:Math.max(0,v)})},at=f.useRef(null),yt=m=>{if(!a||!t)return;const j=(Number(a.fontSize)||48)*1.2,q=Math.max(1,m.split(`
`).length),gA=16,HA=Math.max(Math.round(q*j+gA),Math.round(j+gA)),LA=a.frame?{...a.frame,height:HA}:null;yA({content:m,...LA?{frame:LA}:{}})},We=m=>{yt(m.target.value)},XA=()=>{if(!a||!t)return;const m=a.content??"",v=m.endsWith(`
`)?m:`${m}
`;yt(v),requestAnimationFrame(()=>{const j=at.current;if(!j)return;const q=v.length;j.focus(),j.setSelectionRange(q,q)})},qe=m=>{const v=m.target.value;W(v);const j=Number.parseInt(v,10);Number.isFinite(j)&&j>=8&&yA({fontSize:j})},Be=m=>{const v=m.target.value,j=(String(v)||"").trim();j&&yA({fontWeight:j})},Re=f.useCallback(m=>{if(!m)return;const v=wA.get(m)??Pn.get(m)??null;v&&fA(m,v.variants);const j=(v==null?void 0:v.category)??Qc(a==null?void 0:a.fontFamily),q=Mu(j),gA=q?`${m}, ${q}`:m;yA({fontFamily:gA})},[wA,a==null?void 0:a.fontFamily,fA,yA]),we=m=>{Re(m),N(!1)},Ft=m=>{V(m.target.value)},pt=m=>{nA(m.target.value)},G=m=>{iA(m.target.value)},se=m=>{L(m.target.value)},be=m=>{var j;const v=typeof m=="string"?m:(j=m==null?void 0:m.target)==null?void 0:j.value;v&&yA({textAlign:v})},ca=()=>{yA({metadata:{clipContent:!ke}})},Lr=m=>{const v=m.target.value;yA({metadata:{objectFit:v}})},pr=()=>{const m={metadata:{brightness:100,contrast:100,saturation:100,flipHorizontal:!1,flipVertical:!1,objectFit:"cover"}};cA&&(m.frame={...cA,rotation:0}),yA(m)},da=m=>()=>{if(!cA)return;const j=((Number.isFinite(cA.rotation)?cA.rotation:0)+m)%360,q=j<0?j+360:j;yA({frame:{...cA,rotation:Math.round(q)}})},mr=m=>()=>{yA(m==="horizontal"?{metadata:{flipHorizontal:!ht}}:{metadata:{flipVertical:!Je}})},At=()=>{var m;a&&((m=I.current)==null||m.click())},rn=m=>{var gA;const v=(gA=m.target.files)==null?void 0:gA[0];if(!v||!a)return;if(!v.type.startsWith("image/")){alert("Please choose an image file."),m.target.value="";return}const j=10*1024*1024;if(v.size>j){alert("Selected image is too large. Please use a file smaller than 10MB."),m.target.value="";return}const q=new FileReader;q.onload=async HA=>{var Qt;const LA=(Qt=HA.target)==null?void 0:Qt.result;if(typeof LA!="string"||!LA.startsWith("data:image/")){alert("Unable to load the selected image. Please try again.");return}const OA=new Image;OA.onload=async()=>{var Ce,Yt,Xt,ha;try{const it=await li(()=>import("./recentImagesDB-CO6kquVm.js"),[]),$t=`recent-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await it.saveImage($t,v.name,v),it.pruneOld(10).catch(()=>{});const Ro=URL.createObjectURL(v);e({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:Ro,fileName:v.name})}catch(it){console.error("Failed to persist recent image:",it),e({type:"ADD_RECENTLY_UPLOADED_IMAGE",dataUrl:LA,fileName:v.name})}if(a.type==="shape"){const it=((Ce=a.metadata)==null?void 0:Ce.placeholderFill)??a.fill??"rgba(148, 163, 184, 0.12)",$t=((Yt=a.metadata)==null?void 0:Yt.placeholderStroke)??a.stroke??"transparent";yA({content:LA,name:v.name||a.name,fill:"transparent",stroke:"transparent",metadata:{objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0,flipHorizontal:!1,flipVertical:!1,isImageFrame:!0,maskVariant:((Xt=a.metadata)==null?void 0:Xt.maskVariant)??((ha=a.shape)==null?void 0:ha.id)??a.variant,placeholderFill:it,placeholderStroke:$t,backgroundImage:""}})}else yA({content:LA,name:v.name||a.name,metadata:{objectFit:"contain",imageScale:1,imageOffsetX:0,imageOffsetY:0}})},OA.onerror=()=>{console.error("Preload failed for data URL"),alert("Uploaded image could not be rendered. Try a different file.")},OA.src=LA},q.onerror=()=>{alert("There was a problem reading the file. Please try again.")},q.readAsDataURL(v),m.target.value=""},mt=()=>{var m,v,j,q;if(a){if(Mt){const gA=((m=a.metadata)==null?void 0:m.placeholderFill)??a.fill??"rgba(148, 163, 184, 0.12)",HA=((v=a.metadata)==null?void 0:v.placeholderStroke)??a.stroke??"transparent";yA({content:"",fill:gA,stroke:HA,metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0,brightness:100,contrast:100,saturation:100,flipHorizontal:!1,flipVertical:!1,isImageFrame:!0,maskVariant:((j=a.metadata)==null?void 0:j.maskVariant)??((q=a.shape)==null?void 0:q.id)??a.variant,backgroundImage:""}}),I.current&&(I.current.value="");return}yA({content:"",metadata:{imageScale:1,imageOffsetX:0,imageOffsetY:0,brightness:100,contrast:100,saturation:100,flipHorizontal:!1,flipVertical:!1}}),I.current&&(I.current.value="")}},Vt=()=>{a&&e({type:"DUPLICATE_LAYER",pageId:t.id,layerId:a.id})},Wt=()=>{a&&e({type:"REMOVE_LAYER",pageId:t.id,layerId:a.id})},an=m=>()=>{if(!a||!cA)return;const v=m(cA,t)??{},j=Math.max(0,t.width-cA.width),q=Math.max(0,t.height-cA.height),gA={...cA,...v};typeof gA.x=="number"&&(gA.x=ws(Math.round(gA.x),0,j)),typeof gA.y=="number"&&(gA.y=ws(Math.round(gA.y),0,q)),yA({frame:gA})},ua=()=>i.jsxs("div",{className:"inspector-panel__group",children:[i.jsxs("div",{className:"inspector-section__header",children:[i.jsx("h3",{children:"Pages"}),i.jsx("button",{type:"button",className:"builder-btn inspector-btn--add",onClick:Br,children:"Add page"})]}),i.jsx("div",{className:"inspector-pages__list",role:"list",children:A.pages.map(m=>{const v=m.id===A.activePageId;return i.jsxs("div",{className:"inspector-pages__item-wrapper",children:[i.jsxs("button",{type:"button",className:`inspector-pages__item ${v?"is-active":""}`,onClick:()=>Gt(m.id),"aria-pressed":v,children:[i.jsx("span",{className:"inspector-pages__thumb","aria-hidden":"true",children:i.jsx("span",{className:"inspector-pages__thumb-page"})}),mA===m.id?i.jsx("input",{type:"text",className:"inspector-pages__label-input",value:NA,onChange:GA,onBlur:ee,onKeyDown:ce,autoFocus:!0}):i.jsx("span",{className:"inspector-pages__label",onClick:()=>Ve(m.id,m.name),style:{cursor:"pointer"},children:m.name})]}),A.pages.length>1&&i.jsx("div",{className:"inspector-pages__item-controls",children:i.jsx("button",{type:"button",className:"inspector-pages__control inspector-pages__control--delete",onClick:j=>Me(m.id,j),"aria-label":`Delete ${m.name}`,title:`Delete ${m.name}`,children:i.jsx("i",{className:"fas fa-trash-alt","aria-hidden":"true"})})})]},m.id)})})]}),No=()=>{const m=F.position;return i.jsxs("div",{className:`inspector-panel__group ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("position"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Position"}),i.jsx("span",{className:"inspector-section__meta",children:"X/Y & rotation"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsx("div",{className:"inspector-alignment",role:"group","aria-label":"Alignment controls",children:rC.map(v=>i.jsx("button",{type:"button",className:"inspector-alignment__action",onClick:an(v.apply),"aria-label":v.label,children:i.jsx("i",{className:v.icon,"aria-hidden":"true"})},v.id))}),i.jsxs("div",{className:"inspector-grid inspector-grid--three",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"X"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:cA.x,onChange:dA("x"),step:"1"})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Y"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:cA.y,onChange:dA("y"),step:"1"})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Rotation"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:cA.rotation,onChange:dA("rotation"),step:"1"})]})]})]})]})},Do=()=>{const m=F.layout,v=!Ge;return i.jsxs("div",{className:`inspector-panel__group ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("layout"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Layout"}),i.jsx("span",{className:"inspector-section__meta",children:"Dimensions & flow"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Width"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:cA.width,onChange:dA("width"),min:"1",step:"1"})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Height"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:cA.height,onChange:dA("height"),min:"1",step:"1"})]})]}),v&&i.jsxs("label",{className:"inspector-toggle",children:[i.jsx("input",{type:"checkbox",checked:ke,onChange:ca}),i.jsx("span",{children:"Clip content"})]})]})]})},zt=()=>{const m=F.appearance,v=Math.round((a.opacity??1)*100),j=Ge?"Text color":"Fill color",q=ft||Ze;return i.jsxs("div",{className:`inspector-panel__group ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("appearance"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Appearance"}),i.jsx("span",{className:"inspector-section__meta",children:"Color & effects"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:j}),i.jsx("input",{type:"color",className:"inspector-field__control inspector-field__control--color",value:dC(a.fill,"#2563eb"),onChange:De,"aria-label":j}),Ge&&i.jsx("span",{className:"inspector-field__description",children:"Adjusts the selected text color."})]}),i.jsxs("div",{className:"inspector-opacity",children:[i.jsxs("label",{className:"inspector-field inspector-opacity__slider",children:[i.jsx("span",{className:"inspector-field__label",children:"Opacity"}),i.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"100",step:"5",value:v,onChange:TA})]}),i.jsxs("label",{className:"inspector-field inspector-opacity__input",children:[i.jsx("span",{className:"inspector-field__label",children:"%"}),i.jsx("input",{type:"number",className:"inspector-field__control",min:"0",max:"100",step:"5",value:v,onChange:ie})]})]}),q&&i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Corner radius"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:a.borderRadius??0,onChange:he,min:"0",step:"1"})]})]})]})},kr=()=>{const m=F.typography,v=(a==null?void 0:a.textAlign)??"center",j=String(a.fontWeight??"400");return i.jsxs("div",{className:`inspector-panel__group ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("typography"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Typography"}),i.jsx("span",{className:"inspector-section__meta",children:eA?"Fetching fonts...":"Text content &amp; styling"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Content"}),i.jsxs("div",{className:"inspector-field__textarea-group",children:[i.jsx("textarea",{ref:at,className:"inspector-field__control inspector-field__control--textarea",value:a.content??"",onChange:We,rows:3,placeholder:"Enter your text here..."}),i.jsx("button",{type:"button",className:"inspector-field__next-btn",onClick:XA,title:"Save current row and move to next","aria-label":"Add next text row",children:"Next"})]})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Font"}),i.jsxs("div",{className:"inspector-font-picker",children:[i.jsxs("button",{type:"button",className:`inspector-field__control inspector-font-picker__trigger${M?" is-open":""}`,onClick:()=>{if(!M&&S.current&&g.current)try{const q=S.current.getBoundingClientRect(),gA=g.current.getBoundingClientRect(),HA=Math.min(320,Math.max(200,q.width*1.6));let LA=gA.left-HA-12+window.scrollX,OA=q.top+window.scrollY-6;LA<8&&(LA=gA.right+12+window.scrollX);const Qt=window.scrollY+window.innerHeight-48;OA>Qt&&(OA=Math.max(window.scrollY+8,Qt-8)),OA<window.scrollY+8&&(OA=window.scrollY+8),H({top:OA,left:LA,width:HA})}catch{H(null)}N(q=>!q)},ref:S,"aria-expanded":M,children:[i.jsxs("span",{className:"inspector-font-picker__preview",children:[i.jsx("span",{className:"inspector-font-picker__preview-name",style:{fontFamily:(a==null?void 0:a.fontFamily)||aA||"Inter, sans-serif"},children:aA||"Select font"}),i.jsx("span",{className:"inspector-font-picker__preview-meta",children:aA?co(hA==null?void 0:hA.category):"Choose a font"})]}),i.jsx("span",{className:"inspector-font-picker__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${M?"fa-chevron-up":"fa-chevron-down"}`})})]}),M&&lo.createPortal(i.jsx(lC,{ref:rA,fonts:YA,categories:UA,categoryValue:R,onCategoryChange:pt,searchTerm:E,onSearchChange:Ft,onSelect:we,isLoading:eA,currentFamily:aA,ensureFontLoaded:fA,loadMoreFonts:Ee,loadingMore:x,style:U?{position:"absolute",top:`${U.top}px`,left:`${U.left}px`,width:`${U.width}px`}:{position:"absolute"}}),document.body)]})]}),i.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Font size"}),i.jsx("input",{type:"number",className:"inspector-field__control",value:xe,onChange:qe,min:"8",step:"1"})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Font weight"}),i.jsxs("select",{className:"inspector-field__control",value:j,onChange:Be,children:[i.jsx("option",{value:"100",children:"Thin"}),i.jsx("option",{value:"200",children:"Extra Light / Ultra Light"}),i.jsx("option",{value:"300",children:"Light"}),i.jsx("option",{value:"400",children:"Regular / Normal"}),i.jsx("option",{value:"500",children:"Medium"}),i.jsx("option",{value:"600",children:"Semi Bold / Demi Bold"}),i.jsx("option",{value:"700",children:"Bold"}),i.jsx("option",{value:"800",children:"Extra Bold / Ultra Bold"}),i.jsx("option",{value:"900",children:"Black / Heavy"}),i.jsx("option",{value:"normal",children:"normal"}),i.jsx("option",{value:"bold",children:"bold"})]})]})]}),i.jsxs("div",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Alignment"}),i.jsx("div",{className:"inspector-segmented",role:"radiogroup","aria-label":"Text alignment",children:aC.map(q=>{const gA=v===q.value;return i.jsxs("button",{type:"button",className:`inspector-segmented__option ${gA?"is-active":""}`,onClick:()=>be(q.value),role:"radio","aria-checked":gA,children:[i.jsx("i",{className:q.icon,"aria-hidden":"true"}),i.jsx("span",{children:q.label})]},q.value)})})]})]})]})},ga=()=>{const m=F.image,v=(a==null?void 0:a.metadata)??{},j=(Ce,Yt=100)=>{const Xt=Number.parseInt(Ce,10);return Number.isFinite(Xt)?Xt:Yt},q=j(v.brightness),gA=j(v.contrast),HA=j(v.saturation),LA=v.objectFit??"cover",OA=Mt?(a==null?void 0:a.content)||v.backgroundImage||"":(a==null?void 0:a.content)||"",Qt=typeof OA=="string"&&OA.length>0;return i.jsxs("div",{className:`inspector-panel__group ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("image"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Image"}),i.jsx("span",{className:"inspector-section__meta",children:"Source & display"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsxs("div",{className:"inspector-field inspector-field--actions inspector-field--wrap",children:[i.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:At,children:"Replace image"}),Qt&&i.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--ghost",onClick:mt,children:"Remove image"})]}),i.jsxs("div",{className:"inspector-grid inspector-grid--two",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Object fit"}),i.jsxs("select",{className:"inspector-field__control",value:LA,onChange:Lr,children:[i.jsx("option",{value:"cover",children:"Cover"}),i.jsx("option",{value:"contain",children:"Contain"}),i.jsx("option",{value:"fill",children:"Fill"}),i.jsx("option",{value:"scale-down",children:"Scale down"})]})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Rotate"}),i.jsxs("div",{className:"inspector-field__inline-actions",children:[i.jsx("button",{type:"button",className:"builder-btn inspector-btn",onClick:da(90),children:"+90"}),i.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--ghost",onClick:pr,children:"Reset image"})]})]})]}),i.jsxs("div",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Flip"}),i.jsxs("div",{className:"inspector-segmented inspector-segmented--compact",role:"group","aria-label":"Flip image",children:[i.jsxs("button",{type:"button",className:`inspector-segmented__option ${ht?"is-active":""}`,onClick:mr("horizontal"),children:[i.jsx("i",{className:"fa-solid fa-arrows-left-right","aria-hidden":"true"}),i.jsx("span",{children:"Horizontal"})]}),i.jsxs("button",{type:"button",className:`inspector-segmented__option ${Je?"is-active":""}`,onClick:mr("vertical"),children:[i.jsx("i",{className:"fa-solid fa-arrows-up-down","aria-hidden":"true"}),i.jsx("span",{children:"Vertical"})]})]})]}),i.jsxs("div",{className:"inspector-grid inspector-grid--three inspector-grid--with-outputs",children:[i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Brightness"}),i.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:q,onChange:Ce=>yA({metadata:{brightness:Number.parseInt(Ce.target.value,10)}})}),i.jsxs("span",{className:"inspector-field__value",children:[q,"%"]})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Contrast"}),i.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:gA,onChange:Ce=>yA({metadata:{contrast:Number.parseInt(Ce.target.value,10)}})}),i.jsxs("span",{className:"inspector-field__value",children:[gA,"%"]})]}),i.jsxs("label",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Saturation"}),i.jsx("input",{type:"range",className:"inspector-field__control inspector-field__control--range",min:"0",max:"200",step:"5",value:HA,onChange:Ce=>yA({metadata:{saturation:Number.parseInt(Ce.target.value,10)}})}),i.jsxs("span",{className:"inspector-field__value",children:[HA,"%"]})]})]}),i.jsxs("div",{className:"inspector-field",children:[i.jsx("span",{className:"inspector-field__label",children:"Image History"}),i.jsxs("div",{className:"inspector-segmented inspector-segmented--compact",role:"group","aria-label":"Navigate image history",children:[i.jsxs("button",{type:"button",className:"inspector-segmented__option",onClick:()=>e({type:"NAVIGATE_IMAGE_HISTORY",layerId:a.id,direction:"BACK"}),title:"Move to previous image state",children:[i.jsx("i",{className:"fa-solid fa-backward","aria-hidden":"true"}),i.jsx("span",{children:"Back"})]}),i.jsxs("button",{type:"button",className:"inspector-segmented__option",onClick:()=>e({type:"NAVIGATE_IMAGE_HISTORY",layerId:a.id,direction:"BACKWARD"}),title:"Move one step back in history",children:[i.jsx("i",{className:"fa-solid fa-chevron-left","aria-hidden":"true"}),i.jsx("span",{children:"Backward"})]}),i.jsxs("button",{type:"button",className:"inspector-segmented__option",onClick:()=>e({type:"NAVIGATE_IMAGE_HISTORY",layerId:a.id,direction:"FORWARD"}),title:"Move one step forward in history",children:[i.jsx("i",{className:"fa-solid fa-chevron-right","aria-hidden":"true"}),i.jsx("span",{children:"Forward"})]}),i.jsxs("button",{type:"button",className:"inspector-segmented__option",onClick:()=>e({type:"NAVIGATE_IMAGE_HISTORY",layerId:a.id,direction:"FRONT"}),title:"Move to latest image state",children:[i.jsx("i",{className:"fa-solid fa-forward","aria-hidden":"true"}),i.jsx("span",{children:"Front"})]})]})]})]})]})},Mr=()=>{const m=F.actions;return i.jsxs("div",{className:`inspector-panel__group inspector-panel__group--actions ${m?"is-collapsed":""}`,children:[i.jsxs("button",{type:"button",className:"inspector-section__header inspector-section__header--toggle",onClick:()=>bA("actions"),"aria-expanded":!m,children:[i.jsxs("span",{className:"inspector-section__title-block",children:[i.jsx("h3",{children:"Layer actions"}),i.jsx("span",{className:"inspector-section__meta",children:"Stacking, visibility & locking"})]}),i.jsx("span",{className:"inspector-section__chevron","aria-hidden":"true",children:i.jsx("i",{className:`fa-solid ${m?"fa-chevron-down":"fa-chevron-up"}`})})]}),!m&&i.jsxs("div",{className:"inspector-section__content",children:[i.jsxs("div",{className:"inspector-field inspector-field--actions inspector-field--wrap",children:[i.jsx("button",{type:"button",className:`builder-btn inspector-btn ${n==="front"?"is-active":""}`,onClick:()=>Bt("front"),children:"Front stack"}),i.jsx("button",{type:"button",className:`builder-btn inspector-btn ${n==="back"?"is-active":""}`,onClick:()=>Bt("back"),children:"Back stack"}),i.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--ghost",onClick:Vt,children:"Duplicate"})]}),i.jsxs("div",{className:"inspector-field inspector-field--actions inspector-field--wrap",children:[i.jsx("button",{type:"button",className:`builder-btn inspector-btn ${a.visible===!1?"is-muted":""}`,onClick:Te,children:a.visible===!1?"Show layer":"Hide layer"}),i.jsx("button",{type:"button",className:`builder-btn inspector-btn ${a.locked?"is-active":""}`,onClick:Ne,children:a.locked?"Unlock layer":"Lock layer"}),i.jsx("button",{type:"button",className:"builder-btn inspector-btn inspector-btn--danger",onClick:Wt,children:"Delete layer"})]})]})]})};return i.jsxs(i.Fragment,{children:[i.jsxs("section",{ref:g,className:"inspector-panel",style:{width:`${s}px`,right:0,top:0,bottom:0,position:"absolute"},"aria-label":"Layer inspector",children:[i.jsxs("header",{className:"inspector-panel__header",children:[i.jsx("h2",{children:"Inspector"}),i.jsx("span",{className:`inspector-chip ${a?"":"inspector-chip--muted"}`,children:a?a.name:"No layer selected"})]}),i.jsxs("div",{className:"inspector-panel__body inspector-panel__body--unified",children:[ua(),a?i.jsxs(i.Fragment,{children:[No(),Do(),Ge&&kr(),me&&ga(),zt(),Mr()]}):i.jsx("p",{className:"inspector-panel__empty",children:"Select a layer on the canvas to adjust its position, layout, and appearance."})]}),i.jsx("div",{className:"inspector-panel__resize-handle",onMouseDown:KA,"aria-label":"Resize inspector panel"}),i.jsx("input",{type:"file",ref:I,onChange:rn,accept:"image/*",style:{display:"none"}})]}),k&&lo.createPortal(i.jsxs("div",{ref:BA,className:"inspector-shape-modal",role:"dialog","aria-label":"Choose a shape",style:PA?{position:"absolute",top:`${PA.top}px`,left:`${PA.left}px`,width:`${PA.width}px`,height:`${PA.height}px`}:{position:"absolute"},children:[i.jsxs("div",{className:"inspector-shape-modal__header",children:[i.jsxs("div",{children:[i.jsx("h4",{children:"Select a shape"}),i.jsx("p",{children:"Search or pick a shape to add or update."})]}),i.jsx("button",{type:"button",className:"inspector-shape-modal__close",onClick:()=>{D(!1),iA(""),L("all")},"aria-label":"Close shape picker",children:i.jsx("span",{"aria-hidden":"true",children:""})})]}),i.jsx("div",{className:"inspector-field inspector-shape-modal__search",children:i.jsx("input",{type:"search",className:"inspector-field__control",value:$,onChange:G,placeholder:"Search shapes","aria-label":"Search shapes",autoFocus:!0})}),i.jsx("div",{className:"inspector-field inspector-shape-modal__filter",children:i.jsx("select",{className:"inspector-field__control",value:xA,onChange:se,"aria-label":"Filter shapes by category",children:nC.map(m=>i.jsx("option",{value:m.value,children:m.label},m.value))})}),i.jsx("div",{className:"inspector-shape-modal__grid",children:ZA.length>0?ZA.map(m=>i.jsxs("button",{type:"button",className:"inspector-shape-modal__item",onClick:()=>Ie(m),children:[i.jsx("span",{className:`inspector-shape-modal__preview inspector-shape-modal__preview--${m.preview}`,"aria-hidden":"true"}),i.jsxs("span",{className:"inspector-shape-modal__info",children:[i.jsx("span",{className:"inspector-shape-modal__name",children:m.label}),i.jsx("span",{className:"inspector-shape-modal__description",children:m.description})]})]},m.id)):i.jsx("div",{className:"inspector-shape-modal__empty",children:"No shapes match your search."})})]}),document.body)]})}const lC=ci.forwardRef(function({fonts:e,categories:t,categoryValue:r,onCategoryChange:a,searchTerm:n,onSearchChange:s,onSelect:o,isLoading:l,currentFamily:d,ensureFontLoaded:g,loadMoreFonts:B,loadingMore:p,style:C},y){const Q=f.useRef(null),Y=f.useRef(null);return f.useEffect(()=>{Q.current&&Q.current.focus()},[]),f.useEffect(()=>{e.slice(0,16).forEach(x=>{x!=null&&x.family&&g(x.family,x.variants)})},[e,g]),f.useEffect(()=>{const x=Y.current;if(!x)return;const T=()=>{const{scrollTop:eA,scrollHeight:Z,clientHeight:M}=x;eA+M>=Z-200&&B()};return x.addEventListener("scroll",T),()=>x.removeEventListener("scroll",T)},[B]),i.jsxs("div",{className:"inspector-font-modal",ref:y,role:"dialog","aria-label":"Choose font",style:C,children:[i.jsxs("div",{className:"inspector-font-modal__header",children:[i.jsx("input",{ref:Q,type:"text",className:"inspector-font-modal__search",placeholder:"Search fonts",value:n,onChange:s,"aria-label":"Search fonts"}),i.jsx("select",{className:"inspector-font-modal__filter",value:r,onChange:a,"aria-label":"Filter fonts by category",children:t.map(x=>i.jsx("option",{value:x,children:x==="all"?"All fonts":co(x)},x))})]}),i.jsxs("div",{className:"inspector-font-modal__list",ref:Y,role:"listbox",children:[l&&e.length===0&&i.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[i.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading fonts..."]}),!l&&e.length===0&&i.jsx("div",{className:"inspector-font-modal__status",children:"No fonts match your search."}),e.map(x=>{const T=Mu(x.category),eA=T?`${x.family}, ${T}`:x.family,Z=d&&x.family.toLowerCase()===d.toLowerCase();return i.jsxs("button",{type:"button",className:`inspector-font-modal__item${Z?" is-active":""}`,onClick:()=>o(x.family),style:{fontFamily:eA},role:"option","aria-selected":Z,children:[i.jsx("span",{className:"inspector-font-modal__item-name",children:x.family}),i.jsx("span",{className:"inspector-font-modal__item-meta",children:co(x.category)})]},x.family)}),p&&i.jsxs("div",{className:"inspector-font-modal__status inspector-font-modal__status--loading",children:[i.jsx("div",{className:"inspector-font-modal__spinner"}),"Loading more fonts..."]})]})]})});function ms(A){return!A||typeof A!="string"?"":A.replace(/["']/g,"").split(",")[0].trim()}function cC(A,e){if(!A)return"";const t=A.trim().replace(/\s+/g,"+");let r="";if(Array.isArray(e)){const a=e.filter(n=>/^\d+$/.test(n));a.length>0&&(r=`:wght@${Array.from(new Set(a)).slice(0,4).join(";")}`)}return`https://fonts.googleapis.com/css2?family=${t}${r}&display=swap`}function Mu(A){switch((A||"").toLowerCase()){case"serif":return"serif";case"monospace":return"monospace";case"handwriting":return"cursive";case"display":return"sans-serif";default:return"sans-serif"}}function Qc(A){if(!A||typeof A!="string")return"sans-serif";const e=A.toLowerCase();return e.includes("mono")?"monospace":e.includes("serif")?"serif":e.includes("script")||e.includes("cursive")||e.includes("handwriting")?"handwriting":"sans-serif"}function co(A){return!A||typeof A!="string"?"Mixed":A.split(/[-_\s]+/).filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function ws(A,e,t){return Number.isFinite(A)?Math.min(Math.max(A,e),t):e}function Uc(A,e){return A&&typeof A=="object"?{x:Fa(A.x),y:Fa(A.y),width:Math.max(1,Fa(A.width??e.width/2)),height:Math.max(1,Fa(A.height??e.height/2.5)),rotation:Fa(A.rotation??0)}:{x:Math.round(e.width*.1),y:Math.round(e.height*.1),width:Math.round(e.width*.6),height:Math.round(e.height*.25),rotation:0}}function dC(A,e="#2563eb"){if(typeof A=="string"){const t=A.trim();if(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(t))return t;if(/^#([a-fA-F0-9]{8})$/.test(t))return`#${t.slice(1,7)}`}return e}function Fa(A){return Number.isFinite(A)?Math.round(A):0}const uC=.25,gC=3,bs=.1,xc=96,Cs=[{label:'A10 invitation (5.88"  9.25")',width:5.88,height:9.25},{label:'A9 invitation (5.63"  8.63")',width:5.63,height:8.63},{label:'A8 invitation (5.38"  7.88")',width:5.38,height:7.88},{label:'A7 invitation (5.13"  7")',width:5.13,height:7},{label:'A6 invitation (4.5"  6.25")',width:4.5,height:6.25},{label:'A2 invitation (4.25"  5.5")',width:4.25,height:5.5},{label:'A1 invitation (3.5"  4.88")',width:3.5,height:4.88},{label:'Square Large invitation (6.75"  6.75")',width:6.75,height:6.75},{label:'A10 Envelope (9.5"  6.5")',width:9.5,height:6.5},{label:'A9 Envelope (9"  6")',width:9,height:6},{label:'A8 Envelope (8"  5.5")',width:8,height:5.5},{label:'A7 Envelope (7.25"  5.25")',width:7.25,height:5.25},{label:'A6 Envelope (6.5"  4.75")',width:6.5,height:4.75},{label:'A2 Envelope (5.75"  4.375")',width:5.75,height:4.375},{label:'A1 Envelope (5"  3.625")',width:5,height:3.625},{label:'Square Large Envelope (7"  7")',width:7,height:7}],fC=[{value:"bifold",label:"Bi-Fold"},{value:"gatefold",label:"Gate-Fold"},{value:"zfold",label:"Z-Fold"}];function hC(){var p;const{state:A,dispatch:e}=kt(),t=Math.round(A.zoom*100),r=A.pages.find(C=>C.id===A.activePageId)??A.pages[0],a=!!A.selectedLayerId,n=C=>{e({type:"UPDATE_ZOOM",value:C})},s=()=>n(A.zoom-bs),o=()=>n(A.zoom+bs),l=()=>n(1),d=C=>{const y=parseInt(C.target.value,10);if(!isNaN(y)&&Cs[y]&&r){const Q=Cs[y],Y=Math.round(Q.width*xc),x=Math.round(Q.height*xc);e({type:"UPDATE_PAGE_PROPS",pageId:r.id,props:{width:Y,height:x}}),e({type:"UPDATE_TEMPLATE_PROPS",props:{width_inch:Q.width,height_inch:Q.height,sizes:[Q]}})}},g=C=>{const y=C.target.value;e({type:"UPDATE_TEMPLATE_PROPS",props:{fold_type:y||null}})},B=C=>{a&&e({type:"ALIGN_SELECTED_LAYER",alignment:C})};return i.jsxs("div",{className:"canvas-toolbar",role:"toolbar","aria-label":"Canvas controls",children:[i.jsxs("div",{className:"canvas-toolbar__group",children:[i.jsxs("div",{className:"canvas-toolbar__page-size",children:[i.jsx("label",{className:"canvas-toolbar__label",children:"Fold Type"}),i.jsxs("select",{className:"canvas-toolbar__select",onChange:g,value:((p=A.template)==null?void 0:p.fold_type)||"","aria-label":"Fold type",children:[i.jsx("option",{value:"",children:"No Fold"}),fC.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))]})]}),i.jsxs("div",{className:"canvas-toolbar__page-size",children:[i.jsx("label",{className:"canvas-toolbar__label",children:"Size"}),i.jsxs("select",{className:"canvas-toolbar__select",onChange:d,"aria-label":"Template size",children:[i.jsx("option",{value:"",children:"Select size"}),Cs.map((C,y)=>i.jsx("option",{value:y,children:C.label},y))]})]})]}),i.jsxs("div",{className:"canvas-toolbar__group",children:[i.jsx("button",{type:"button",onClick:s,className:"builder-btn","aria-label":"Zoom out",children:""}),i.jsx("input",{className:"canvas-toolbar__slider",type:"range",min:uC*100,max:gC*100,step:bs*100,value:t,onChange:C=>n(Number(C.target.value)/100),"aria-label":"Zoom level"}),i.jsx("button",{type:"button",onClick:o,className:"builder-btn","aria-label":"Zoom in",children:"+"})]}),i.jsxs("div",{className:"canvas-toolbar__group",children:[i.jsxs("span",{className:"canvas-toolbar__label",children:[t,"%"]}),i.jsx("button",{type:"button",onClick:l,className:"builder-btn","aria-label":"Reset zoom",children:"Reset"}),i.jsx("button",{type:"button",className:"builder-btn",disabled:!0,"aria-label":"Fit to page",children:"Fit"})]}),i.jsxs("div",{className:"canvas-toolbar__group canvas-toolbar__group--align",children:[i.jsx("span",{className:"canvas-toolbar__label",children:"Align"}),i.jsxs("div",{className:"canvas-toolbar__align-controls",role:"group","aria-label":"Align selection",children:[i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("left"),"aria-label":"Align left",children:"L"}),i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("horizontal-center"),"aria-label":"Align center horizontally",children:"HC"}),i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("right"),"aria-label":"Align right",children:"R"}),i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("top"),"aria-label":"Align top",children:"T"}),i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("vertical-center"),"aria-label":"Align middle vertically",children:"VC"}),i.jsx("button",{type:"button",className:"builder-btn builder-btn--ghost",disabled:!a,onClick:()=>B("bottom"),"aria-label":"Align bottom",children:"B"})]})]})]})}const BC={triangle:"polygon(50% 0%, 0% 100%, 100% 100%)","triangle-equilateral":"polygon(50% 0%, 0% 100%, 100% 100%)","triangle-right":"polygon(0% 0%, 100% 100%, 0% 100%)","triangle-isosceles":"polygon(50% 0%, 10% 100%, 90% 100%)","triangle-scalene":"polygon(15% 10%, 90% 80%, 5% 100%)",diamond:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",hexagon:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",octagon:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",star:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",shield:"polygon(50% 0%, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%)",pentagon:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",parallelogram:"polygon(20% 0%, 100% 0%, 80% 100%, 0% 100%)",trapezoid:"polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%)",rhombus:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",badge:'path("M18 6 L46 6 L54 10 L60 20 L60 44 L54 54 L46 58 L18 58 L10 54 L4 44 L4 20 L10 10 Z")',heptagon:"polygon(50% 0%, 90% 25%, 90% 75%, 50% 100%, 10% 75%, 10% 25%)",hexagram:"polygon(50% 0%, 93.3% 25%, 93.3% 75%, 50% 100%, 6.7% 75%, 6.7% 25%, 50% 50%)",octagram:"polygon(50% 0%, 85.4% 14.6%, 100% 50%, 85.4% 85.4%, 50% 100%, 14.6% 85.4%, 0% 50%, 14.6% 14.6%)","arrow-right":"polygon(0% 20%, 80% 20%, 80% 0%, 100% 50%, 80% 100%, 80% 80%, 0% 80%)","arrow-left":"polygon(100% 20%, 20% 20%, 20% 0%, 0% 50%, 20% 100%, 20% 80%, 100% 80%)","arrow-up":"polygon(20% 100%, 20% 20%, 0% 20%, 50% 0%, 100% 20%, 80% 20%, 80% 100%)","arrow-down":"polygon(20% 0%, 20% 80%, 0% 80%, 50% 100%, 100% 80%, 80% 80%, 80% 0%)","cross-plus":"polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%)","cross-x":"polygon(30% 10%, 40% 20%, 10% 30%, 20% 40%, 30% 50%, 40% 40%, 50% 50%, 60% 40%, 70% 30%, 50% 20%, 60% 10%, 50% 20%)",chevron:"polygon(0% 20%, 30% 0%, 70% 20%, 100% 0%, 100% 30%, 70% 50%, 30% 30%, 0% 50%, 0% 20%)",kite:"polygon(50% 0%, 75% 50%, 50% 100%, 25% 50%)",lightning:"polygon(20% 0%, 30% 0%, 25% 25%, 40% 25%, 20% 60%, 30% 45%, 15% 45%, 25% 25%, 10% 25%)","polygon-custom":"polygon(50% 0%, 93.3% 25%, 93.3% 75%, 50% 100%, 6.7% 75%, 6.7% 25%)"},pC={heart:'path("M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z")',"cloud-shape":"ellipse(60% 40% at 50% 50%)","arch-shape":'path("M0% 100% Q50% 0% 100% 100% Z")',flower:"polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%)",butterfly:"polygon(50% 0%, 70% 20%, 90% 40%, 70% 60%, 50% 80%, 30% 60%, 10% 40%, 30% 20%)",leaf:"polygon(50% 0%, 100% 30%, 90% 70%, 50% 100%, 10% 70%, 0% 30%)",balloon:"ellipse(50% 60% at 50% 50%)",crown:"polygon(50% 0%, 60% 25%, 85% 25%, 75% 50%, 95% 50%, 80% 75%, 100% 75%, 85% 100%, 15% 100%, 0% 75%, 20% 75%, 5% 50%, 25% 50%, 15% 25%, 40% 25%)","puzzle-piece":"polygon(0% 0%, 70% 0%, 70% 30%, 100% 30%, 100% 70%, 70% 70%, 70% 100%, 30% 100%, 30% 70%, 0% 70%)","ribbon-banner":"polygon(0% 0%, 10% 50%, 0% 100%, 100% 100%, 90% 50%, 100% 0%)",blob:'path("M18 8 C30 0 54 6 58 26 C62 46 46 58 30 58 C14 58 6 40 8 26 C10 14 6 16 18 8 Z")',wave:'path("M0 26 Q16 14 32 26 T64 26 L64 64 L0 64 Z")',sun:"circle(50% at 50% 50%)",moon:'path("M44 8 A24 24 0 1 1 20 56 A16 16 0 1 0 44 8 Z")',crescent:'path("M44 8 A24 24 0 1 1 20 56 A16 16 0 1 0 44 8 Z")',"speech-bubble-rounded":'path("M8 16 L8 40 Q8 48 16 48 L40 48 Q48 48 48 40 L48 16 Q48 8 40 8 L32 8 L28 0 L24 8 L16 8 Q8 8 8 16 Z")',"speech-bubble-oval":'path("M16 8 Q8 8 8 16 L8 32 Q8 40 16 40 L32 40 Q40 40 40 32 L40 16 Q40 8 32 8 L24 8 L28 0 L20 0 L24 8 Z")',spiral:'path("M32 32 Q40 32 40 24 Q40 16 48 16 Q56 16 56 24 Q56 32 48 32 Q40 32 40 40 Q40 48 32 48 Q24 48 24 40 Q24 32 32 32 Z")',teardrop:'path("M32 8 Q48 8 48 24 Q48 40 32 56 Q16 40 16 24 Q16 8 32 8 Z")',gear:'path("M32 4 L36 12 L44 8 L40 16 L48 20 L40 24 L44 32 L36 28 L32 36 L28 28 L20 32 L24 24 L16 20 L24 16 L20 8 L28 12 Z")'},mC={"polaroid-frame":'path("M12 8 H52 V48 H40 V58 H24 V48 H12 Z")',"film-strip-frame":'path("M10 16 L18 8 H46 L54 16 V48 L46 56 H18 L10 48 Z")',"torn-paper-frame":'path("M8 16 L16 8 L26 18 L36 10 L46 20 L56 12 L58 18 V50 L46 46 L36 54 L26 46 L16 52 L8 46 Z")',"curved-corner-frame":'path("M18 12 Q12 12 12 18 V52 Q12 58 18 58 H36 Q42 58 42 62 H52 Q58 62 58 56 V22 Q58 16 52 16 H42 Q36 16 36 12 Z")',"scalloped-frame":'path("M16 12 C18 8 22 8 24 12 C26 16 30 16 32 12 C34 8 38 8 40 12 C42 16 46 16 48 12 C50 8 54 8 56 12 V52 C54 56 50 56 48 52 C46 48 42 48 40 52 C38 56 34 56 32 52 C30 48 26 48 24 52 C22 56 18 56 16 52 Z")',"collage-frame":'path("M12 12 H52 V52 H12 Z")',"camera-frame":'path("M12 24 H20 L24 16 H40 L44 24 H52 V52 H12 Z")',"ribbon-frame":'path("M10 22 L22 12 H42 L54 22 V48 H42 V56 H22 V48 H10 Z")'},wC={"tag-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)","ticket-shape":"polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%)"};function bC(A){return typeof A=="number"&&Number.isFinite(A)?`${A}px`:typeof A=="string"?A:0}function On(A){const e=A||"none";return{clipPath:e,WebkitClipPath:e}}function Za(A){if(!A||typeof A!="object")return{};const{variant:e,id:t,borderRadius:r}=A;switch(e){case"circle":return{borderRadius:"50%",overflow:"hidden"};case"polygon":return{overflow:"hidden",...On(BC[t])};case"organic":return{overflow:"hidden",...On(pC[t])};case"tag":return{overflow:"hidden",...On(wC[t])};case"frame":case"layout":case"rectangle":default:{const a=mC[t];return a?{overflow:"hidden",...On(a)}:{borderRadius:bC(r),overflow:"hidden"}}}}function CC(A){const e=Za(A),t={};return e.borderRadius!==void 0&&(t.borderRadius=e.borderRadius),e.clipPath&&(t.clipPath=e.clipPath),e.WebkitClipPath&&(t.WebkitClipPath=e.WebkitClipPath),t}function yC(A,e,t,r=96){if(!A||!e||!t)return[{width:e*r,height:t*r}];const a=e*r,n=t*r;switch(A){case"bifold":return[{width:a,height:n},{width:a,height:n}];case"gatefold":return[{width:a/2,height:n},{width:a,height:n},{width:a/2,height:n}];case"zfold":return[{width:a,height:n},{width:a,height:n},{width:a,height:n}];default:return[{width:a,height:n}]}}function Ec(A){if(!A)return{top:0,right:0,bottom:0,left:0};const e=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const a=parseFloat(r);return Number.isNaN(a)?0:a}return 0},t=e(A.margin??A.all??0);return{top:e(A.top??t),right:e(A.right??t),bottom:e(A.bottom??t),left:e(A.left??t)}}function Ic(A,e,t){const r=t.left,a=e.width-t.right-A.width,n=t.top,s=e.height-t.bottom-A.height;return{...A,x:Math.max(r,Math.min(a,A.x)),y:Math.max(n,Math.min(s,A.y))}}const FC=["background","page background","page-background","bg","backdrop","base layer"],vC="rgba(148, 163, 184, 0.16)",QC="rgba(148, 163, 184, 0.28)";function UC(A,e,t){if(!A)return!1;const r=e>=A.x&&e<=A.x+A.width,a=t>=A.y&&t<=A.y+A.height;return r&&a}function xC(A,e){return!A||!e?!1:A.x<e.x+e.width&&A.x+A.width>e.x&&A.y<e.y+e.height&&A.y+A.height>e.y}function uo(A,e){if(A!=null){if(typeof A=="string"){e.push(A.toLowerCase());return}if(Array.isArray(A)){A.forEach(t=>uo(t,e));return}typeof A=="object"&&Object.values(A).forEach(t=>uo(t,e))}}function _c(A){if(!A||typeof A!="object")return 1;const e=A.metadata??{},t=typeof A.name=="string"?A.name.toLowerCase():"",r=[];return uo(e,r),FC.some(n=>n?t.includes(n)?!0:r.some(s=>s.includes(n)):!1)||A.type==="background"?0:1}function EC(A){const e=(A==null?void 0:A.metadata)??{},t=["zIndex","z_index","stackIndex","stack_index","order","sortOrder","sort_order"];for(const r of t)if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];if(typeof a=="number"&&Number.isFinite(a))return a;if(typeof a=="string"){const n=Number.parseFloat(a);if(Number.isFinite(n))return n}}return null}function Ho({page:A,canvasRef:e}){var zA,NA,ne,xe;const{state:t,dispatch:r}=kt(),a=f.useRef(null),n=f.useRef(null),s=f.useRef(null),o=f.useRef(null),[l,d]=f.useState(null),[g,B]=f.useState(null),[p,C]=f.useState(null),[y,Q]=f.useState(1),Y=t.zoom??1,x=t.panX??0,T=t.panY??0,eA=t.selectedLayerId,Z=(zA=t.template)==null?void 0:zA.fold_type,M=((NA=t.template)==null?void 0:NA.width_inch)||5,N=((ne=t.template)==null?void 0:ne.height_inch)||7,E=f.useMemo(()=>yC(Z,M,N),[Z,M,N]),V=E.reduce((W,F)=>W+F.width,0),R=((xe=E[0])==null?void 0:xe.height)||400;if(f.useEffect(()=>{const W=()=>{if(o.current){const F=o.current.getBoundingClientRect(),_=F.width-40,fA=F.height-40,wA=_/V,aA=fA/R,hA=Math.min(wA,aA,1);Q(hA)}};return W(),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[V,R]),!A)return null;const nA=W=>{r({type:"SELECT_LAYER",layerId:W})},rA=W=>{var ZA,Ee;const F=t.pages.find(KA=>KA.id===A.id)??A;if(!F||!Array.isArray(F.nodes))return;const _=F.nodes.find(KA=>KA.id===W);if(!_||_.locked||_.type!=="image")return;const fA=_.frame,wA=typeof _.content=="string"?_.content.trim():"";if(!fA||!wA)return;const aA=fA.x+(fA.width??0)/2,hA=fA.y+(fA.height??0)/2,pA=[...F.nodes].reverse().find(KA=>!KA||KA.id===_.id||KA.type!=="shape"||KA.locked||!KA.metadata||!KA.metadata.isImageFrame||!KA.frame?!1:UC(KA.frame,aA,hA)||xC(KA.frame,fA));if(!pA)return;const UA=pA.metadata??{},YA={...UA,isImageFrame:!0,maskVariant:UA.maskVariant??((ZA=pA.shape)==null?void 0:ZA.id)??pA.variant??"rectangle",placeholderFill:UA.placeholderFill??vC,placeholderStroke:UA.placeholderStroke??QC,placeholderLabel:UA.placeholderLabel??"Add image",placeholderIcon:UA.placeholderIcon??"fa-solid fa-image",objectFit:"cover",imageScale:1,imageOffsetX:0,imageOffsetY:0,flipHorizontal:!1,flipVertical:!1,attribution:UA.attribution??((Ee=_.metadata)==null?void 0:Ee.attribution)??_.name??""};r({type:"UPDATE_LAYER_PROPS",pageId:F.id,layerId:pA.id,props:{content:wA,fill:"transparent",stroke:"transparent",metadata:YA}}),r({type:"REMOVE_LAYER",pageId:F.id,layerId:_.id}),r({type:"SELECT_LAYER",layerId:pA.id})},S=W=>{if(W.target.closest(".canvas-layer"))return;const F=W.pointerId;n.current={pointerId:F,start:{x:W.clientX,y:W.clientY},startPan:{x,y:T}};try{W.currentTarget.setPointerCapture(F)}catch{}W.preventDefault()},U=W=>{const F=n.current;if(!F||W.pointerId!==F.pointerId)return;const _=W.clientX-F.start.x,fA=W.clientY-F.start.y,wA=F.startPan.x+_,aA=F.startPan.y+fA;r({type:"UPDATE_PAN",panX:wA,panY:aA})},H=W=>{const F=n.current;if(!(!F||W.pointerId!==F.pointerId)){try{W.currentTarget.releasePointerCapture(F.pointerId)}catch{}n.current=null}},I=(W,F,_)=>{if(F.locked)return;r({type:"BEGIN_LAYER_TRANSFORM"}),d(F.id);const fA=W.pointerId;a.current={pointerId:fA,layerId:F.id,start:{x:W.clientX,y:W.clientY},startFrame:{..._}};try{W.currentTarget.setPointerCapture(fA)}catch{}W.preventDefault()},k=W=>{const F=a.current;if(F&&W.pointerId===F.pointerId){const wA=(W.clientX-F.start.x)/Y,aA=(W.clientY-F.start.y)/Y,hA={x:F.startFrame.x+wA,y:F.startFrame.y+aA,width:F.startFrame.width,height:F.startFrame.height,rotation:F.startFrame.rotation??0},pA=Ic(hA,A,L);r({type:"UPDATE_LAYER_FRAME",pageId:A.id,layerId:F.layerId,frame:pA,trackHistory:!1});return}const _=s.current;if(_&&W.pointerId===_.pointerId){iA(W);return}const fA=n.current;if(fA&&W.pointerId===fA.pointerId){const wA=W.clientX-fA.start.x,aA=W.clientY-fA.start.y,hA=fA.startPan.x+wA,pA=fA.startPan.y+aA;r({type:"UPDATE_PAN",panX:hA,panY:pA})}},D=W=>{const F=a.current;if(!(!F||W.pointerId!==F.pointerId)){try{W.currentTarget.releasePointerCapture(F.pointerId)}catch{}if(W.type!=="pointercancel"){rA(F.layerId);try{const _=t.pages.find(hA=>hA.id===A.id)??A,fA=_.nodes.find(hA=>hA.id===F.layerId),wA=(fA==null?void 0:fA.frame)??F.startFrame;wA&&(wA.x!==F.startFrame.x||wA.y!==F.startFrame.y)&&r({type:"UPDATE_LAYER_FRAME",pageId:_.id,layerId:F.layerId,frame:wA})}catch{}}a.current=null,d(null)}},$=(W,F,_,fA)=>{if(F.locked)return;W.stopPropagation(),r({type:"BEGIN_LAYER_TRANSFORM"}),B(F.id);const wA=W.pointerId,aA=W.currentTarget;s.current={pointerId:wA,layerId:F.id,corner:fA,start:{x:W.clientX,y:W.clientY},startFrame:{..._},hasMoved:!1,captureTarget:aA};try{aA.setPointerCapture(wA)}catch(hA){console.warn("Failed to capture pointer for resize:",hA)}W.preventDefault()},iA=W=>{const F=s.current;if(!F||W.pointerId!==F.pointerId)return;const _=F.start.x+8,fA=F.start.y+8,wA=(W.clientX-_)/Y,aA=(W.clientY-fA)/Y,hA=3,pA=Math.abs(wA*Y)>hA||Math.abs(aA*Y)>hA;if(!F.hasMoved&&pA&&(F.hasMoved=!0),!F.hasMoved)return;let UA={...F.startFrame};switch(F.corner){case"nw":UA.width=Math.max(20,F.startFrame.width-wA),UA.height=Math.max(20,F.startFrame.height-aA),UA.x=F.startFrame.x+(F.startFrame.width-UA.width),UA.y=F.startFrame.y+(F.startFrame.height-UA.height);break;case"ne":UA.width=Math.max(20,F.startFrame.width+wA),UA.height=Math.max(20,F.startFrame.height-aA),UA.y=F.startFrame.y+(F.startFrame.height-UA.height);break;case"sw":UA.width=Math.max(20,F.startFrame.width-wA),UA.height=Math.max(20,F.startFrame.height+aA),UA.x=F.startFrame.x+(F.startFrame.width-UA.width);break;case"se":UA.width=Math.max(20,F.startFrame.width+wA),UA.height=Math.max(20,F.startFrame.height+aA);break}r({type:"UPDATE_LAYER_FRAME",pageId:A.id,layerId:F.layerId,frame:Ic(UA,A,L),trackHistory:!1})},xA=W=>{const F=s.current;if(!(!F||W.pointerId!==F.pointerId)){if(F.captureTarget)try{F.captureTarget.releasePointerCapture(F.pointerId)}catch(_){console.warn("Failed to release pointer capture:",_)}F.hasMoved?r({type:"COMMIT_LAYER_TRANSFORM"}):r({type:"CANCEL_LAYER_TRANSFORM"}),s.current=null,B(null)}},L=Ec(A.safeZone),BA=Ec(A.bleed),MA=f.useMemo(()=>{const W=A.width-L.left-L.right,F=A.height-L.top-L.bottom;return{left:L.left,right:L.left+Math.max(0,W),top:L.top,bottom:L.top+Math.max(0,F)}},[A.width,A.height,L.left,L.right,L.top,L.bottom]),PA=A.shape??null;f.useMemo(()=>Za(PA),[PA]);const mA=f.useMemo(()=>Array.isArray(A.nodes)?A.nodes.map((W,F)=>({layer:W,originalIndex:F,priority:_c(W),explicitStackIndex:EC(W)})).sort((W,F)=>{if(W.priority!==F.priority)return W.priority-F.priority;const _=Number.isFinite(W.explicitStackIndex)?W.explicitStackIndex:W.originalIndex,fA=Number.isFinite(F.explicitStackIndex)?F.explicitStackIndex:F.originalIndex;return _!==fA?_-fA:W.originalIndex-F.originalIndex}):[],[A.nodes]);return i.jsx("section",{className:"canvas-viewport",id:"canvas-viewport","aria-label":"Template canvas",ref:o,children:i.jsx("div",{className:"canvas-viewport__surface",role:"img","aria-label":`Design surface for ${A.name}`,onPointerDown:S,onPointerMove:U,onPointerUp:H,onPointerCancel:H,children:i.jsx("div",{className:"canvas-viewport__stage",style:IC(Y,{width:V,height:R},x,T),children:i.jsx("div",{className:"fold-container",style:{display:"flex",width:V,height:R,background:A.background||"#ffffff",transform:y<1?`scale(${y})`:void 0,transformOrigin:"top left"},onClick:()=>nA(null),"data-zoom":Y,ref:e??null,children:E.map((W,F)=>i.jsxs("div",{className:"panel",style:{width:W.width,height:W.height,borderRight:F<E.length-1?"2px dashed #94a3b8":"none",position:"relative"},children:[i.jsx("div",{className:"canvas-viewport__grid","aria-hidden":"true"}),i.jsx("div",{className:"canvas-viewport__bleed",style:Sc(BA),"aria-hidden":"true"}),i.jsx("div",{className:"canvas-viewport__safe-zone",style:Sc(L),"aria-hidden":"true"}),mA.length===0&&F===0&&i.jsxs("div",{className:"canvas-viewport__empty-state",children:[i.jsx("h2",{children:"Canvas ready"}),i.jsx("p",{children:"Start by selecting a tool on the left. You can add live text, image placeholders, or vector shapes."})]}),mA.map(({layer:_,originalIndex:fA,explicitStackIndex:wA},aA)=>{var we,Ft,pt;const hA=SC(_,fA,A),pA=_.id===eA,UA=_.visible===!1,YA=_.locked===!0,ZA=_.type==="text",Ee=_.type==="image",KA=_.type==="shape",fe=_.id===l,Ae=(_==null?void 0:_.metadata)??{},cA=typeof Ae.objectFit=="string"?Ae.objectFit:"cover",Ge=Number(Ae.imageScale),Ze=Number.isFinite(Ge)?ys(Ge,.25,4):1,ft=Number(Ae.imageOffsetX),Mt=Number(Ae.imageOffsetY),me=Number.isFinite(ft)?ys(ft,-500,500):0,ke=Number.isFinite(Mt)?ys(Mt,-500,500):0,ht=!!Ae.flipHorizontal,Je=!!Ae.flipVertical,Br=ht?-Ze:Ze,Gt=Je?-Ze:Ze,Me=_.id===g,Ve=Ae.maskVariant??((we=_.shape)==null?void 0:we.id)??_.variant,GA=KA&&!!Ae.isImageFrame,ee=Ee?_.content:GA&&(_.content||Ae.backgroundImage)||"",ce=typeof ee=="string"?ee.trim():"",yA=!!(ce&&(ce.startsWith("data:")||ce.startsWith("blob:")||/^https?:/i.test(ce))),Te=yA?ce:null,Ne=Ee||GA,Bt=KA?_.shape??{id:Ve,variant:_.variant,borderRadius:_.borderRadius}:null,Ie=KA?Za(Bt):null;if(Bt&&Bt.id==="arch-shape"&&Ie){const G=Math.max(hA.width,1),se=Math.max(hA.height,1),be=G/2,ca=Math.max(1,Math.min(se,be)),Lr=ca,pr=se,da=`path("M0 ${pr} L0 ${Lr} A ${be} ${ca} 0 0 1 ${G} ${Lr} L ${G} ${pr} Z")`;Ie.clipPath=da,Ie.WebkitClipPath=da}const dA=Number.isFinite(wA)?wA:aA,bA=Math.max(2,Math.round(10+dA)),FA=_c(_)===0,TA=_C(_,hA,{hidden:UA,opacity:_.opacity,isSelected:pA,zIndex:FA?0:bA}),ie={...TA,pointerEvents:FA?"none":TA.pointerEvents},he=!(hA.x>=MA.left&&hA.y>=MA.top&&hA.x+hA.width<=MA.right&&hA.y+hA.height<=MA.bottom),at=p===_.id,yt=at||pA,We=[];ZA&&(_.fontFamily&&We.push(_.fontFamily.split(",")[0]),_.fontSize&&We.push(`${Math.round(_.fontSize)}px`),_.textAlign&&We.push(_.textAlign));const XA=[];if(Ne&&yA){const G=_.metadata||{},se=G.naturalWidth||G.originalWidth,be=G.naturalHeight||G.originalHeight;Number.isFinite(se)&&Number.isFinite(be)&&XA.push(`${se}${be}px`),Number.isFinite(G.dpi)&&XA.push(`${Math.round(G.dpi)} dpi`),XA.push(cA)}const qe=((Ft=_.metadata)==null?void 0:Ft.previewKey)??_.id,Be=typeof((pt=_.metadata)==null?void 0:pt.previewLabel)=="string"&&_.metadata.previewLabel.trim()||typeof _.name=="string"&&_.name.trim()||"Layer",Re=["canvas-layer",pA?"is-selected":"",UA?"is-hidden":"",YA?"is-locked":"",ZA?"is-text":"",Ne?"is-image":"",fe?"is-dragging":"",Me?"is-resizing":"",at?"is-hovered":"",he?"is-outside-safe":""].filter(Boolean).join(" ");return i.jsxs("div",{className:`${Re}${FA?" is-background":""}`,style:ie,role:FA?void 0:"button",tabIndex:FA?-1:0,"aria-hidden":FA||void 0,onClick:G=>{FA||(G.stopPropagation(),nA(_.id))},onPointerDown:G=>{if(!FA){try{G.stopPropagation()}catch{}G.target.classList.contains("canvas-layer__resize-handle")||G.target.closest(".canvas-layer__resize-handle")||(nA(_.id),I(G,_,hA))}},onPointerMove:k,onPointerUp:G=>{xA(G),D(G)},onPointerCancel:G=>{xA(G),D(G)},onPointerEnter:()=>C(_.id),onPointerLeave:()=>{C(G=>G===_.id?null:G)},onKeyDown:G=>{FA||(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),nA(_.id))},"aria-label":`${_.name} layer`,"aria-pressed":pA,"data-layer-id":_.id,"data-preview-node":_.id,"data-preview-key":qe,"data-preview-label":Be,"data-changeable":Ne?"image":void 0,"data-safe-state":he?"warning":"ok",children:[ZA&&i.jsx("div",{className:"canvas-layer__text","data-preview-node":_.id,"data-preview-key":qe,"data-preview-label":Be,style:{color:_.fill||"#0f172a",fontSize:_.fontSize?`${_.fontSize}px`:void 0,fontFamily:`${_.fontFamily}, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`,fontWeight:_.fontWeight??void 0,textAlign:_.textAlign??"center"},children:_.content||"Add your text"}),Ne&&i.jsx("div",{className:GA?`canvas-shape-frame${yA?"":" is-empty"}`:void 0,"data-preview-key":qe,"data-preview-label":Be,style:{width:"100%",height:"100%",position:"relative",overflow:"hidden",background:GA&&!yA?_.fill||"rgba(148, 163, 184, 0.18)":"transparent",...GA&&Ie?Ie:{}},children:yA?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:Te,alt:_.name||"Shape image",className:"canvas-layer__image","data-preview-node":_.id,"data-preview-key":qe,"data-preview-label":Be,"data-changeable":"image",draggable:!1,onDragStart:G=>G.preventDefault(),style:{width:"100%",height:"100%",objectFit:cA,borderRadius:GA?0:_.borderRadius??0,display:"block",transform:`translate(${me}px, ${ke}px) scale(${Br}, ${Gt})`,transformOrigin:"center",boxShadow:fe?"0 8px 24px rgba(59,130,246,0.18)":void 0,outline:fe?"2px solid rgba(59,130,246,0.28)":void 0},onError:G=>{var be;console.error("Failed to load image:",(Te==null?void 0:Te.substring(0,100))+"..."),G.target.style.display="none";const se=(be=G.target.parentElement)==null?void 0:be.querySelector(".image-error");se&&(se.style.display="flex")},onLoad:G=>{var be;console.log("Image loaded successfully:",_.name),G.target.style.display="block";const se=(be=G.target.parentElement)==null?void 0:be.querySelector(".image-error");se&&(se.style.display="none")}}),pA&&i.jsx("div",{className:`canvas-layer__crop-overlay${Me?" is-active":""}`,"aria-hidden":"true"}),i.jsxs("div",{className:"image-error",style:{display:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.4rem",fontSize:"0.8rem",color:"rgba(239, 68, 68, 0.8)",textAlign:"center",padding:"0.5rem",background:"rgba(255, 255, 255, 0.9)",borderRadius:"4px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[i.jsx("span",{children:""}),i.jsx("p",{children:"Failed to load image"})]})]}):GA&&i.jsxs("div",{className:"canvas-shape-frame__placeholder",children:[i.jsx("i",{className:"fa-solid fa-image","aria-hidden":"true"}),i.jsx("span",{children:"Add image"})]})}),KA&&!GA&&i.jsx("div",{className:"canvas-shape-frame",style:{width:"100%",height:"100%",background:_.fill||"rgba(37, 99, 235, 0.12)",...Ie??{}}}),pA&&(Ne&&yA||ZA||KA)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--nw",onPointerDown:G=>{G.stopPropagation(),$(G,_,hA,"nw")},onClick:G=>G.stopPropagation(),style:{position:"absolute",top:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"nw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:G=>{G.currentTarget.style.transform="scale(1.2)",G.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:G=>{G.currentTarget.style.transform="scale(1)",G.currentTarget.style.backgroundColor="#3b82f6"},children:i.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),i.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--ne",onPointerDown:G=>{G.stopPropagation(),$(G,_,hA,"ne")},onClick:G=>G.stopPropagation(),style:{position:"absolute",top:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"ne-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:G=>{G.currentTarget.style.transform="scale(1.2)",G.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:G=>{G.currentTarget.style.transform="scale(1)",G.currentTarget.style.backgroundColor="#3b82f6"},children:i.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),i.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--sw",onPointerDown:G=>{G.stopPropagation(),$(G,_,hA,"sw")},onClick:G=>G.stopPropagation(),style:{position:"absolute",bottom:"-8px",left:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"sw-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:G=>{G.currentTarget.style.transform="scale(1.2)",G.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:G=>{G.currentTarget.style.transform="scale(1)",G.currentTarget.style.backgroundColor="#3b82f6"},children:i.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})}),i.jsx("div",{className:"canvas-layer__resize-handle canvas-layer__resize-handle--se",onPointerDown:G=>{G.stopPropagation(),$(G,_,hA,"se")},onClick:G=>G.stopPropagation(),style:{position:"absolute",bottom:"-8px",right:"-8px",width:"16px",height:"16px",backgroundColor:"#3b82f6",border:"2px solid #ffffff",borderRadius:"3px",cursor:"se-resize",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transition:"all 0.1s ease",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:G=>{G.currentTarget.style.transform="scale(1.2)",G.currentTarget.style.backgroundColor="#1d4ed8"},onMouseLeave:G=>{G.currentTarget.style.transform="scale(1)",G.currentTarget.style.backgroundColor="#3b82f6"},children:i.jsx("div",{style:{width:"4px",height:"4px",backgroundColor:"#ffffff",borderRadius:"1px",opacity:.8,pointerEvents:"none"}})})]}),yt&&(ZA||Ne)&&i.jsxs("div",{className:`canvas-layer__meta${he?" has-warning":""}`,"aria-hidden":"true",children:[i.jsx("span",{className:"canvas-layer__meta-primary",children:ZA?We.filter(Boolean).join("  ")||"Text layer":XA.filter(Boolean).join("  ")||"Image layer"}),he&&i.jsx("span",{className:"canvas-layer__meta-warning",children:"Outside safe zone"})]})]},_.id)})]},F))})})})})}Ho.propTypes={page:kA.shape({id:kA.string.isRequired,name:kA.string.isRequired,width:kA.number.isRequired,height:kA.number.isRequired,nodes:kA.array}).isRequired,canvasRef:kA.shape({current:kA.any})};Ho.defaultProps={canvasRef:null};function IC(A,e,t,r,a){return{transform:`translate(${t}px, ${r}px) scale(${A})`,transformOrigin:"top left",width:e.width,height:e.height}}function _C(A,e,{hidden:t,opacity:r,isSelected:a,zIndex:n}){const s=t?.35:Math.max(.1,r??1),o={left:e.x,top:e.y,width:e.width,height:e.height,opacity:s,borderColor:A.stroke??"rgba(15, 23, 42, 0.18)",borderRadius:A.borderRadius??0,transform:e.rotation?`rotate(${e.rotation}deg)`:void 0,transformOrigin:"center"},l=(A==null?void 0:A.metadata)??{},d=A.type==="image",g=A.type==="shape"&&!!l.isImageFrame,B=d?A.content:g&&(A.content||l.backgroundImage)||"",p=typeof B=="string"?B.trim():"",C=!!(p&&(p.startsWith("data:")||p.startsWith("blob:")||/^https?:/i.test(p)));return Number.isFinite(n)&&(o.zIndex=n),A.type==="text"?(o.background="transparent",o.borderStyle="dashed",o.borderWidth=1):d||g?C?(o.background="transparent",o.borderStyle="solid",o.borderWidth=2,o.borderColor=a?"#3b82f6":"rgba(148, 163, 184, 0.5)",o.padding=0):(o.background=g?A.fill||"rgba(148, 163, 184, 0.12)":"transparent",o.borderStyle="dashed",o.borderWidth=2,o.borderColor=a?"#3b82f6":"rgba(148, 163, 184, 0.3)"):(o.background=A.fill?HC(A.fill,A.opacity):"rgba(37, 99, 235, 0.12)",o.borderStyle="solid",o.borderWidth=1),o}function Sc({top:A,right:e,bottom:t,left:r}){return{top:A,right:e,bottom:t,left:r}}function SC(A,e,t){const{width:r,height:a}=t,n=A.frame;if(n)return{x:n.x,y:n.y,width:n.width,height:n.height,rotation:n.rotation??0};const s=48,o=r*.6,l=Math.min(160,a*.18),d=e*32;return{x:s+d%120,y:s+d,width:o,height:l,rotation:0}}function HC(A,e=1){return typeof A!="string"?A||"rgba(37, 99, 235, 0.12)":e>=.999?A:LC(A,e)||A}function LC(A,e){if(!A)return null;if(A.startsWith("#")){const t=A.slice(1),r=parseInt(t,16);if(Number.isNaN(r))return null;const a=t.length===8,n=r>>(a?24:16)&255,s=r>>(a?16:8)&255,o=r>>(a?8:0)&255;return`rgba(${n}, ${s}, ${o}, ${e})`}if(A.startsWith("rgb")){const t=A.match(/rgba?\(([^)]+)\)/);if(!t)return null;const r=t[1].split(",").map(o=>Number.parseFloat(o.trim())).filter((o,l)=>l<3&&Number.isFinite(o));if(r.length!==3)return null;const[a,n,s]=r;return`rgba(${a}, ${n}, ${s}, ${e})`}return null}function ys(A,e,t){return!Number.isFinite(A)||A<e?e:A>t?t:A}function kC(A,e){switch(A){case"saving":return"Autosaving...";case"dirty":return"Unsaved changes";case"error":return"Autosave failed";case"saved":{if(!e)return"All changes saved";const t=new Date(e);return Number.isNaN(t.getTime())?"All changes saved":`Saved at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}case"idle":default:if(e){const t=new Date(e);if(!Number.isNaN(t.getTime()))return`Last saved at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return"Ready"}}function MC({isSavingTemplate:A,saveError:e,lastManualSaveAt:t}){if(A)return"Saving template";if(e)return e;if(t){const r=new Date(t);if(!Number.isNaN(r.getTime()))return`Template saved at ${r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}return null}function TC(A){switch(A){case"saving":return{background:"rgba(59,130,246,0.14)",color:"#1d4ed8",borderColor:"rgba(59,130,246,0.35)"};case"dirty":return{background:"rgba(234,179,8,0.16)",color:"#854d0e",borderColor:"rgba(234,179,8,0.4)"};case"error":return{background:"rgba(248,113,113,0.16)",color:"#b91c1c",borderColor:"rgba(248,113,113,0.4)"};case"saved":case"idle":default:return{background:"rgba(16,185,129,0.14)",color:"#0f5132",borderColor:"rgba(16,185,129,0.35)"}}}function Lo({autosaveStatus:A,lastSavedAt:e,onSaveTemplate:t,isSavingTemplate:r,saveError:a,lastManualSaveAt:n}){var H,I;const{state:s,dispatch:o,routes:l,flags:d}=kt(),g=!!(d&&d.disableManualSave),B=((H=s.template)==null?void 0:H.name)??"Untitled template",[p,C]=f.useState(!1),y=f.useRef(null),Q=f.useRef(null),Y=()=>o({type:"UNDO"}),x=()=>o({type:"REDO"}),T=()=>o({type:"SHOW_PREVIEW_MODAL"}),eA=()=>C(!1),Z=()=>{if(console.log("[InkWise Builder] Save button clicked",{saveDisabled:S,isSavingTemplate:r,hasOnSaveTemplate:typeof t=="function",pagesLength:(s.pages??[]).length}),S){console.warn("[InkWise Builder] Save is disabled");return}(s.pages??[]).length<=1?(console.log("[InkWise Builder] Calling onSaveTemplate directly (single page)"),typeof t=="function"&&!r&&t({pageId:null})):C(D=>!D)},M=k=>{eA(),typeof t=="function"&&!r&&t({pageId:k??null})},N=kC(A,e),E=A==="saving",V=A==="error",R=MC({isSavingTemplate:r,saveError:a,lastManualSaveAt:n}),nA=a?"builder-topbar__status--error":r?"builder-topbar__status--saving":"builder-topbar__status--success",rA=r?"Saving template":"Save template",S=typeof t!="function"||r,U=s.pages??[];return f.useEffect(()=>{if(!p)return;const k=$=>{const iA=y.current,xA=Q.current;iA&&iA.contains($.target)||xA&&xA.contains($.target)||eA()},D=$=>{$.key==="Escape"&&eA()};return document.addEventListener("mousedown",k,!0),document.addEventListener("keydown",D,!0),()=>{document.removeEventListener("mousedown",k,!0),document.removeEventListener("keydown",D,!0)}},[p]),f.useEffect(()=>{S&&p&&C(!1)},[S,p]),i.jsxs("header",{className:"builder-topbar",role:"banner",children:[i.jsxs("div",{className:"builder-topbar__left",children:[i.jsx("a",{href:l.index,className:"builder-topbar__back","aria-label":"Back to templates",children:" Templates"}),i.jsxs("div",{className:"builder-topbar__title",children:[i.jsx("span",{className:"builder-topbar__template-name",title:B,children:B}),((I=s.template)==null?void 0:I.category)&&i.jsx("span",{className:"builder-topbar__meta",children:s.template.category})]})]}),i.jsxs("div",{className:"builder-topbar__center",role:"toolbar","aria-label":"Canvas actions",children:[i.jsx("button",{type:"button",onClick:Y,className:"builder-btn","aria-label":"Undo",children:"Undo"}),i.jsx("button",{type:"button",onClick:x,className:"builder-btn","aria-label":"Redo",children:"Redo"}),i.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle rulers",disabled:!0,children:"Rulers"}),i.jsx("button",{type:"button",className:"builder-btn","aria-label":"Toggle guides",disabled:!0,children:"Guides"})]}),i.jsxs("div",{className:"builder-topbar__right",children:[i.jsxs("div",{className:"builder-topbar__status-column",role:"status","aria-live":"polite",children:[i.jsxs("span",{className:`builder-topbar__status${E?" builder-topbar__status--saving":""}${V?" builder-topbar__status--error":""}`,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"999px",border:"1px solid",fontWeight:600,fontSize:"0.9rem",lineHeight:1.2,...TC(A)},children:[E&&i.jsx("span",{"aria-hidden":"true",style:{width:10,height:10,borderRadius:"999px",border:"2px solid currentColor",borderTopColor:"transparent",display:"inline-block",animation:"spin 0.8s linear infinite"}}),!E&&i.jsx("span",{"aria-hidden":"true",style:{width:10,height:10,borderRadius:"999px",background:"currentColor",opacity:.7}}),N]}),R&&i.jsx("span",{className:`builder-topbar__status builder-topbar__status--sub ${nA}`,children:R})]}),i.jsx("button",{type:"button",className:"builder-btn","aria-label":"Preview",onClick:T,children:"Preview"}),!g&&i.jsxs("div",{className:"builder-topbar__save",children:[i.jsx("button",{type:"button",ref:Q,className:"builder-btn builder-btn--primary","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Save template",onClick:Z,disabled:S,children:rA}),p&&!S&&i.jsxs("div",{className:"builder-save-menu",ref:y,role:"menu","aria-label":"Select pages to save",children:[i.jsx("div",{className:"builder-save-menu__header",children:"Select which pages to save"}),i.jsx("ul",{className:"builder-save-menu__list",children:U.map((k,D)=>{const $=tn(k==null?void 0:k.pageType,D,U.length),iA=typeof(k==null?void 0:k.name)=="string"&&k.name.trim()!==""&&k.name.trim()!==$?k.name.trim():null;return i.jsx("li",{className:"builder-save-menu__item",children:i.jsxs("button",{type:"button",className:"builder-save-menu__action",onClick:()=>M(k.id),role:"menuitem",children:[i.jsx("span",{className:"builder-save-menu__label",children:$}),iA&&i.jsx("span",{className:"builder-save-menu__hint",children:iA})]})},k.id)})}),i.jsx("button",{type:"button",className:"builder-save-menu__action builder-save-menu__action--full",onClick:()=>M(null),role:"menuitem",children:"Save all pages"})]})]})]})]})}Lo.propTypes={autosaveStatus:kA.string,lastSavedAt:kA.string,onSaveTemplate:kA.func,isSavingTemplate:kA.bool,saveError:kA.string,lastManualSaveAt:kA.string};Lo.defaultProps={autosaveStatus:"idle",lastSavedAt:null,onSaveTemplate:null,isSavingTemplate:!1,saveError:null,lastManualSaveAt:null};function NC(){var p,C,y;const{state:A}=kt(),e=((p=A.pages)==null?void 0:p.find(Q=>Q.id===A.activePageId))??((C=A.pages)==null?void 0:C[0]),t=Array.isArray(e==null?void 0:e.nodes)?e.nodes:[];t.find(Q=>Q.id===A.selectedLayerId);const r=(y=A.pages)==null?void 0:y.findIndex(Q=>Q.id===(e==null?void 0:e.id)),a=tn(e==null?void 0:e.pageType,r>=0?r:0,A.pages.length),n=typeof(e==null?void 0:e.name)=="string"&&e.name.trim()!==""?e.name.trim():"Untitled page",o=a&&a!==n?`${a}  ${n}`:n,l=Math.round((A.zoom??1)*100),d=A.history.undoStack.length,g=A.history.redoStack.length,B=t.length;return i.jsxs("footer",{className:"builder-statusbar",role:"contentinfo","aria-live":"polite",children:[i.jsxs("div",{className:"builder-statusbar__segment",children:["Page: ",o," (",e.width,"  ",e.height,"px)"]}),i.jsxs("div",{className:"builder-statusbar__segment",children:["Layers: ",B]}),i.jsxs("div",{className:"builder-statusbar__segment",children:["Zoom: ",l,"%"]}),i.jsxs("div",{className:"builder-statusbar__segment",children:["History: ",d," undo  ",g," redo"]})]})}const Hc=.1,DC=.25,RC=3;function Lc(A){return Math.min(Math.max(A,DC),RC)}function KC(){const{state:A,dispatch:e}=kt();return f.useEffect(()=>{const t=r=>{var d,g,B;if(r.defaultPrevented)return;const a=r.target;if(a instanceof HTMLElement){const p=a.tagName;if(a.isContentEditable||p==="INPUT"||p==="TEXTAREA"||p==="SELECT")return}const n=((d=A.pages)==null?void 0:d.find(p=>p.id===A.activePageId))??((g=A.pages)==null?void 0:g[0]),s=A.selectedLayerId,o=(B=n==null?void 0:n.nodes)==null?void 0:B.find(p=>p.id===s);if(r.ctrlKey||r.metaKey){let p=!1,C=A.zoom??1;switch(r.key){case"=":case"+":C=Lc(C+Hc),p=!0;break;case"-":case"_":C=Lc(C-Hc),p=!0;break;case"0":C=1,p=!0;break}p&&(r.preventDefault(),e({type:"UPDATE_ZOOM",value:C}));return}if(!(!n||!o||o.locked))switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{const p=r.shiftKey?10:1;let C=0,y=0;r.key==="ArrowLeft"&&(C=-p),r.key==="ArrowRight"&&(C=p),r.key==="ArrowUp"&&(y=-p),r.key==="ArrowDown"&&(y=p),e({type:"BEGIN_LAYER_TRANSFORM"}),e({type:"NUDGE_LAYER",pageId:n.id,layerId:s,dx:C,dy:y,trackHistory:!1}),r.preventDefault();break}case"Delete":case"Backspace":{window.confirm(`Delete "${o.name}"? You can undo this action if needed.`)&&(e({type:"REMOVE_LAYER",pageId:n.id,layerId:s}),r.preventDefault());break}}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e,A]),null}function kc(A){if(!A)return{top:0,right:0,bottom:0,left:0};const e=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const a=parseFloat(r);return Number.isNaN(a)?0:a}return 0},t=e(A.margin??A.all??0);return{top:e(A.top??t),right:e(A.right??t),bottom:e(A.bottom??t),left:e(A.left??t)}}function Mc(A,e="None"){if(!A)return e;const t=[A.top,A.right,A.bottom,A.left];return t.some(a=>a>0)?`${t[0]}px / ${t[1]}px / ${t[2]}px / ${t[3]}px`:e}function Tu({isOpen:A,onClose:e}){var xA;const{state:t,dispatch:r}=kt(),a=(t==null?void 0:t.pages)??[];if(!A||a.length===0)return null;const n=(a==null?void 0:a.find(L=>L.id===t.activePageId))??(a==null?void 0:a[0]),s=kc(n.safeZone),o=kc(n.bleed),l=Object.values(s).some(L=>L>0),d=Object.values(o).some(L=>L>0),[g,B]=f.useState(()=>l),[p,C]=f.useState(!1),[y,Q]=f.useState("light");f.useEffect(()=>{B(l),C(!1)},[l,n.id]);const Y=Math.max(Number(n.width)||0,1),x=Math.max(Number(n.height)||0,1),Z=Math.min(760/Y,520/x,1),M=Math.round(Y*Z),N=Math.round(x*Z),E=Array.isArray(n.nodes)?n.nodes:[],V=f.useMemo(()=>E.filter(L=>L.visible!==!1),[E]),R=f.useMemo(()=>V.reduce((L,BA)=>{const MA=BA.type||"other";return L.total+=1,L[MA]=(L[MA]||0)+1,L},{total:0}),[V]),nA=new Set(["Aurora Atelier","Visual storytelling & editorial craft","Playfair Display headline with Source Sans Pro narrative subcopy.","Lumina Forge","Product strategy & venture labs","DM Serif Display hero matched with crisp Inter labels.","Saffron Harbor","Artisanal markets & seaside residencies","Cormorant Garamond headline with welcoming Nunito Sans body.","Meridian Labs","Insight decks  Research memos","Libre Baskerville deck titles with Manrope research notes.","Celestial Grid","Futurist observatory narratives","Cinzel monograms paired with Space Grotesk captions.","Radiant Market","Seasonal florals & gifting studio","Abril Fatface display balanced by Work Sans merchandising notes.","Atelier North","Boutique identity consultancy","Lora type paired with crisp Poppins service line.","Solstice Audio","Soundscapes for modern retreats","Volkhov warmth with Mulish modernity.","Harvest Lane","Slow food residencies & journals","Cardo editorial serif with Questrial market notes.","Paragon Museum","Annual symposium schedule","Tickets  Archives  Tours","Marcellus title with IBM Plex Sans itinerary details.","Velvet Horizon","Sunset editorials & travel essays","Rosarivo curves with airy Raleway notes.","Meteora Studio","Speculative interiors & lighting labs","Prata elegance with grounded Figtree descriptors.","Ember Studio","Culinary films & sonic diaries","Spectral prose headlines with Karla annotations.","Glasshouse","Greenhouse culture & creative labs","Gloock statement paired with Montserrat details.","Nova Lounge","Midnight tastings & listening rooms","Noto Serif Display paired with Urbanist lounge notes.","Terrace Agency","Landscape narratives & brand sites","Quattrocento headlines with DM Sans service info.","Lucid Canvas","Immersive art fair programming","Ysabeau contrasts with approachable Cabin body.","Citrine Summit","Sustainability briefings & labs","Crimson Pro titles with Open Sans agenda text.","Frame Factory","Gallery systems & product drops","Fraunces curves with minimalist Outfit copy.","Indigo Manor","Cultural residences & salons","EB Garamond editorial voice with Hind Madurai support.","Marble Coast","Coastal architecture dossiers","Tenor Sans structure with Gentium Plus narrative.","Orchid Bureau","Trend reports  Field interviews","Newsreader gravitas with Heebo clarity.","Lux Atelier","Made-to-measure wardrobe plans","Baskervville elegance with utilitarian Lato captions.","Cobalt Grove","Botanical research & residency notes","Zilla Slab hero text with Rubik supporting copy."]),rA=f.useMemo(()=>{const L=V.filter(BA=>BA.type==="text"&&BA.content&&BA.content.trim()).map(BA=>BA.content.trim()).filter(BA=>!nA.has(BA));return[...new Set(L)]},[V,nA]),S=f.useMemo(()=>{const L={back:0,middle:1,front:2};return[...E].sort((BA,MA)=>{const PA=BA.side||"middle",EA=MA.side||"middle";return(L[PA]??1)-(L[EA]??1)})},[E]),U=n.shape??null,H=f.useMemo(()=>Za(U),[U]),I=f.useMemo(()=>CC(U),[U]),k=g&&l?{position:"absolute",top:s.top,right:s.right,bottom:s.bottom,left:s.left,border:"1px dashed rgba(37, 99, 235, 0.55)",pointerEvents:"none",...I}:null,D=p&&d?{position:"absolute",top:-o.top,right:-o.right,bottom:-o.bottom,left:-o.left,border:"1px solid rgba(220, 38, 38, 0.4)",pointerEvents:"none",...I}:null,$=L=>{!L||L===n.id||r({type:"SELECT_PAGE",pageId:L})},iA=i.jsx("div",{className:"preview-modal-overlay",onClick:e,children:i.jsxs("div",{className:"preview-modal",onClick:L=>L.stopPropagation(),children:[i.jsxs("div",{className:"preview-modal__header",children:[i.jsxs("div",{className:"preview-modal__title-group",children:[i.jsx("h2",{children:"Template Preview"}),i.jsxs("p",{children:[((xA=t.template)==null?void 0:xA.name)||"Untitled template"," - ",a.length," page",a.length===1?"":"s"]})]}),i.jsxs("div",{className:"preview-modal__actions",role:"toolbar","aria-label":"Preview options",children:[l&&i.jsx("button",{type:"button",className:`preview-toggle ${g?"is-active":""}`,onClick:()=>B(L=>!L),children:"Safe zone"}),d&&i.jsx("button",{type:"button",className:`preview-toggle ${p?"is-active":""}`,onClick:()=>C(L=>!L),children:"Bleed"}),i.jsxs("div",{className:"preview-toggle-group",role:"group","aria-label":"Preview background",children:[i.jsx("button",{type:"button",className:`preview-toggle ${y==="light"?"is-active":""}`,onClick:()=>Q("light"),children:"Light"}),i.jsx("button",{type:"button",className:`preview-toggle ${y==="dark"?"is-active":""}`,onClick:()=>Q("dark"),children:"Dark"})]}),i.jsx("button",{type:"button",className:"preview-modal__close",onClick:e,"aria-label":"Close preview",children:""})]})]}),i.jsxs("div",{className:"preview-modal__content",children:[i.jsxs("aside",{className:"preview-modal__sidebar","aria-label":"Template details",children:[i.jsxs("div",{className:"preview-sidebar__section",children:[i.jsx("h3",{children:"Page info"}),i.jsxs("dl",{className:"preview-info-list",children:[i.jsxs("div",{children:[i.jsx("dt",{children:"Title"}),i.jsx("dd",{children:n.name||"Untitled page"})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Dimensions"}),i.jsxs("dd",{children:[Y,"  ",x,"px"]})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Scale"}),i.jsxs("dd",{children:[Math.round(Z*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Safe zone"}),i.jsx("dd",{children:Mc(l?s:null)})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Bleed"}),i.jsx("dd",{children:Mc(d?o:null)})]})]})]}),a.length>1&&i.jsxs("div",{className:"preview-sidebar__section",children:[i.jsx("h3",{children:"Pages"}),i.jsx("ul",{className:"preview-page-list",children:a.map(L=>i.jsx("li",{children:i.jsxs("button",{type:"button",className:L.id===n.id?"is-active":"",onClick:()=>$(L.id),children:[i.jsx("span",{className:"preview-page-list__name",children:L.name||"Untitled page"}),i.jsxs("span",{className:"preview-page-list__meta",children:[L.width,"  ",L.height,"px"]})]})},L.id))})]}),i.jsxs("div",{className:"preview-sidebar__section",children:[i.jsx("h3",{children:"Layer summary"}),i.jsxs("ul",{className:"preview-layer-stats",children:[i.jsxs("li",{children:[i.jsx("span",{children:"Total layers"}),i.jsx("span",{children:R.total})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Text"}),i.jsx("span",{children:R.text||0})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Images"}),i.jsx("span",{children:R.image||0})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Shapes"}),i.jsx("span",{children:R.shape||0})]})]})]}),rA.length>0&&i.jsxs("div",{className:"preview-sidebar__section",children:[i.jsx("h3",{children:"Text content"}),i.jsx("ul",{className:"preview-text-list",children:rA.map((L,BA)=>i.jsx("li",{title:L,children:L.length>30?`${L.substring(0,30)}...`:L},BA))})]})]}),i.jsx("section",{className:`preview-modal__canvas preview-modal__canvas--${y}`,"aria-label":"Canvas preview",children:i.jsxs("div",{className:"preview-canvas",children:[i.jsxs("header",{className:"preview-canvas__toolbar",children:[i.jsx("span",{children:n.name||"Untitled page"}),i.jsxs("span",{children:[M,"  ",N,"px  ",Math.round(Z*100),"%"]})]}),i.jsx("div",{className:"preview-canvas__viewport",children:i.jsx("div",{className:"preview-canvas__stage",style:{width:M,height:N},children:i.jsxs("div",{className:"preview-page",style:{position:"relative",width:Y,height:x,background:n.background||"#ffffff",borderRadius:"12px",boxShadow:"0 18px 40px rgba(15, 23, 42, 0.25)",transform:`scale(${Z})`,transformOrigin:"top left",...H},children:[D&&i.jsx("div",{className:"preview-bleed-guide",style:D}),k&&i.jsx("div",{className:"preview-safezone",style:k}),S.map(L=>{var cA;if(L.visible===!1)return null;const BA=L.frame;if(!BA)return null;const MA=L.type==="text",PA=L.type==="image",EA=(L==null?void 0:L.metadata)??{},mA=typeof EA.objectFit=="string"?EA.objectFit:"cover",zA=Number(EA.imageScale),NA=Number.isFinite(zA)?Math.max(.25,Math.min(4,zA)):1,ne=Number(EA.imageOffsetX),xe=Number(EA.imageOffsetY),W=Number.isFinite(ne)?Math.max(-500,Math.min(500,ne)):0,F=Number.isFinite(xe)?Math.max(-500,Math.min(500,xe)):0,_=!!EA.flipHorizontal,fA=!!EA.flipVertical,wA=_?-NA:NA,aA=fA?-NA:NA,hA=L.type==="shape"&&!!EA.isImageFrame,pA=EA.maskVariant??((cA=L.shape)==null?void 0:cA.id)??L.variant,UA=PA?L.content:hA&&(L.content||EA.backgroundImage)||"",YA=typeof UA=="string"?UA.trim():"",ZA=!!(YA&&(YA.startsWith("data:")||YA.startsWith("blob:")||/^https?:/i.test(YA))),Ee=ZA?YA:null,KA=L.type==="shape"?L.shape??{id:pA,variant:L.variant,borderRadius:L.borderRadius}:null,fe=L.type==="shape"?Za(KA):null,Ae={position:"absolute",left:BA.x,top:BA.y,width:BA.width,height:BA.height,opacity:L.opacity??1,borderRadius:L.borderRadius??0,transform:BA.rotation?`rotate(${BA.rotation}deg)`:void 0,transformOrigin:"center",overflow:"hidden"};return i.jsxs("div",{style:Ae,children:[MA&&i.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:L.textAlign==="left"?"flex-start":L.textAlign==="right"?"flex-end":"center",color:L.fill||"#0f172a",fontSize:L.fontSize?`${L.fontSize}px`:"16px",fontFamily:L.fontFamily||"Arial, sans-serif",fontWeight:L.fontWeight??"normal",textAlign:L.textAlign??"center",padding:"8px",boxSizing:"border-box",wordWrap:"break-word"},children:L.content||"Add your text"}),(PA||hA)&&ZA&&i.jsx("img",{src:Ee,alt:L.name||"Template image",style:{width:"100%",height:"100%",objectFit:mA,borderRadius:hA?0:L.borderRadius??0,display:"block",transform:`translate(${W}px, ${F}px) scale(${wA}, ${aA})`,transformOrigin:"center"}}),L.type==="shape"&&i.jsx("div",{className:"canvas-shape-frame",style:{width:"100%",height:"100%",overflow:"hidden",backgroundColor:ZA?"transparent":L.fill||"rgba(37, 99, 235, 0.12)",...fe??{}},children:hA&&!ZA&&i.jsxs("div",{className:"canvas-shape-frame__placeholder",children:[i.jsx("i",{className:"fa-solid fa-image","aria-hidden":"true"}),i.jsx("span",{children:"Add image"})]})})]},L.id)})]})})})]})})]}),i.jsxs("footer",{className:"preview-modal__footer",children:[i.jsxs("div",{className:"preview-modal__footer-tip",children:[i.jsx("strong",{children:"Tip:"})," Toggle guides to validate bleed and safety before exporting previews."]}),i.jsx("button",{type:"button",className:"builder-btn",onClick:e,children:"Close preview"})]})]})});return typeof document>"u"?iA:lo.createPortal(iA,document.body)}Tu.propTypes={isOpen:kA.bool.isRequired,onClose:kA.func.isRequired};function Tc(A){return{pages:Array.isArray(A.pages)?A.pages.map(t=>({id:t.id,name:t.name,pageType:t.pageType??null,width:t.width,height:t.height,background:t.background,safeZone:t.safeZone??null,bleed:t.bleed??null,metadata:t.metadata??{},nodes:Array.isArray(t.nodes)?t.nodes.map(r=>({id:r.id,name:r.name,type:r.type,visible:r.visible!==!1,locked:!!r.locked,editable:r.editable!==void 0?!!r.editable:!0,opacity:typeof r.opacity=="number"?r.opacity:1,frame:r.frame?{...r.frame}:null,fill:r.fill??null,stroke:r.stroke??null,content:r.content??"",fontSize:r.fontSize??null,fontFamily:r.fontFamily??null,fontWeight:r.fontWeight??null,textAlign:r.textAlign??null,borderRadius:r.borderRadius??0,variant:r.variant??null,metadata:r.metadata??{},replaceable:r.replaceable??!1})):[]})):[],activePageId:A.activePageId??null,selectedLayerId:A.selectedLayerId??null,canvas:{zoom:A.zoom??1,panX:A.panX??0,panY:A.panY??0}}}class ko extends ci.Component{constructor(t){super(t);qo(this,"handleReset",()=>{const{onReset:t}=this.props;this.setState({error:null,info:null},()=>{typeof t=="function"&&t()})});this.state={error:null,info:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,r){console.error("[InkWise Builder] A runtime error occurred.",t,r),this.setState({info:r}),typeof window<"u"&&(window.__INKWISE_LAST_ERROR__={message:t==null?void 0:t.message,stack:t==null?void 0:t.stack,componentStack:r==null?void 0:r.componentStack,templateId:this.props.templateId??null,time:new Date().toISOString()},typeof(t==null?void 0:t.message)=="string"&&t.message.indexOf("Minified React error #")!==-1&&(console.error("[InkWise Builder] Detected a minified React error. Run `window.__INKWISE_LAST_ERROR__` in the console to see saved details."),console.error("[InkWise Builder] For more information, visit: https://reactjs.org/docs/error-decoder.html")))}render(){const{error:t,info:r}=this.state,{children:a}=this.props;if(!t)return a;const n=async()=>{const s=typeof window<"u"&&window.__INKWISE_LAST_ERROR__?window.__INKWISE_LAST_ERROR__:{message:(t==null?void 0:t.message)||null,stack:(t==null?void 0:t.stack)||null,componentStack:(r==null?void 0:r.componentStack)||null},o=JSON.stringify(s,null,2);if(typeof navigator<"u"&&navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(o),alert("Debug info copied to clipboard. Paste it into a bug report or the console.");return}catch{}console.log("[InkWise Builder] Debug info:",s),alert("Could not copy to clipboard automatically. Debug info has been logged to the console as `window.__INKWISE_LAST_ERROR__`.")};return i.jsx("div",{className:"builder-error-boundary",role:"alert","aria-live":"assertive",children:i.jsxs("div",{className:"builder-error-boundary__card",children:[i.jsx("h1",{children:"Template builder hit a snag"}),i.jsx("p",{className:"builder-error-boundary__message",children:t.message||"Unknown runtime error."}),i.jsxs("p",{style:{marginTop:8,color:"#374151"},children:["Open the browser console and run ",i.jsx("code",{children:"window.__INKWISE_LAST_ERROR__"})," for a structured dump of the error (stack, component stack, template id)."]}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[i.jsx("button",{type:"button",className:"builder-error-boundary__action",onClick:this.handleReset,children:"Reload editor"}),i.jsx("button",{type:"button",className:"builder-error-boundary__action",onClick:n,children:"Copy debug info"})]}),(r==null?void 0:r.componentStack)&&i.jsxs("details",{className:"builder-error-boundary__details",style:{marginTop:12},children:[i.jsx("summary",{children:"Show technical details"}),i.jsx("pre",{children:r.componentStack})]})]})})}}ko.propTypes={children:kA.node.isRequired,onReset:kA.func,templateId:kA.oneOfType([kA.string,kA.number])};ko.defaultProps={onReset:void 0,templateId:null};const Nc=2.5,PC=1800,OC=.9,Fs=.82,jC=32e5,GC=5e6,Mo=75e5,vs=5e6,Dc="gzip-base64",VC=1,rr=16e5,WC=wb,va=()=>new Promise(A=>setTimeout(()=>requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(()=>requestAnimationFrame(A)))),100));async function zC(A,e,t="#ffffff"){const r={stageFound:!1,targetChildren:0,captureWidth:0,captureHeight:0,attempts:[]};console.error("[InkWise Builder] CAPTURE FUNCTION CALLED - Starting canvas capture for template save"),console.log("[InkWise Builder] Starting canvas capture for template save"),console.log("[InkWise Builder] Canvas element:",A),console.log("[InkWise Builder] Canvas exists:",!!A);const a=new Promise((s,o)=>{setTimeout(()=>o(new Error("Canvas capture timeout after 30 seconds")),3e4)});async function n(){var R,nA;if(!A)return console.error("[InkWise Builder] Canvas element is null - cannot capture preview"),r.error="canvas-null",{dataUrl:null,diagnostics:r};const s=A.closest(".canvas-viewport__stage"),o=s||A;r.stageFound=!!s;const l=o.parentElement,d=o.getBoundingClientRect(),g=Math.max(1,Math.round(o.scrollWidth||d.width)),B=Math.max(1,Math.round(o.scrollHeight||d.height));r.captureWidth=g,r.captureHeight=B,console.log("[InkWise Builder] Capture target:",o.className,"size",g,"x",B,"children:",o.children.length);const p=window.getComputedStyle(o);if(console.log("[InkWise Builder] Target transform:",p.transform),console.log("[InkWise Builder] Target transform-origin:",p.transformOrigin),console.log("[InkWise Builder] Target position:",p.position),console.log("[InkWise Builder] Target display:",p.display),console.log("[InkWise Builder] Target visibility:",p.visibility),o.children.length===0)console.warn("[InkWise Builder] WARNING: Canvas has no child elements - preview will be blank!");else{const rA=Array.from(o.querySelectorAll("*")).map($=>$.className+" ("+$.tagName+")").filter(Boolean).slice(0,10);console.log("[InkWise Builder] Canvas has",o.children.length,"child elements"),console.log("[InkWise Builder] Element classes found:",rA);const S=o.querySelectorAll("[data-preview-node]");console.log("[InkWise Builder] Found",S.length,"elements with data-preview-node");const U=o.querySelectorAll("img");console.log("[InkWise Builder] Found",U.length,"img elements");const H=Array.from(S).map($=>{var iA;return(iA=$.textContent)==null?void 0:iA.trim()}).filter(Boolean);console.log("[InkWise Builder] Text content found:",H);const I=o.querySelectorAll("*"),k=Array.from(I).filter($=>{const iA=window.getComputedStyle($);return iA.display!=="none"&&iA.visibility!=="hidden"&&iA.opacity!=="0"});console.log("[InkWise Builder] Visible elements:",k.length,"out of",I.length);const D=new Set;I.forEach($=>{const xA=window.getComputedStyle($).fontFamily;if(xA&&xA!=="inherit"){const L=xA.split(",")[0].replace(/['"]/g,"").trim();L&&!L.includes("system-ui")&&!L.includes("sans-serif")&&!L.includes("serif")&&D.add(L)}}),console.log("[InkWise Builder] Fonts to check:",Array.from(D)),console.log("[InkWise Builder] Skipping font loading for canvas capture - using CSS fallbacks"),await new Promise($=>setTimeout($,100))}r.targetChildren=o.children.length,await new Promise(rA=>setTimeout(rA,80));const C=(s==null?void 0:s.style.transform)??null,y=(s==null?void 0:s.style.transformOrigin)??null,Q=(s==null?void 0:s.style.background)??null,Y=(s==null?void 0:s.style.willChange)??null,x=A.style.transform,T=A.style.transformOrigin,eA=A.style.background,Z=(R=l==null?void 0:l.style)==null?void 0:R.overflow;try{s&&(s.style.transform="none",s.style.transformOrigin="top left",s.style.willChange="auto",s.style.background=t,s.style.width=`${g}px`,s.style.height=`${B}px`),A.style.transform="none",A.style.transformOrigin="top left",A.style.background=t,A.style.width=`${g}px`,A.style.height=`${B}px`,l&&(l.style.overflow="visible"),o.offsetHeight,console.log("[InkWise Builder] Target dimensions after transform removal:",o.offsetWidth,"x",o.offsetHeight),console.log("[InkWise Builder] Target computed style:",window.getComputedStyle(o));const rA=o.querySelectorAll("img");rA.length>0&&(console.log("[InkWise Builder] Waiting for",rA.length,"images to load"),await Promise.all(Array.from(rA).map(S=>S.complete?Promise.resolve():new Promise((U,H)=>{S.onload=U,S.onerror=H,setTimeout(()=>U(),5e3)}))),console.log("[InkWise Builder] All images loaded or timed out"));try{console.log("[InkWise Builder] Attempting html2canvas capture on stage (only method - html-to-image disabled due to CORS)");const S=ss(o,{scale:e,useCORS:!0,allowTaint:!0,backgroundColor:t,width:g,height:B,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,foreignObjectRendering:!1,imageTimeout:1e4,ignoreElements:k=>k.tagName==="LINK"&&k.rel==="stylesheet"&&k.href&&(k.href.includes("fonts.googleapis.com")||k.href.includes("fonts.gstatic.com")||k.href.includes("cdn.jsdelivr.net")||k.href.includes("stackpath.bootstrapcdn.com"))}),U=new Promise((k,D)=>setTimeout(()=>D(new Error("html2canvas timeout")),15e3)),I=(await Promise.race([S,U])).toDataURL("image/png");if(I&&I.length>=100)return console.log("[InkWise Builder] html2canvas stage capture succeeded, PNG length:",I.length),r.attempts.push({method:"html2canvas-stage",success:!0,length:I.length}),{dataUrl:I,diagnostics:r};console.warn("[InkWise Builder] html2canvas stage capture produced empty output"),r.attempts.push({method:"html2canvas-stage",success:!1,reason:"empty-output",length:(I==null?void 0:I.length)||0})}catch(S){console.error("[InkWise Builder] Stage capture failed:",S.message),r.attempts.push({method:"stage-capture",success:!1,error:S.message})}}finally{s&&(s.style.transform=C??"",s.style.transformOrigin=y??"",s.style.background=Q??"",s.style.willChange=Y??"",s.style.width="",s.style.height=""),A.style.transform=x,A.style.transformOrigin=T,A.style.background=eA,A.style.width="",A.style.height="",l&&(l.style.overflow=Z??"")}const M=o.cloneNode(!0);M.style.position="absolute",M.style.top="-100000px",M.style.left="-100000px",M.style.transform="none",M.style.transformOrigin="top left",M.style.width=`${g}px`,M.style.height=`${B}px`,M.style.background=t,M.style.willChange="auto",M.style.display="block",M.style.visibility="hidden",M.style.opacity="0",document.body.appendChild(M);const N=(nA=l==null?void 0:l.style)==null?void 0:nA.background,E=o.style.background,V=o.backgroundColor;l&&(l.style.background=t),o.style.background=t,o.backgroundColor!==void 0&&(o.backgroundColor=t,o.renderAll&&o.renderAll());try{console.log("[InkWise Builder] Attempting html2canvas capture (cloned node) at",g,"x",B);const rA=async I=>{const k=ss(I,{scale:e,useCORS:!0,allowTaint:!0,backgroundColor:t,width:g,height:B,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,foreignObjectRendering:!1,imageTimeout:8e3,ignoreElements:$=>$.tagName==="LINK"&&$.rel==="stylesheet"&&$.href&&($.href.includes("fonts.googleapis.com")||$.href.includes("fonts.gstatic.com")||$.href.includes("cdn.jsdelivr.net")||$.href.includes("stackpath.bootstrapcdn.com"))}),D=new Promise(($,iA)=>setTimeout(()=>iA(new Error("html2canvas clone timeout")),15e3));return Promise.race([k,D])},S=await rA(M);r.attempts.push({method:"html2canvas-clone",success:!!S,width:(S==null?void 0:S.width)??0,height:(S==null?void 0:S.height)??0});const U=I=>{if(!I)return null;if(I.width<2||I.height<2)return console.error("[InkWise Builder] html2canvas produced empty canvas:",I.width,"x",I.height),r.attempts.push({method:"html2canvas-normalize",success:!1,reason:"tiny-canvas",width:I.width,height:I.height}),null;const k=I.toDataURL("image/png");return console.log("[InkWise Builder] PNG data URL length:",k==null?void 0:k.length,"bytes"),!k||k.length<100?(console.error("[InkWise Builder] Generated PNG is too small (likely empty):",k==null?void 0:k.length,"bytes"),r.attempts.push({method:"html2canvas-normalize",success:!1,reason:"tiny-data-url",length:(k==null?void 0:k.length)||0}),null):(r.attempts.push({method:"html2canvas-normalize",success:!0,length:k.length}),k)};let H=U(S);if(!H){console.warn("[InkWise Builder] html2canvas clone capture failed or produced empty output, retrying with original target");const I=await rA(o);r.attempts.push({method:"html2canvas-target",success:!!I,width:(I==null?void 0:I.width)??0,height:(I==null?void 0:I.height)??0}),H=U(I)}return H||(console.warn("[InkWise Builder] All html2canvas attempts failed - canvas capture will be empty"),r.attempts.push({method:"final-failure",success:!1,reason:"all-methods-failed"})),H?(console.error("[InkWise Builder] CAPTURE SUCCESSFUL - Returning data URL, length:",H.length),{dataUrl:H,diagnostics:r}):(console.error("[InkWise Builder] All capture attempts failed"),r.error="all-attempts-failed",{dataUrl:null,diagnostics:r})}catch(rA){console.error("[InkWise Builder] html2canvas capture exception:",rA.message,rA.stack),r.error=`exception:${rA.message}`;try{console.log("[InkWise Builder] Attempting final fallback capture with minimal settings");const S=await ss(o,{scale:1,backgroundColor:t,logging:!0});if(S&&S.width>=2&&S.height>=2){const U=S.toDataURL("image/png");return console.log("[InkWise Builder] Basic fallback succeeded, PNG length:",U==null?void 0:U.length),r.attempts.push({method:"html2canvas-basic",success:!0,length:(U==null?void 0:U.length)||0}),{dataUrl:U,diagnostics:r}}}catch(S){console.error("[InkWise Builder] Final html2canvas fallback also failed:",S),r.attempts.push({method:"html2canvas-basic",success:!1,error:S.message})}return r.error=r.error||"all-html2canvas-failed",console.error("[InkWise Builder] CAPTURE COMPLETED - All html2canvas methods failed, returning null"),{dataUrl:null,diagnostics:r}}finally{l&&(l.style.background=N),o.style.background=E,o.backgroundColor!==void 0&&(o.backgroundColor=V,o.renderAll&&o.renderAll()),M&&M.parentNode&&M.parentNode.removeChild(M)}}try{const s=n();return await Promise.race([s,a])}catch(s){return console.error("[InkWise Builder] Capture failed with timeout or error:",s),{dataUrl:null,diagnostics:{...r,error:s.message}}}}function YC(A,e){var r,a,n;const t=[A==null?void 0:A.pageType,(r=A==null?void 0:A.metadata)==null?void 0:r.pageType,(a=A==null?void 0:A.metadata)==null?void 0:a.side,(n=A==null?void 0:A.metadata)==null?void 0:n.sideLabel,A==null?void 0:A.name];for(const s of t){const o=aa(s);if(o)return o}return e===0?"front":e===1?"back":`page-${e+1}`}function XC(A,e,t){var a,n,s;if(typeof((a=A==null?void 0:A.metadata)==null?void 0:a.sideLabel)=="string"&&A.metadata.sideLabel.trim()!=="")return A.metadata.sideLabel.trim();const r=aa((A==null?void 0:A.pageType)??((n=A==null?void 0:A.metadata)==null?void 0:n.pageType)??((s=A==null?void 0:A.metadata)==null?void 0:s.side)??(A==null?void 0:A.name)??null);return r?tn(r,e,t):typeof(A==null?void 0:A.name)=="string"&&A.name.trim()!==""?A.name.trim():`Page ${e+1}`}function go(A){if(typeof A!="string")return 0;const e=A.indexOf(","),t=e!==-1?A.slice(e+1):A;return Math.ceil(t.length*3/4)}function $C(A){if(typeof A!="string")return 0;try{return new TextEncoder().encode(A).length}catch(e){console.warn("[InkWise Builder] Failed to measure string length with TextEncoder.",e)}return A.length}function ZC(A){if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa(A);if(typeof Buffer<"u")return Buffer.from(A,"binary").toString("base64");throw new Error("No base64 encoder available for payload compression.")}function fo(A,e=Mo,t=!1){const r=JSON.stringify(A);let a=r.length;try{a=new TextEncoder().encode(r).length}catch(n){console.warn("[InkWise Builder] Failed to measure JSON payload length with TextEncoder.",n)}if(!t&&(!Number.isFinite(e)||a<=e))return{body:r,headers:{},compressed:!1,originalBytes:a,bodyBytes:a};try{const n=WC(r,{level:9});let s="";const o=n.byteLength,d=1<<14;for(let Q=0;Q<o;Q+=d)s+=String.fromCharCode.apply(null,n.subarray(Q,Math.min(Q+d,o)));const g=s.length,B=ZC(s),C=JSON.stringify({payload_version:VC,payload_encoding:Dc,compressed_payload:B}),y=$C(C);return{body:C,headers:{"X-Payload-Compressed":Dc,"X-Original-Payload-Bytes":String(a),"X-Compressed-Payload-Bytes":String(g)},compressed:!0,originalBytes:a,compressedBytes:g,bodyBytes:y}}catch(n){return console.warn("[InkWise Builder] Payload compression failed, sending raw JSON.",n),{body:r,headers:{},compressed:!1,originalBytes:a,bodyBytes:a}}}function JC(A,{stripPreviewImages:e=!1,stripPrimaryPreview:t=!1,stripSvgMarkup:r=!1}={}){const a={...A};return e&&(delete a.preview_images,delete a.preview_images_meta,a.preview_images_truncated=!0),t&&delete a.preview_image,r&&delete a.svg_markup,a}function qC(A){const e=[{id:"full",options:{}},{id:"no-preview-images",options:{stripPreviewImages:!0}},{id:"no-previews",options:{stripPreviewImages:!0,stripPrimaryPreview:!0}}];let t=null;for(const r of e){const a=JC(A,r.options),n=fo(a,Mo,!0);if((!t||n.bodyBytes<t.prepared.bodyBytes)&&(t={prepared:n,payload:a,id:r.id,trimmed:r.id!=="full"}),n.bodyBytes<=rr)return r.id!=="full"&&console.warn("[InkWise Builder] Trimmed manual save payload to stay within POST budget.",{variant:r.id,bodyBytes:n.bodyBytes,limit:rr}),{prepared:n,payload:a,id:r.id,trimmed:r.id!=="full"}}if(t)return console.error("[InkWise Builder] Manual save payload exceeds failsafe limit even after trimming.",{smallestBytes:t.prepared.bodyBytes,limit:rr}),t;throw new Error("Failed to prepare manual save payload.")}function Rc(A){var r;if(!A)return 0;const e=A.key??"";return e==="front"?400:e==="back"?360:300-(typeof((r=A.meta)==null?void 0:r.order)=="number"?A.meta.order:0)*2-Math.round((A.bytes||0)/2e5)}function Ay(A){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=a=>t(a),r.src=A})}function Qs(A,e,t){const r=Math.max(1,Math.round(A.width*e)),a=Math.max(1,Math.round(A.height*e)),n=document.createElement("canvas");n.width=r,n.height=a;const s=n.getContext("2d");return s?(s.drawImage(A,0,0,r,a),n.toDataURL("image/jpeg",t)):null}async function ey(A,e={}){if(!A||typeof document>"u")return A;const{maxEdge:t=PC,quality:r=OC,maxBytes:a=jC}=e;try{const n=await Ay(A),s=Math.max(n.width,n.height);let o=s>t&&t>0?t/s:1,l=r;const d=.4,g=A.startsWith("data:image/png");let B;if(g){const p=document.createElement("canvas");p.width=Math.max(1,Math.round(n.width*o)),p.height=Math.max(1,Math.round(n.height*o));const C=p.getContext("2d");if(C?(C.drawImage(n,0,0,p.width,p.height),B=p.toDataURL("image/png")):B=A,go(B)<=a)return B;B=Qs(n,o,l)||B}else B=Qs(n,o,l)||A;for(;go(B)>a&&(o>d||l>Fs);){o>d&&(o=Math.max(d,o*.9)),l>Fs&&(l=Math.max(Fs,l-.04));const p=Qs(n,o,l);if(!p)break;B=p}return B}catch(n){return console.warn("[InkWise Builder] Failed to compress preview image.",n),A}}function ty(A){if(typeof A!="string")return null;if(!A.startsWith("data:image/svg+xml"))return A;const e=A.indexOf(",");if(e===-1)return A;const t=A.slice(e+1);try{return decodeURIComponent(t)}catch(r){return console.warn("[InkWise Builder] Failed to decode SVG markup payload.",r),t}}function ry(A){return typeof A!="string"?A:A.replace(/<!--.*?-->/gs,"").replace(/\s*\n+\s*/g," ").replace(/\s{2,}/g," ").trim()}function ay(A){if(!A||typeof A!="string")return A;const e=ry(A);try{if(typeof window<"u"&&typeof window.btoa=="function")return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(e)))}`}catch(t){console.warn("[InkWise Builder] Failed to encode SVG markup payload.",t)}return e}function ny(){var S,U,H,I,k;const{state:A,routes:e,csrfToken:t,dispatch:r}=kt(),a=((S=A.pages)==null?void 0:S.find(D=>D.id===A.activePageId))??((U=A.pages)==null?void 0:U[0]),[n,s]=f.useState(!1),[o,l]=f.useState("idle"),[d,g]=f.useState(((H=A.template)==null?void 0:H.updated_at)??null),[B,p]=f.useState(!1),[C,y]=f.useState(null),[Q,Y]=f.useState(null),x=f.useRef(null),T=f.useRef(null),eA=f.useRef(null),Z=f.useRef(!0),M=f.useRef(null),N=f.useRef(!1),E=f.useCallback(()=>{typeof window<"u"&&window.location.reload()},[]),V=()=>{s(!n)};f.useEffect(()=>()=>{x.current&&(clearTimeout(x.current),x.current=null),eA.current&&eA.current.abort()},[]),f.useEffect(()=>{var xA,L;if(!(e!=null&&e.autosave)||!t)return;const D=Tc(A),$=((xA=A.pages)==null?void 0:xA.find(BA=>BA.id===A.activePageId))||((L=A.pages)==null?void 0:L[0])||null,iA=JSON.stringify(D);if(Z.current){Z.current=!1,T.current=iA;return}if(iA!==T.current)return T.current=iA,x.current&&clearTimeout(x.current),l("dirty"),x.current=setTimeout(()=>{var zA,NA,ne,xe,W;if(!(e!=null&&e.autosave)||!t)return;eA.current&&eA.current.abort();const BA=new AbortController;eA.current=BA,l("saving");let EA={design:{...A.currentSide==="front"?A.frontDesign:A.backDesign,pages:D.pages,activePageId:A.activePageId},side:A.currentSide,canvas:D.canvas,template_name:((zA=A.template)==null?void 0:zA.name)??null,template:{width_inch:((NA=A.template)==null?void 0:NA.width_inch)??null,height_inch:((ne=A.template)==null?void 0:ne.height_inch)??null,fold_type:((xe=A.template)==null?void 0:xe.fold_type)??null,sizes:((W=A.template)==null?void 0:W.sizes)??null,page_width_px:($==null?void 0:$.width)??null,page_height_px:($==null?void 0:$.height)??null,page_background:($==null?void 0:$.background)??null}},mA=fo(EA,vs,!0);if(mA.bodyBytes>rr&&EA.canvas){const F={...EA};delete F.canvas;const _=fo(F,vs,!0);_.bodyBytes<mA.bodyBytes?(console.warn("[InkWise Builder] Trimmed autosave payload (removed canvas state) to fit POST budget.",{originalBytes:mA.bodyBytes,trimmedBytes:_.bodyBytes,limit:rr}),mA=_,EA=F):console.error("[InkWise Builder] Autosave payload exceeds failsafe limit even after trimming canvas.",{bodyBytes:mA.bodyBytes,retriedBytes:_.bodyBytes,limit:rr})}mA.compressed&&console.debug("[InkWise Builder] Compressed autosave payload.",{originalBytes:mA.originalBytes,compressedBytes:mA.compressedBytes,requestBytes:mA.bodyBytes,threshold:vs}),fetch(e.autosave,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t,...mA.headers},credentials:"same-origin",body:mA.body,signal:BA.signal}).then(async F=>{if(!F.ok){const _=await F.text();throw new Error(_||"Autosave request failed")}return F.json()}).then(F=>{l("saved"),F!=null&&F.saved_at&&g(F.saved_at),eA.current===BA&&(eA.current=null)}).catch(F=>{BA.signal.aborted||(eA.current===BA&&(eA.current=null),console.error("[InkWise Builder] Autosave failed:",F),l("error"),T.current=null)})},1500),()=>{x.current&&(clearTimeout(x.current),x.current=null)}},[A.pages,A.activePageId,A.zoom,A.panX,A.panY,(I=A.template)==null?void 0:I.name,e==null?void 0:e.autosave,t]);const R=(e==null?void 0:e.saveTemplate)??(e==null?void 0:e.saveCanvas),nA=(e==null?void 0:e.saveDesign)??null,rA=f.useCallback(async(D={})=>{var L,BA,MA,PA,EA,mA,zA,NA,ne,xe,W;if(!R){y("Save route is unavailable.");return}if(!t){y("Missing CSRF token.");return}if(!M.current){y("Canvas not ready yet."),console.error("[InkWise Builder] Canvas ref is null during save attempt");return}if(console.log("[InkWise Builder] Starting save with canvas ref:",M.current),B||N.current){console.log("[InkWise Builder] Save already in progress, skipping");return}N.current=!0,p(!0),y(null);const $=typeof document<"u"?document.body:null,iA=(D==null?void 0:D.pageId)??null,xA=typeof window<"u"?Math.min(Math.max(window.devicePixelRatio||1,1),Nc):Nc;try{$==null||$.classList.add("builder-exporting"),await va();const F=Tc(A),_=Array.isArray(A.pages)?A.pages:[],fA=iA?_.filter(dA=>dA.id===iA):_,wA=_.find(dA=>dA.id===A.activePageId)??null;let aA=(fA.length>0?fA:_).filter(Boolean);aA.length===0&&wA&&(aA=[wA]);const hA=_.length>0?_.length:aA.length,pA=[],UA=new Set;let YA={},ZA={},Ee=!1,KA=null,fe=null;const Ae=[],cA=A.activePageId,Ge=A.selectedLayerId;let Ze=cA;r({type:"SELECT_LAYER",layerId:null}),await va();const ft=async dA=>{!dA||dA===Ze||(r({type:"SELECT_PAGE",pageId:dA}),Ze=dA,r({type:"SELECT_LAYER",layerId:null}),await va())};for(let dA=0;dA<aA.length;dA+=1){const bA=aA[dA];if(!bA)continue;await ft(bA.id),await va();const FA="#ffffff";console.log("[InkWise Builder] === Capturing preview for page",bA.id,"with background",FA,"==="),console.log("[InkWise Builder] Page details:",{id:bA.id,name:bA.name,width:bA.width,height:bA.height,nodesCount:(L=bA.nodes)==null?void 0:L.length});const TA=await zC(M.current,xA,FA),ie=typeof TA=="string"?TA:(TA==null?void 0:TA.dataUrl)??null,De=typeof TA=="object"&&TA!==null&&"diagnostics"in TA?TA.diagnostics:null;if(De&&Ae.push({pageId:bA.id,order:dA,diagnostics:De}),console.log("[InkWise Builder] Capture result:",ie?`SUCCESS (${ie.length} chars)`:"FAILED - NO DATA"),!ie){console.error("[InkWise Builder]  CRITICAL: No raster data URL returned for page",bA.id),console.error("[InkWise Builder] This will result in a blank/white preview being saved!"),console.error("[InkWise Builder] Possible causes:"),console.error("[InkWise Builder]   1. Canvas has no rendered content (check page.nodes)"),console.error("[InkWise Builder]   2. Canvas elements are not properly mounted in DOM"),console.error("[InkWise Builder]   3. Image assets failed to load"),console.error("[InkWise Builder]   4. CORS issues with external assets"),pA.push({key:`__diag_fail__${bA.id}-${dA}`,data:null,meta:{diagnostics:De,pageId:bA.id,order:dA,failure:!0},bytes:0,diagnostics:De});continue}let he=await ey(ie);if(he||(console.log("[InkWise Builder] Compression failed, using original raster data"),he=ie),!he)continue;const at=YC(bA,dA),yt=typeof at=="string"&&at.trim()!==""?at:null,We=`page-${dA+1}`;let XA=yt??We,qe=2;for(;UA.has(XA);)XA=yt?`${yt}-${qe}`:`${We}-${qe}`,qe+=1;UA.add(XA);const Be={label:XC(bA,dA,hA||aA.length||1),pageId:bA.id,pageType:yt??XA,order:dA};if(pA.push({key:XA,data:he,meta:Be,bytes:go(he),diagnostics:De}),KA||(KA=he),XA==="front"&&(KA=he),!fe)try{console.log("[InkWise Builder] Attempting SVG capture for page",bA.id);const Re=M.current.querySelector(".canvas-viewport__stage")||M.current;fe=await H0(Re,{cacheBust:!0,filter:we=>{var Ft,pt,G,se,be;return!((Ft=we.classList)!=null&&Ft.contains("resize-handle"))&&!((pt=we.classList)!=null&&pt.contains("svg-bounding-box"))&&!((G=we.classList)!=null&&G.contains("canvas-viewport__grid"))&&!((se=we.classList)!=null&&se.contains("canvas-viewport__safe-zone"))&&!((be=we.classList)!=null&&be.contains("canvas-viewport__bleed"))},backgroundColor:"#ffffff"}),console.log("[InkWise Builder] SVG capture succeeded, length:",fe==null?void 0:fe.length)}catch(Re){console.error("[InkWise Builder] SVG snapshot capture failed:",Re.message,Re.stack)}}if(await ft(cA),_.some(dA=>dA.id===cA&&Array.isArray(dA.nodes)&&dA.nodes.some(bA=>bA.id===Ge))&&Ge&&(r({type:"SELECT_LAYER",layerId:Ge}),await va()),pA.length>0){const dA=[...pA].sort((TA,ie)=>{const De=Rc(ie)-Rc(TA);return De!==0?De:(TA.bytes||0)-(ie.bytes||0)});let bA=GC;const FA=[];for(const TA of dA){const ie=TA.bytes||0;(FA.length===0||ie<=bA)&&(FA.push(TA),bA=Math.max(bA-ie,0))}FA.length<pA.length&&(Ee=!0,console.warn("[InkWise Builder] Trimmed preview payload to avoid oversize POST.",{totalEntries:pA.length,selectedEntries:FA.length,remainingBudget:bA})),YA={},ZA={};for(const TA of FA)TA.data&&(YA[TA.key]=TA.data,ZA[TA.key]=TA.meta)}else YA={},ZA={};const me=YA.front??KA??null,ke=ty(fe),ht=ay(ke);console.log("[InkWise Builder] === Preview capture results ==="),console.log("[InkWise Builder] Preview images count:",Object.keys(YA).length),console.log("[InkWise Builder] Has primary preview:",!!me),console.log("[InkWise Builder] SVG will be generated server-side from design JSON"),console.log("[InkWise Builder] Primary preview length:",me?me.length:0,"bytes"),Object.keys(YA).length===0&&(console.error("[InkWise Builder]   WARNING: No preview images were captured!"),console.error("[InkWise Builder] The template will be saved with a blank white preview."));let Je=me;if(Je)console.log("[InkWise Builder]  Using captured preview of",Je.length,"bytes");else{console.warn("[InkWise Builder]   No preview captured, creating fallback white preview"),console.warn("[InkWise Builder] This indicates the canvas capture failed for all pages!");const dA=document.createElement("canvas");dA.width=400,dA.height=400;const bA=dA.getContext("2d");bA.fillStyle="#ffffff",bA.fillRect(0,0,400,400),Je=dA.toDataURL("image/png"),console.warn("[InkWise Builder] Created dummy preview of length:",Je.length)}const Br=!!Je,Gt=F.pages.filter(dA=>{var bA;return dA.pageType==="front"||((bA=dA.metadata)==null?void 0:bA.side)==="front"}),Me=F.pages.filter(dA=>{var bA;return dA.pageType==="back"||((bA=dA.metadata)==null?void 0:bA.side)==="back"}),Ve={...F,pages:Gt.length>0?Gt:A.currentSide==="front"?F.pages:[]},GA={...F,pages:Me.length>0?Me:A.currentSide==="back"?F.pages:[]},ee={design:Ve,design_back:GA,template_name:((BA=A.template)==null?void 0:BA.name)??null,template:{width_inch:((MA=A.template)==null?void 0:MA.width_inch)??null,height_inch:((PA=A.template)==null?void 0:PA.height_inch)??null,fold_type:((EA=A.template)==null?void 0:EA.fold_type)??null,sizes:((mA=A.template)==null?void 0:mA.sizes)??null,selected_sizes:A.selectedSizes??[],page_width_px:(a==null?void 0:a.width)??null,page_height_px:(a==null?void 0:a.height)??null,page_background:(a==null?void 0:a.background)??null}};if(iA&&(ee.save_context={scope:"page",page_id:iA}),Br&&(ee.preview_image=Je),ht&&(ee.svg_markup=ht),Object.keys(YA).length>0&&(ee.preview_images=YA,ee.preview_images_meta=ZA),Ee&&(ee.preview_images_truncated=!0),Ae.length>0&&(ee.capture_diagnostics=Ae),ee.preview_image||(console.log("[InkWise Builder] No preview captured, using dummy"),ee.preview_image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="),nA&&ee.preview_image)try{const dA=JSON.stringify(F);await fetch(nA,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t},body:JSON.stringify({png:ee.preview_image,json:dA})})}catch(dA){console.warn("[InkWise Builder] saveDesign fallback failed",dA)}console.log("[InkWise Builder] === Final payload validation ==="),console.log("[InkWise Builder] Design pages:",((zA=F.pages)==null?void 0:zA.length)||0),console.log("[InkWise Builder] Design nodes in page 0:",((xe=(ne=(NA=F.pages)==null?void 0:NA[0])==null?void 0:ne.nodes)==null?void 0:xe.length)||0),console.log("[InkWise Builder] Preview image size:",((W=ee.preview_image)==null?void 0:W.length)||0,"bytes"),console.log("[InkWise Builder] SVG will be generated server-side from design JSON"),console.log("[InkWise Builder] Additional preview images:",Object.keys(ee.preview_images||{}).length),!F.pages||F.pages.length===0?console.error("[InkWise Builder]  CRITICAL: Design has no pages!"):(!F.pages[0].nodes||F.pages[0].nodes.length===0)&&(console.error("[InkWise Builder]  CRITICAL: First page has no nodes (design elements)!"),console.error("[InkWise Builder] This will result in an empty template being saved."));const{prepared:ce,id:yA}=qC(ee);ce.compressed&&console.info("[InkWise Builder]  Compressed manual-save payload.",{originalBytes:ce.originalBytes,compressedBytes:ce.compressedBytes,requestBytes:ce.bodyBytes,variant:yA,threshold:Mo}),ce.bodyBytes>rr&&console.error("[InkWise Builder]  Manual save payload still exceeds failsafe limit after trimming.",{bodyBytes:ce.bodyBytes,limit:rr,variant:yA}),console.log("[InkWise Builder] === Sending save request to server ===");const Te=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t,...ce.headers},credentials:"same-origin",body:ce.body});if(!Te.ok){let dA="Failed to save template";if((Te.headers.get("Content-Type")||"").includes("application/json"))try{const FA=await Te.clone().json();if(typeof(FA==null?void 0:FA.message)=="string"&&FA.message.trim()!=="")dA=FA.message.trim();else if(FA!=null&&FA.errors&&typeof FA.errors=="object"){const TA=Object.values(FA.errors)[0];Array.isArray(TA)&&typeof TA[0]=="string"&&(dA=TA[0])}}catch(FA){console.warn("[InkWise Builder] Failed to parse error response JSON.",FA)}else{const FA=await Te.text();FA&&FA.trim().length>0&&(dA=FA.trim())}throw new Error(dA)}const Ne=await Te.json().catch(()=>({})),Bt=new Date().toISOString();Y(Bt);const Ie=(Ne==null?void 0:Ne.redirect)||(e==null?void 0:e.index)||"/staff/templates";window.location.href=Ie}catch(F){console.error("[InkWise Builder] Template save failed:",F),y(F.message||"Failed to save template"),r({type:"HIDE_PREVIEW_MODAL"})}finally{$==null||$.classList.remove("builder-exporting"),p(!1),N.current=!1}},[R,t,B,A,e,r]);return f.useEffect(()=>{if(typeof window>"u")return;const D=($={})=>rA($);return window.inkwiseSaveTemplate=D,()=>{window.inkwiseSaveTemplate===D&&delete window.inkwiseSaveTemplate}},[rA]),i.jsx(ko,{onReset:E,templateId:(k=A.template)==null?void 0:k.id,children:i.jsxs("div",{className:"builder-shell",role:"application","aria-label":"InkWise template builder",children:[i.jsx(KC,{}),i.jsx(Lo,{autosaveStatus:o,lastSavedAt:d,onSaveTemplate:rA,isSavingTemplate:B,lastManualSaveAt:Q,saveError:C}),i.jsxs("div",{className:"builder-workspace",style:{gridTemplateColumns:n?"60px minmax(0, 1fr) 340px":"600px minmax(0, 1fr) 340px"},children:[i.jsx(Jb,{isSidebarHidden:n,onToggleSidebar:V}),i.jsxs("main",{className:"builder-canvas-column","aria-live":"polite",children:[i.jsx("div",{className:"builder-canvas-header",children:i.jsx(hC,{})}),i.jsx(Ho,{page:a,canvasRef:M}),i.jsx(NC,{})]}),i.jsx("aside",{className:"builder-right-column","aria-label":"Inspector panels",children:i.jsx(oC,{})})]}),i.jsx(Tu,{isOpen:A.showPreviewModal,onClose:()=>r({type:"HIDE_PREVIEW_MODAL"})})]})})}function To({bootstrap:A}){const e=(A==null?void 0:A.template)??{},t=(A==null?void 0:A.routes)??{},r=(A==null?void 0:A.flags)??{},a=(A==null?void 0:A.user)??null,n=(A==null?void 0:A.csrfToken)??"";return i.jsx(Io,{template:e,routes:t,flags:r,user:a,csrfToken:n,children:i.jsx(ny,{})})}To.propTypes={bootstrap:kA.shape({template:kA.object,routes:kA.object,flags:kA.object,user:kA.object,csrfToken:kA.string})};To.defaultProps={bootstrap:{}};function iy(){const A=document.getElementById("inkwise-builder-bootstrap");if(!A)return console.warn("[InkWise Builder] Bootstrap JSON not found. Falling back to legacy window payload."),window.inkwiseTemplateBootstrap||{};try{return JSON.parse(A.textContent||"{}")}catch(e){return console.error("[InkWise Builder] Failed to parse bootstrap JSON.",e),{}}}const sy=iy(),Us=document.getElementById("template-builder-app");Us?(Us.classList.add("inkwise-builder--hydrated"),gg.createRoot(Us).render(i.jsx(ci.StrictMode,{children:i.jsx(To,{bootstrap:sy})}))):console.error("[InkWise Builder] Root element not found.");
